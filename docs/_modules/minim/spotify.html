<!doctype html>
<html class="no-js" lang="en" data-content_root="../../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><link rel="index" title="Index" href="../../genindex.html" /><link rel="search" title="Search" href="../../search.html" />

    <link rel="shortcut icon" href="../../_static/favicon.ico"/><!-- Generated with Sphinx 7.2.6 and Furo 2023.09.10 -->
        <title>minim.spotify - Minim 1.0.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo.css?v=135e06be" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css?v=be8a1c11" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo-extensions.css?v=36a5483c" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../index.html"><div class="brand">Minim 1.0.0 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon no-toc" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="../../_static/icon.svg" alt="Logo"/>
  </div>
  
  
</a><form class="sidebar-search-container" method="get" action="../../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul>
<li class="toctree-l1"><a class="reference internal" href="../../index.html">Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../notebooks/getting_started.html">Getting Started</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../user_guide.html">User Guide</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of User Guide</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../notebooks/user_guide/editing_audio_metadata.html">Editing Audio Metadata</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../notebooks/user_guide/getting_recommendations.html">Getting Recommendations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../notebooks/user_guide/transferring_music_libraries.html">Transferring Music Libraries</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../api/minim.html">API Reference</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of API Reference</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../api/minim.audio.html">audio</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of audio</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../api/minim.audio.Audio.html">Audio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/minim.audio.FLACAudio.html">FLACAudio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/minim.audio.MP3Audio.html">MP3Audio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/minim.audio.MP4Audio.html">MP4Audio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/minim.audio.WAVEAudio.html">WAVEAudio</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../api/minim.itunes.html">itunes</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of itunes</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../api/minim.itunes.SearchAPI.html">SearchAPI</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../api/minim.qobuz.html">qobuz</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of qobuz</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../api/minim.qobuz.PrivateAPI.html">PrivateAPI</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../api/minim.spotify.html">spotify</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle navigation of spotify</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../api/minim.spotify.PrivateLyricsService.html">PrivateLyricsService</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/minim.spotify.WebAPI.html">WebAPI</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../api/minim.tidal.html">tidal</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle navigation of tidal</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../api/minim.tidal.API.html">API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/minim.tidal.PrivateAPI.html">PrivateAPI</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../api/minim.utility.html">utility</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle navigation of utility</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../api/minim.utility.format_multivalue.html">format_multivalue</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/minim.utility.gestalt_ratios.html">gestalt_ratios</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/minim.utility.levenshtein_ratios.html">levenshtein_ratios</a></li>
</ul>
</li>
</ul>
</li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon no-toc" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <h1>Source code for minim.spotify</h1><div class="highlight"><pre>
<span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Spotify</span>
<span class="sd">=======</span>
<span class="sd">.. moduleauthor:: Benjamin Ye &lt;GitHub: @bbye98&gt;</span>

<span class="sd">This module contains a complete implementation of all Spotify Web API </span>
<span class="sd">endpoints and a minimal implementation to use the private Spotify Lyrics</span>
<span class="sd">service.</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">from</span> <span class="nn">http.server</span> <span class="kn">import</span> <span class="n">HTTPServer</span><span class="p">,</span> <span class="n">BaseHTTPRequestHandler</span>
<span class="kn">from</span> <span class="nn">multiprocessing</span> <span class="kn">import</span> <span class="n">Process</span>

<span class="k">try</span><span class="p">:</span>
    <span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">Flask</span><span class="p">,</span> <span class="n">request</span>
    <span class="n">FOUND_FLASK</span> <span class="o">=</span> <span class="kc">True</span>
<span class="k">except</span> <span class="ne">ModuleNotFoundError</span><span class="p">:</span>
    <span class="n">FOUND_FLASK</span> <span class="o">=</span> <span class="kc">False</span>
 
<span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">base64</span><span class="p">,</span> <span class="n">datetime</span><span class="p">,</span> <span class="n">hashlib</span><span class="p">,</span> <span class="n">json</span><span class="p">,</span> <span class="n">logging</span><span class="p">,</span> <span class="n">os</span><span class="p">,</span> <span class="n">re</span><span class="p">,</span> <span class="n">requests</span><span class="p">,</span> <span class="n">secrets</span><span class="p">,</span> <span class="n">time</span><span class="p">,</span>
    <span class="n">urllib</span><span class="p">,</span> <span class="n">warnings</span><span class="p">,</span> <span class="n">webbrowser</span><span class="p">,</span>
    <span class="n">FOUND_PLAYWRIGHT</span><span class="p">,</span> <span class="n">DIR_HOME</span><span class="p">,</span> <span class="n">DIR_TEMP</span><span class="p">,</span> <span class="n">Any</span><span class="p">,</span> <span class="n">Union</span><span class="p">,</span> <span class="n">config</span>
<span class="p">)</span>

<span class="k">if</span> <span class="n">FOUND_PLAYWRIGHT</span><span class="p">:</span>
    <span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">sync_playwright</span>

<span class="n">__all__</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;PrivateLyricsService&quot;</span><span class="p">,</span> <span class="s2">&quot;WebAPI&quot;</span><span class="p">]</span>

<span class="k">class</span> <span class="nc">_SpotifyRedirectHandler</span><span class="p">(</span><span class="n">BaseHTTPRequestHandler</span><span class="p">):</span>
<span class="w">    </span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    HTTP request handler for the Spotify authorization code flow.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">do_GET</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Handles an incoming GET request and parses the query string.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">response</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
            <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">parse_qsl</span><span class="p">(</span>
                <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlparse</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">query</span>
            <span class="p">)</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">send_response</span><span class="p">(</span><span class="mi">200</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">send_header</span><span class="p">(</span><span class="s2">&quot;Content-Type&quot;</span><span class="p">,</span> <span class="s2">&quot;text/html&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">end_headers</span><span class="p">()</span>
        <span class="n">status</span> <span class="o">=</span> <span class="s2">&quot;denied&quot;</span> <span class="k">if</span> <span class="s2">&quot;error&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">response</span> <span class="k">else</span> <span class="s2">&quot;granted&quot;</span> 
        <span class="bp">self</span><span class="o">.</span><span class="n">wfile</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Access </span><span class="si">{</span><span class="n">status</span><span class="si">}</span><span class="s2">. You may close this page now.&quot;</span><span class="o">.</span><span class="n">encode</span><span class="p">())</span>

<div class="viewcode-block" id="PrivateLyricsService">
<a class="viewcode-back" href="../../api/minim.spotify.PrivateLyricsService.html#minim.spotify.PrivateLyricsService">[docs]</a>
<span class="k">class</span> <span class="nc">PrivateLyricsService</span><span class="p">:</span>

<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Spotify Lyrics service client.</span>

<span class="sd">    The Spotify Lyrics service, which is powered by Musixmatch (or </span>
<span class="sd">    PetitLyrics in Japan), provides line- or word-synced lyrics for </span>
<span class="sd">    Spotify tracks when available. The Spotify Lyrics interface is not</span>
<span class="sd">    publicly documented, so its endpoints have been determined by </span>
<span class="sd">    watching HTTP network traffic.</span>

<span class="sd">    .. attention::</span>

<span class="sd">       As the Spotify Lyrics service is not designed to be publicly</span>
<span class="sd">       accessible, this class can be disabled or removed at any time to</span>
<span class="sd">       ensure compliance with the `Spotify Developer Terms of Service</span>
<span class="sd">       &lt;https://developer.spotify.com/terms&gt;`_.</span>

<span class="sd">    Requests to the Spotify Lyrics endpoints must be accompanied by a</span>
<span class="sd">    valid access token in the header. An access token can be obtained</span>
<span class="sd">    using the Spotify Web Player :code:`sp_dc` cookie, which must either</span>
<span class="sd">    be provided to this class&#39;s constructor as a keyword argument or be</span>
<span class="sd">    stored as :code:`SPOTIFY_SP_DC` in the operating system&#39;s </span>
<span class="sd">    environment variables.</span>

<span class="sd">    .. hint::</span>

<span class="sd">       The :code:`sp_dc` cookie can be extracted from the local storage</span>
<span class="sd">       of your web browser after you log into Spotify.</span>

<span class="sd">    If an existing access token is available, it and its expiry time can</span>
<span class="sd">    be provided to this class&#39;s constructor as keyword arguments to</span>
<span class="sd">    bypass the access token exchange process. It is recommended that all</span>
<span class="sd">    other authentication-related keyword arguments be specified so that </span>
<span class="sd">    a new access token can be obtained when the existing one expires.</span>

<span class="sd">    .. tip::</span>

<span class="sd">       The :code:`sp_dc` cookie and access token can be changed or </span>
<span class="sd">       updated at any time using :meth:`set_sp_dc` and </span>
<span class="sd">       :meth:`set_access_token`, respectively.</span>
<span class="sd">    </span>
<span class="sd">    Minim also stores and manages access tokens and their properties. </span>
<span class="sd">    When an access token is acquired, it is automatically saved to the</span>
<span class="sd">    Minim configuration file to be loaded on the next instantiation of </span>
<span class="sd">    this class. This behavior can be disabled if there are any security</span>
<span class="sd">    concerns, like if the computer being used is a shared device.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    sp_dc : `str`, optional</span>
<span class="sd">        Spotify Web Player :code:`sp_dc` cookie. If it is not stored</span>
<span class="sd">        as :code:`SPOTIFY_SP_DC` in the operating system&#39;s environment</span>
<span class="sd">        variables or found in the Minim configuration file, it must be</span>
<span class="sd">        provided here.</span>

<span class="sd">    access_token : `str`, keyword-only, optional</span>
<span class="sd">        Access token. If provided here or found in the Minim </span>
<span class="sd">        configuration file, the authentication process is bypassed. In </span>
<span class="sd">        the former case, all other relevant keyword arguments should be</span>
<span class="sd">        specified to automatically refresh the access token when it </span>
<span class="sd">        expires.</span>

<span class="sd">    expiry : `datetime.datetime` or `str`, keyword-only, optional</span>
<span class="sd">        Expiry time of `access_token` in the ISO 8601 format</span>
<span class="sd">        :code:`%Y-%m-%dT%H:%M:%SZ`. If provided, the user will be </span>
<span class="sd">        reauthenticated when `access_token` expires.</span>

<span class="sd">    save : `bool`, keyword-only, default: :code:`True`</span>
<span class="sd">        Determines whether newly obtained access tokens and their</span>
<span class="sd">        associated properties are stored to the Minim configuration </span>
<span class="sd">        file.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    LYRICS_URL : `str`</span>
<span class="sd">        Base URL for the Spotify Lyrics service.</span>

<span class="sd">    TOKEN_URL : `str`</span>
<span class="sd">        URL for the Spotify Web Player access token endpoint.</span>

<span class="sd">    session : `requests.Session`</span>
<span class="sd">        Session used to send requests to the Spotify Lyrics service.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_NAME</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="vm">__module__</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="vm">__qualname__</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="n">LYRICS_URL</span> <span class="o">=</span> <span class="s2">&quot;https://spclient.wg.spotify.com/color-lyrics/v2&quot;</span>
    <span class="n">TOKEN_URL</span> <span class="o">=</span> <span class="s2">&quot;https://open.spotify.com/get_access_token&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">sp_dc</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">access_token</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">expiry</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">save</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create a Spotify Lyrics service client.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">session</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">Session</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="s2">&quot;App-Platform&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;WebPlayer&quot;</span>

        <span class="k">if</span> <span class="n">access_token</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">config</span><span class="o">.</span><span class="n">has_section</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_NAME</span><span class="p">):</span>
            <span class="n">sp_dc</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_NAME</span><span class="p">,</span> <span class="s2">&quot;sp_dc&quot;</span><span class="p">)</span>
            <span class="n">access_token</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_NAME</span><span class="p">,</span> <span class="s2">&quot;access_token&quot;</span><span class="p">)</span>
            <span class="n">expiry</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_NAME</span><span class="p">,</span> <span class="s2">&quot;expiry&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">set_sp_dc</span><span class="p">(</span><span class="n">sp_dc</span><span class="p">,</span> <span class="n">save</span><span class="o">=</span><span class="n">save</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_access_token</span><span class="p">(</span><span class="n">access_token</span><span class="o">=</span><span class="n">access_token</span><span class="p">,</span> <span class="n">expiry</span><span class="o">=</span><span class="n">expiry</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_json</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Send a GET request and return the JSON-encoded content of the </span>
<span class="sd">        response.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        url : `str`</span>
<span class="sd">            URL for the GET request.</span>
<span class="sd">        </span>
<span class="sd">        **kwargs</span>
<span class="sd">            Keyword arguments to pass to :meth:`requests.request`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        resp : `dict`</span>
<span class="sd">            JSON-encoded content of the response.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span><span class="s2">&quot;get&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_request</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="n">method</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">retry</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
        <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">:</span>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Construct and send a request, but with status code checking.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        method : `str`</span>
<span class="sd">            Method for the request.</span>

<span class="sd">        url : `str`</span>
<span class="sd">            URL for the request.</span>

<span class="sd">        retry : `bool`</span>
<span class="sd">            Specifies whether to retry the request if the response has</span>
<span class="sd">            a non-2xx status code.</span>
<span class="sd">            </span>
<span class="sd">        **kwargs</span>
<span class="sd">            Keyword arguments passed to :meth:`requests.request`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        resp : `requests.Response`</span>
<span class="sd">            Response to the request.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_expiry</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">_expiry</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_access_token</span><span class="p">()</span>

        <span class="n">r</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="n">method</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">r</span><span class="o">.</span><span class="n">status_code</span> <span class="o">!=</span> <span class="mi">200</span><span class="p">:</span>
            <span class="n">emsg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">r</span><span class="o">.</span><span class="n">status_code</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">r</span><span class="o">.</span><span class="n">reason</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="k">if</span> <span class="n">r</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">401</span> <span class="ow">and</span> <span class="n">retry</span><span class="p">:</span>
                <span class="n">logging</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="n">emsg</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">set_access_token</span><span class="p">()</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span><span class="n">method</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="n">emsg</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">r</span>

<div class="viewcode-block" id="PrivateLyricsService.set_sp_dc">
<a class="viewcode-back" href="../../api/minim.spotify.PrivateLyricsService.html#minim.spotify.PrivateLyricsService.set_sp_dc">[docs]</a>
    <span class="k">def</span> <span class="nf">set_sp_dc</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sp_dc</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">save</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set the Spotify Web Player :code:`sp_dc` cookie.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        sp_dc : `str`, optional</span>
<span class="sd">            Spotify Web Player :code:`sp_dc` cookie.</span>

<span class="sd">        save : `bool`, keyword-only, default: :code:`True`</span>
<span class="sd">            Determines whether to save the newly obtained access tokens </span>
<span class="sd">            and their associated properties to the Minim configuration </span>
<span class="sd">            file.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_sp_dc</span> <span class="o">=</span> <span class="n">sp_dc</span> <span class="ow">or</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;SPOTIFY_SP_DC&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_save</span> <span class="o">=</span> <span class="n">save</span></div>


<div class="viewcode-block" id="PrivateLyricsService.set_access_token">
<a class="viewcode-back" href="../../api/minim.spotify.PrivateLyricsService.html#minim.spotify.PrivateLyricsService.set_access_token">[docs]</a>
    <span class="k">def</span> <span class="nf">set_access_token</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="n">access_token</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> 
            <span class="n">expiry</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set the Spotify Lyrics service access token.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        access_token : `str`, optional</span>
<span class="sd">            Access token. If not provided, an access token is obtained</span>
<span class="sd">            from the Spotify Web Player using the :code:`sp_dc` cookie.</span>

<span class="sd">        expiry : `str` or `datetime.datetime`, keyword-only, optional</span>
<span class="sd">            Access token expiry timestamp in the ISO 8601 format</span>
<span class="sd">            :code:`%Y-%m-%dT%H:%M:%SZ`. If provided, the user will be</span>
<span class="sd">            reauthenticated (if `sp_dc` is found or provided) when the</span>
<span class="sd">            `access_token` expires.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">access_token</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sp_dc</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Missing sp_dc cookie.&quot;</span><span class="p">)</span>
            
            <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">TOKEN_URL</span><span class="p">,</span>
                <span class="n">headers</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;cookie&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;sp_dc=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_sp_dc</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">},</span>
                <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;reason&quot;</span><span class="p">:</span> <span class="s2">&quot;transport&quot;</span><span class="p">,</span> <span class="s2">&quot;productType&quot;</span><span class="p">:</span> <span class="s2">&quot;web_player&quot;</span><span class="p">}</span>
            <span class="p">)</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">r</span><span class="p">[</span><span class="s2">&quot;isAnonymous&quot;</span><span class="p">]:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Invalid sp_dc cookie.&quot;</span><span class="p">)</span>
            <span class="n">access_token</span> <span class="o">=</span> <span class="n">r</span><span class="p">[</span><span class="s2">&quot;accessToken&quot;</span><span class="p">]</span>
            <span class="n">expiry</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">fromtimestamp</span><span class="p">(</span>
                <span class="n">r</span><span class="p">[</span><span class="s2">&quot;accessTokenExpirationTimestampMs&quot;</span><span class="p">]</span> <span class="o">/</span> <span class="mi">1000</span>
            <span class="p">)</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_save</span><span class="p">:</span>
                <span class="n">config</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_NAME</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s2">&quot;sp_dc&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sp_dc</span><span class="p">,</span>
                    <span class="s2">&quot;access_token&quot;</span><span class="p">:</span> <span class="n">access_token</span><span class="p">,</span>
                    <span class="s2">&quot;expiry&quot;</span><span class="p">:</span> <span class="n">expiry</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">T%H:%M:%SZ&quot;</span><span class="p">)</span>
                <span class="p">}</span>
                <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">DIR_HOME</span> <span class="o">/</span> <span class="s2">&quot;minim.cfg&quot;</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                    <span class="n">config</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="s2">&quot;Authorization&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Bearer </span><span class="si">{</span><span class="n">access_token</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_expiry</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">expiry</span><span class="p">,</span> <span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">T%H:%M:%SZ&quot;</span><span class="p">)</span> 
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">expiry</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="k">else</span> <span class="n">expiry</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="PrivateLyricsService.get_lyrics">
<a class="viewcode-back" href="../../api/minim.spotify.PrivateLyricsService.html#minim.spotify.PrivateLyricsService.get_lyrics">[docs]</a>
    <span class="k">def</span> <span class="nf">get_lyrics</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">track_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get lyrics for a Spotify track.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        track_id : `str`</span>
<span class="sd">            The Spotify ID for the track.</span>

<span class="sd">            **Example**: :code:`&quot;0VjIjW4GlUZAMYd2vXMi3b&quot;`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        lyrics : `dict`</span>
<span class="sd">            Formatted or time-synced lyrics.</span>

<span class="sd">            .. admonition:: Sample response</span>
<span class="sd">               :class: dropdown</span>

<span class="sd">               .. code::</span>

<span class="sd">                  {</span>
<span class="sd">                    &quot;lyrics&quot;: {</span>
<span class="sd">                      &quot;syncType&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;lines&quot;: [</span>
<span class="sd">                        {</span>
<span class="sd">                          &quot;startTimeMs&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;words&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;syllables&quot;: [],</span>
<span class="sd">                          &quot;endTimeMs&quot;: &lt;str&gt;</span>
<span class="sd">                        }</span>
<span class="sd">                      ],</span>
<span class="sd">                      &quot;provider&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;providerLyricsId&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;providerDisplayName&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;syncLyricsUri&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;isDenseTypeface&quot;: &lt;bool&gt;,</span>
<span class="sd">                      &quot;alternatives&quot;: [],</span>
<span class="sd">                      &quot;language&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;isRtlLanguage&quot;: &lt;bool&gt;,</span>
<span class="sd">                      &quot;fullscreenAction&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;showUpsell&quot;: &lt;bool&gt;</span>
<span class="sd">                    },</span>
<span class="sd">                    &quot;colors&quot;: {</span>
<span class="sd">                      &quot;background&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;text&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;highlightText&quot;: &lt;int&gt;</span>
<span class="sd">                    },</span>
<span class="sd">                    &quot;hasVocalRemoval&quot;: &lt;bool&gt;</span>
<span class="sd">                  }</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_json</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">LYRICS_URL</span><span class="si">}</span><span class="s2">/track/</span><span class="si">{</span><span class="n">track_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                              <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;format&quot;</span><span class="p">:</span> <span class="s2">&quot;json&quot;</span><span class="p">,</span>
                                      <span class="s2">&quot;market&quot;</span><span class="p">:</span> <span class="s2">&quot;from_token&quot;</span><span class="p">})</span></div>
</div>


<div class="viewcode-block" id="WebAPI">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI">[docs]</a>
<span class="k">class</span> <span class="nc">WebAPI</span><span class="p">:</span>

<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Spotify Web API client.</span>

<span class="sd">    The Spotify Web API enables the creation of applications that can</span>
<span class="sd">    interact with Spotify&#39;s streaming service, such as retrieving </span>
<span class="sd">    content metadata, getting recommendations, creating and managing</span>
<span class="sd">    playlists, or controlling playback.</span>

<span class="sd">    .. important::</span>

<span class="sd">       * Spotify content may not be downloaded.</span>
<span class="sd">       * Keep visual content in its original form.</span>
<span class="sd">       * Ensure content attribution.</span>

<span class="sd">    .. seealso::</span>

<span class="sd">       For more information, see the `Spotify Web API Reference</span>
<span class="sd">       &lt;https://developer.spotify.com/documentation/web-api&gt;`_.</span>

<span class="sd">    Requests to the Spotify Web API endpoints must be accompanied by a</span>
<span class="sd">    valid access token in the header. An access token can be obtained</span>
<span class="sd">    with or without user authentication. While authentication is not </span>
<span class="sd">    necessary to search for and retrieve data from public content, it</span>
<span class="sd">    is required to access personal content and control playback. </span>
<span class="sd">    </span>
<span class="sd">    Minim can obtain client-only access tokens via the `client </span>
<span class="sd">    credentials &lt;https://developer.spotify.com/documentation/general</span>
<span class="sd">    /guides/authorization/client-credentials/&gt;`_ flow and user access</span>
<span class="sd">    tokens via the `authorization code &lt;https://developer.spotify.com</span>
<span class="sd">    /documentation/web-api/tutorials/code-flow&gt;`_ and `authorization </span>
<span class="sd">    code with proof key for code exchange (PKCE) </span>
<span class="sd">    &lt;https://developer.spotify.com/documentation/web-api/tutorials/</span>
<span class="sd">    code-pkce-flow&gt;`_ flows. These OAuth 2.0 authorization flows </span>
<span class="sd">    require valid client credentials (client ID and client secret) to</span>
<span class="sd">    either be provided to this class&#39;s constructor as keyword arguments</span>
<span class="sd">    or be stored as :code:`SPOTIFY_CLIENT_ID` and</span>
<span class="sd">    :code:`SPOTIFY_CLIENT_SECRET` in the operating system&#39;s environment</span>
<span class="sd">    variables. </span>
<span class="sd">    </span>
<span class="sd">    .. seealso::</span>

<span class="sd">       To get client credentials, see the `guide on how to create a new</span>
<span class="sd">       Spotify application &lt;https://developer.spotify.com/documentation</span>
<span class="sd">       /general/guides/authorization/app-settings/&gt;`_. To take advantage</span>
<span class="sd">       of Minim&#39;s automatic authorization code retrieval functionality </span>
<span class="sd">       for the authorization code (with PKCE) flow, the redirect URI </span>
<span class="sd">       should be in the form :code:`http://localhost:{port}/callback`, </span>
<span class="sd">       where :code:`{port}` is an open port on :code:`localhost`.</span>
<span class="sd">    </span>
<span class="sd">    Alternatively, a access token can be acquired without client </span>
<span class="sd">    credentials through the Spotify Web Player, but this approach is not</span>
<span class="sd">    recommended and should only be used as a last resort since it is not</span>
<span class="sd">    officially supported and can be deprecated by Spotify at any time.</span>
<span class="sd">    The access token is client-only unless a Spotify Web Player</span>
<span class="sd">    :code:`sp_dc` cookie is either provided to this class&#39;s constructor</span>
<span class="sd">    as a keyword argument or be stored as :code:`SPOTIFY_SP_DC` in the</span>
<span class="sd">    operating system&#39;s environment variables, in which case a user </span>
<span class="sd">    access token with all authorization scopes is granted instead.</span>

<span class="sd">    If an existing access token is available, it and its accompanying</span>
<span class="sd">    information (refresh token and expiry time) can be provided to this</span>
<span class="sd">    class&#39;s constructor as keyword arguments to bypass the access token</span>
<span class="sd">    retrieval process. It is recommended that all other</span>
<span class="sd">    authentication-related keyword arguments be specified so that a new</span>
<span class="sd">    access token can be obtained when the existing one expires.</span>

<span class="sd">    .. tip::</span>

<span class="sd">       The authorization flow and access token can be changed or updated</span>
<span class="sd">       at any time using :meth:`set_flow` and :meth:`set_access_token`,</span>
<span class="sd">       respectively.</span>

<span class="sd">    Minim also stores and manages access tokens and their properties. </span>
<span class="sd">    When any of the authorization flows above are used to acquire an </span>
<span class="sd">    access token, it is automatically saved to the Minim configuration </span>
<span class="sd">    file to be loaded on the next instantiation of this class. This </span>
<span class="sd">    behavior can be disabled if there are any security concerns, like if </span>
<span class="sd">    the computer being used is a shared device.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    client_id : `str`, keyword-only, optional</span>
<span class="sd">        Client ID. Required for the authorization code and client </span>
<span class="sd">        credentials flows. If it is not stored as </span>
<span class="sd">        :code:`SPOTIFY_CLIENT_ID` in the operating system&#39;s environment</span>
<span class="sd">        variables or found in the Minim configuration file, it must be</span>
<span class="sd">        provided here.</span>

<span class="sd">    client_secret : `str`, keyword-only, optional</span>
<span class="sd">        Client secret. Required for the authorization code and client</span>
<span class="sd">        credentials flows. If it is not stored as</span>
<span class="sd">        :code:`SPOTIFY_CLIENT_SECRET` in the operating system&#39;s</span>
<span class="sd">        environment variables or found in the Minim configuration file,</span>
<span class="sd">        it must be provided here.</span>

<span class="sd">    flow : `str`, keyword-only, default: :code:`&quot;web_player&quot;`</span>
<span class="sd">        Authorization flow.</span>

<span class="sd">        .. container::</span>

<span class="sd">           **Valid values**:</span>
<span class="sd">           </span>
<span class="sd">           * :code:`&quot;authorization_code&quot;` for the authorization code </span>
<span class="sd">             flow.</span>
<span class="sd">           * :code:`&quot;pkce&quot;` for the authorization code with proof</span>
<span class="sd">             key for code exchange (PKCE) flow.</span>
<span class="sd">           * :code:`&quot;client_credentials&quot;` for the client credentials </span>
<span class="sd">             flow.</span>
<span class="sd">           * :code:`&quot;web_player&quot;` for a Spotify Web Player access </span>
<span class="sd">             token.</span>
<span class="sd">    </span>
<span class="sd">    framework : `str`, keyword-only, optional</span>
<span class="sd">        Determines which web framework to use for the authorization code</span>
<span class="sd">        flow. </span>
<span class="sd">        </span>
<span class="sd">        .. container::</span>

<span class="sd">           **Valid values**:</span>

<span class="sd">           * :code:`&quot;http.server&quot;` for the built-in implementation of</span>
<span class="sd">             HTTP servers.</span>
<span class="sd">           * :code:`&quot;flask&quot;` for the Flask framework.</span>
<span class="sd">           * :code:`&quot;playwright&quot;` for the Playwright framework by </span>
<span class="sd">             Microsoft.</span>

<span class="sd">    port : `int` or `str`, keyword-only, default: :code:`8888`</span>
<span class="sd">        Port on :code:`localhost` to use for the authorization code</span>
<span class="sd">        flow with the Flask framework. Only used if `redirect_uri` is</span>
<span class="sd">        not specified.</span>

<span class="sd">    redirect_uri : `str`, keyword-only, optional</span>
<span class="sd">        Redirect URI for the authorization code flow. If not on</span>
<span class="sd">        :code:`localhost`, the automatic authorization code retrieval</span>
<span class="sd">        functionality is not available.</span>
<span class="sd">             </span>
<span class="sd">    scopes : `str` or `list`, keyword-only, optional</span>
<span class="sd">        Authorization scopes to request user access for in the</span>
<span class="sd">        authorization code flow. </span>
<span class="sd">        </span>
<span class="sd">        .. seealso::</span>

<span class="sd">           See :meth:`get_scopes` for the complete list of scopes.</span>

<span class="sd">    sp_dc : `str`, keyword-only, optional</span>
<span class="sd">        Spotify Web Player :code:`sp_dc` cookie to send with the access</span>
<span class="sd">        token request. If provided here, stored as :code:`SPOTIFY_SP_DC` </span>
<span class="sd">        in the operating system&#39;s environment variables, or found in the</span>
<span class="sd">        Minim configuration file, a user access token with all </span>
<span class="sd">        authorization scopes is obtained instead of a client-only access</span>
<span class="sd">        token.</span>
<span class="sd">           </span>
<span class="sd">    access_token : `str`, keyword-only, optional</span>
<span class="sd">        Access token. If provided here or found in the Minim </span>
<span class="sd">        configuration file, the authentication process is bypassed. In </span>
<span class="sd">        the former case, all other relevant keyword arguments should be</span>
<span class="sd">        specified to automatically refresh the access token when it </span>
<span class="sd">        expires.</span>
<span class="sd">    </span>
<span class="sd">    refresh_token : `str`, keyword-only, optional</span>
<span class="sd">        Refresh token accompanying `access_token`. If not provided,</span>
<span class="sd">        the user will be reauthenticated using the specified </span>
<span class="sd">        authorization flow when `access_token` expires.</span>

<span class="sd">    expiry : `datetime.datetime` or `str`, keyword-only, optional</span>
<span class="sd">        Expiry time of `access_token` in the ISO 8601 format</span>
<span class="sd">        :code:`%Y-%m-%dT%H:%M:%SZ`. If provided, the user will be </span>
<span class="sd">        reauthenticated using `refresh_token` (if available) or the</span>
<span class="sd">        specified authorization flow (if possible) when `access_token`</span>
<span class="sd">        expires.</span>

<span class="sd">    overwrite : `bool`, keyword-only, default: :code:`False`</span>
<span class="sd">        Determines whether to overwrite an existing access token in the</span>
<span class="sd">        Minim configuration file.</span>

<span class="sd">    save : `bool`, keyword-only, default: :code:`True`</span>
<span class="sd">        Determines whether newly obtained access tokens and their</span>
<span class="sd">        associated properties are stored to the Minim configuration </span>
<span class="sd">        file.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    API_URL : `str`</span>
<span class="sd">        Base URL for the Spotify Web API.</span>

<span class="sd">    AUTH_URL : `str`</span>
<span class="sd">        URL for Spotify Web API authorization code requests.</span>

<span class="sd">    TOKEN_URL : `str`</span>
<span class="sd">        URL for Spotify Web API access token requests.</span>

<span class="sd">    WEB_PLAYER_TOKEN_URL : `str`</span>
<span class="sd">        URL for Spotify Web Player access token requests.</span>

<span class="sd">    session : `requests.Session`</span>
<span class="sd">        Session used to send requests to the Spotify Web API.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_FLOWS</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;authorization_code&quot;</span><span class="p">,</span> <span class="s2">&quot;pkce&quot;</span><span class="p">,</span> <span class="s2">&quot;client_credentials&quot;</span><span class="p">,</span> <span class="s2">&quot;web_player&quot;</span><span class="p">}</span>
    <span class="n">_NAME</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="vm">__module__</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="vm">__qualname__</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="n">API_URL</span> <span class="o">=</span> <span class="s2">&quot;https://api.spotify.com/v1&quot;</span>
    <span class="n">AUTH_URL</span> <span class="o">=</span> <span class="s2">&quot;https://accounts.spotify.com/authorize&quot;</span>
    <span class="n">TOKEN_URL</span> <span class="o">=</span> <span class="s2">&quot;https://accounts.spotify.com/api/token&quot;</span>
    <span class="n">WEB_PLAYER_TOKEN_URL</span> <span class="o">=</span> <span class="s2">&quot;https://open.spotify.com/get_access_token&quot;</span>

<div class="viewcode-block" id="WebAPI.get_scopes">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.get_scopes">[docs]</a>
    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">get_scopes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">categories</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get Spotify Web API and Open Access authorization scopes for</span>
<span class="sd">        the specified categories.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        categories : `str` or `list`</span>
<span class="sd">            Categories of authorization scopes to get.</span>

<span class="sd">            .. container::</span>

<span class="sd">               **Valid values**:</span>

<span class="sd">               * :code:`&quot;images&quot;` for scopes related to custom images,</span>
<span class="sd">                 such as :code:`ugc-image-upload`.</span>
<span class="sd">               * :code:`&quot;spotify_connect&quot;` for scopes related to Spotify</span>
<span class="sd">                 Connect, such as</span>

<span class="sd">                 * :code:`user-read-playback-state`,</span>
<span class="sd">                 * :code:`user-modify-playback-state`, and</span>
<span class="sd">                 * :code:`user-read-currently-playing`.</span>

<span class="sd">               * :code:`&quot;playback&quot;` for scopes related to playback </span>
<span class="sd">                 control, such as :code:`app-remote-control` and</span>
<span class="sd">                 :code:`streaming`.</span>
<span class="sd">               * :code:`&quot;playlists&quot;` for scopes related to playlists,</span>
<span class="sd">                 such as</span>

<span class="sd">                 * :code:`playlist-read-private`,</span>
<span class="sd">                 * :code:`playlist-read-collaborative`,</span>
<span class="sd">                 * :code:`playlist-modify-private`, and</span>
<span class="sd">                 * :code:`playlist-modify-public`.</span>

<span class="sd">               * :code:`&quot;follow&quot;` for scopes related to followed artists</span>
<span class="sd">                 and users, such as :code:`user-follow-modify` and</span>
<span class="sd">                 :code:`user-follow-read`.</span>
<span class="sd">               * :code:`&quot;listening_history&quot;` for scopes related to </span>
<span class="sd">                 playback history, such as</span>

<span class="sd">                 * :code:`user-read-playback-position`,</span>
<span class="sd">                 * :code:`user-top-read`, and</span>
<span class="sd">                 * :code:`user-read-recently-played`.</span>

<span class="sd">               * :code:`&quot;library&quot;` for scopes related to saved content,</span>
<span class="sd">                 such as :code:`user-library-modify` and </span>
<span class="sd">                 :code:`user-library-read`.</span>
<span class="sd">               * :code:`&quot;users&quot;` for scopes related to user information,</span>
<span class="sd">                 such as :code:`user-read-email` and </span>
<span class="sd">                 :code:`user-read-private`.</span>
<span class="sd">               * :code:`&quot;all&quot;` for all scopes above.</span>
<span class="sd">               * A substring to match in the possible scopes, such as</span>

<span class="sd">                 * :code:`&quot;read&quot;` for all scopes above that grant read </span>
<span class="sd">                   access, i.e., scopes with :code:`read` in the name,</span>
<span class="sd">                 * :code:`&quot;modify&quot;` for all scopes above that grant </span>
<span class="sd">                   modify access, i.e., scopes with :code:`modify` in</span>
<span class="sd">                   the name, or</span>
<span class="sd">                 * :code:`&quot;user&quot;` for all scopes above that grant access</span>
<span class="sd">                   to all user-related information, i.e., scopes with</span>
<span class="sd">                   :code:`user` in the name.</span>

<span class="sd">            .. seealso::</span>

<span class="sd">               For the endpoints that the scopes allow access to, see the</span>
<span class="sd">               `Scopes page of the Spotify Web API Reference</span>
<span class="sd">               &lt;https://developer.spotify.com/documentation/web-api</span>
<span class="sd">               /concepts/scopes&gt;`_.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">SCOPES</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;images&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;ugc-image-upload&quot;</span><span class="p">],</span>
            <span class="s2">&quot;spotify_connect&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;user-read-playback-state&quot;</span><span class="p">,</span> 
                                <span class="s2">&quot;user-modify-playback-state&quot;</span><span class="p">,</span> 
                                <span class="s2">&quot;user-read-currently-playing&quot;</span><span class="p">],</span>
            <span class="s2">&quot;playback&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;app-remote-control streaming&quot;</span><span class="p">],</span>
            <span class="s2">&quot;playlists&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;playlist-read-private&quot;</span><span class="p">,</span> 
                          <span class="s2">&quot;playlist-read-collaborative&quot;</span><span class="p">,</span>
                          <span class="s2">&quot;playlist-modify-private&quot;</span><span class="p">,</span>
                          <span class="s2">&quot;playlist-modify-public&quot;</span><span class="p">],</span>
            <span class="s2">&quot;follow&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;user-follow-modify&quot;</span><span class="p">,</span> <span class="s2">&quot;user-follow-read&quot;</span><span class="p">],</span>
            <span class="s2">&quot;listening_history&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;user-read-playback-position&quot;</span><span class="p">,</span> 
                                  <span class="s2">&quot;user-top-read&quot;</span><span class="p">,</span> 
                                  <span class="s2">&quot;user-read-recently-played&quot;</span><span class="p">],</span>
            <span class="s2">&quot;library&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;user-library-modify&quot;</span><span class="p">,</span> <span class="s2">&quot;user-library-read&quot;</span><span class="p">],</span>
            <span class="s2">&quot;users&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;user-read-email&quot;</span><span class="p">,</span> <span class="s2">&quot;user-read-private&quot;</span><span class="p">]</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">categories</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">categories</span> <span class="ow">in</span> <span class="n">SCOPES</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="k">return</span> <span class="n">SCOPES</span><span class="p">[</span><span class="n">categories</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">categories</span> <span class="o">==</span> <span class="s2">&quot;all&quot;</span><span class="p">:</span>
                <span class="k">return</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">s</span> <span class="k">for</span> <span class="n">scopes</span> <span class="ow">in</span> <span class="n">SCOPES</span><span class="o">.</span><span class="n">values</span><span class="p">()</span> 
                                <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">scopes</span><span class="p">)</span>
            <span class="k">return</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">s</span> <span class="k">for</span> <span class="n">scopes</span> <span class="ow">in</span> <span class="n">SCOPES</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
                            <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">scopes</span> <span class="k">if</span> <span class="n">categories</span> <span class="ow">in</span> <span class="n">s</span><span class="p">)</span>
        
        <span class="k">return</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">s</span> 
                        <span class="k">for</span> <span class="n">scopes</span> <span class="ow">in</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_scopes</span><span class="p">[</span><span class="n">c</span><span class="p">]</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">categories</span><span class="p">)</span>
                        <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">scopes</span><span class="p">)</span></div>


    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">client_secret</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">flow</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;web_player&quot;</span><span class="p">,</span> <span class="n">framework</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">port</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="mi">8888</span><span class="p">,</span> <span class="n">redirect_uri</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">scopes</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">sp_dc</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">access_token</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">refresh_token</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> 
            <span class="n">expiry</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> 
            <span class="n">overwrite</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">save</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create a Spotify Web API client.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">session</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">Session</span><span class="p">()</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">access_token</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">config</span><span class="o">.</span><span class="n">has_section</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_NAME</span><span class="p">)</span> 
                <span class="ow">and</span> <span class="ow">not</span> <span class="n">overwrite</span><span class="p">):</span>
            <span class="n">flow</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_NAME</span><span class="p">,</span> <span class="s2">&quot;flow&quot;</span><span class="p">)</span>
            <span class="n">access_token</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_NAME</span><span class="p">,</span> <span class="s2">&quot;access_token&quot;</span><span class="p">)</span>
            <span class="n">refresh_token</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_NAME</span><span class="p">,</span> <span class="s2">&quot;refresh_token&quot;</span><span class="p">,</span> 
                                       <span class="n">fallback</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
            <span class="n">expiry</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_NAME</span><span class="p">,</span> <span class="s2">&quot;expiry&quot;</span><span class="p">,</span> <span class="n">fallback</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
            <span class="n">client_id</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_NAME</span><span class="p">,</span> <span class="s2">&quot;client_id&quot;</span><span class="p">)</span>
            <span class="n">client_secret</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_NAME</span><span class="p">,</span> <span class="s2">&quot;client_secret&quot;</span><span class="p">,</span> 
                                       <span class="n">fallback</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
            <span class="n">redirect_uri</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_NAME</span><span class="p">,</span> <span class="s2">&quot;redirect_uri&quot;</span><span class="p">,</span> 
                                      <span class="n">fallback</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
            <span class="n">scopes</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_NAME</span><span class="p">,</span> <span class="s2">&quot;scopes&quot;</span><span class="p">)</span>
            <span class="n">sp_dc</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_NAME</span><span class="p">,</span> <span class="s2">&quot;sp_dc&quot;</span><span class="p">,</span> <span class="n">fallback</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">set_flow</span><span class="p">(</span>
            <span class="n">flow</span><span class="p">,</span> <span class="n">client_id</span><span class="o">=</span><span class="n">client_id</span><span class="p">,</span> <span class="n">client_secret</span><span class="o">=</span><span class="n">client_secret</span><span class="p">,</span> 
            <span class="n">framework</span><span class="o">=</span><span class="n">framework</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="n">port</span><span class="p">,</span> <span class="n">redirect_uri</span><span class="o">=</span><span class="n">redirect_uri</span><span class="p">,</span> 
            <span class="n">scopes</span><span class="o">=</span><span class="n">scopes</span><span class="p">,</span> <span class="n">sp_dc</span><span class="o">=</span><span class="n">sp_dc</span><span class="p">,</span> <span class="n">save</span><span class="o">=</span><span class="n">save</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_access_token</span><span class="p">(</span><span class="n">access_token</span><span class="p">,</span> <span class="n">refresh_token</span><span class="o">=</span><span class="n">refresh_token</span><span class="p">,</span> 
                              <span class="n">expiry</span><span class="o">=</span><span class="n">expiry</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_check_scope</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">endpoint</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">scope</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Check if the user has granted the appropriate authorization</span>
<span class="sd">        scope for the desired endpoint.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        endpoint : `str`</span>
<span class="sd">            Spotify Web API endpoint.</span>

<span class="sd">        scope : `str`</span>
<span class="sd">            Required scope for `endpoint`.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">scope</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scopes</span><span class="p">:</span>
            <span class="n">emsg</span> <span class="o">=</span> <span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_NAME</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">endpoint</span><span class="si">}</span><span class="s2">() requires the &#39;</span><span class="si">{</span><span class="n">scope</span><span class="si">}</span><span class="s2">&#39; &quot;</span>
                    <span class="s2">&quot;authorization scope.&quot;</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="n">emsg</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_authorization_code</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">code_challenge</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get an authorization code to be exchanged for an access token in</span>
<span class="sd">        the authorization code flow.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        code_challenge : `str`, optional</span>
<span class="sd">            Code challenge for the authorization code with PKCE flow.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        auth_code : `str`</span>
<span class="sd">            Authorization code.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;client_id&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client_id</span><span class="p">,</span>
            <span class="s2">&quot;redirect_uri&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_redirect_uri</span><span class="p">,</span>
            <span class="s2">&quot;response_type&quot;</span><span class="p">:</span> <span class="s2">&quot;code&quot;</span><span class="p">,</span>
            <span class="s2">&quot;state&quot;</span><span class="p">:</span> <span class="n">secrets</span><span class="o">.</span><span class="n">token_urlsafe</span><span class="p">()</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scopes</span><span class="p">:</span>
            <span class="n">params</span><span class="p">[</span><span class="s2">&quot;scope&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scopes</span>
        <span class="k">if</span> <span class="n">code_challenge</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">params</span><span class="p">[</span><span class="s2">&quot;code_challenge&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">code_challenge</span>
            <span class="n">params</span><span class="p">[</span><span class="s2">&quot;code_challenge_method&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;S256&quot;</span>
        <span class="n">auth_url</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">AUTH_URL</span><span class="si">}</span><span class="s2">?</span><span class="si">{</span><span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlencode</span><span class="p">(</span><span class="n">params</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_framework</span> <span class="o">==</span> <span class="s2">&quot;http.server&quot;</span><span class="p">:</span>
            <span class="n">httpd</span> <span class="o">=</span> <span class="n">HTTPServer</span><span class="p">((</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_port</span><span class="p">),</span> <span class="n">_SpotifyRedirectHandler</span><span class="p">)</span>
            <span class="n">webbrowser</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">auth_url</span><span class="p">)</span>
            <span class="n">httpd</span><span class="o">.</span><span class="n">handle_request</span><span class="p">()</span>
            <span class="n">queries</span> <span class="o">=</span> <span class="n">httpd</span><span class="o">.</span><span class="n">response</span>

        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">_framework</span> <span class="o">==</span> <span class="s2">&quot;flask&quot;</span><span class="p">:</span>
            <span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>
            <span class="n">json_file</span> <span class="o">=</span> <span class="n">DIR_TEMP</span> <span class="o">/</span> <span class="s2">&quot;minim_spotify.json&quot;</span>

            <span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s2">&quot;/callback&quot;</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;GET&quot;</span><span class="p">])</span>
            <span class="k">def</span> <span class="nf">_callback</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
                <span class="k">if</span> <span class="s2">&quot;error&quot;</span> <span class="ow">in</span> <span class="n">request</span><span class="o">.</span><span class="n">args</span><span class="p">:</span>
                    <span class="k">return</span> <span class="s2">&quot;Access denied. You may close this page now.&quot;</span>
                <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">json_file</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                    <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">args</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span>
                <span class="k">return</span> <span class="s2">&quot;Access granted. You may close this page now.&quot;</span>

            <span class="n">server</span> <span class="o">=</span> <span class="n">Process</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">app</span><span class="o">.</span><span class="n">run</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;0.0.0.0&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_port</span><span class="p">))</span>
            <span class="n">server</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
            <span class="n">webbrowser</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">auth_url</span><span class="p">)</span>
            <span class="k">while</span> <span class="ow">not</span> <span class="n">json_file</span><span class="o">.</span><span class="n">is_file</span><span class="p">():</span>
                <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
            <span class="n">server</span><span class="o">.</span><span class="n">terminate</span><span class="p">()</span>

            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">json_file</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                <span class="n">queries</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
            <span class="n">json_file</span><span class="o">.</span><span class="n">unlink</span><span class="p">()</span>
        
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">_framework</span> <span class="o">==</span> <span class="s2">&quot;playwright&quot;</span><span class="p">:</span>
            <span class="n">har_file</span> <span class="o">=</span> <span class="n">DIR_TEMP</span> <span class="o">/</span> <span class="s2">&quot;minim_spotify.har&quot;</span>
            
            <span class="k">with</span> <span class="n">sync_playwright</span><span class="p">()</span> <span class="k">as</span> <span class="n">playwright</span><span class="p">:</span>
                <span class="n">browser</span> <span class="o">=</span> <span class="n">playwright</span><span class="o">.</span><span class="n">firefox</span><span class="o">.</span><span class="n">launch</span><span class="p">(</span><span class="n">headless</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
                <span class="n">context</span> <span class="o">=</span> <span class="n">browser</span><span class="o">.</span><span class="n">new_context</span><span class="p">(</span><span class="n">record_har_path</span><span class="o">=</span><span class="n">har_file</span><span class="p">)</span>
                <span class="n">page</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="n">new_page</span><span class="p">()</span>
                <span class="n">page</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="n">auth_url</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
                <span class="n">page</span><span class="o">.</span><span class="n">wait_for_url</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_redirect_uri</span><span class="si">}</span><span class="s2">*&quot;</span><span class="p">,</span> 
                                  <span class="n">wait_until</span><span class="o">=</span><span class="s2">&quot;commit&quot;</span><span class="p">)</span>
                <span class="n">context</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
                <span class="n">browser</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">har_file</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                <span class="n">queries</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
                    <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">parse_qsl</span><span class="p">(</span>
                        <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlparse</span><span class="p">(</span>
                            <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_redirect_uri</span><span class="si">}</span><span class="s1">\?(.*?)&quot;&#39;</span><span class="p">,</span> 
                                      <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">())</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
                        <span class="p">)</span><span class="o">.</span><span class="n">query</span>
                    <span class="p">)</span>
                <span class="p">)</span>
            <span class="n">har_file</span><span class="o">.</span><span class="n">unlink</span><span class="p">()</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;To grant Minim access to Spotify data and features, &quot;</span>
                  <span class="s2">&quot;open the following link in your web browser:</span><span class="se">\n\n</span><span class="s2">&quot;</span>
                  <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">auth_url</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">uri</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;After authorizing Minim to access Spotify on &quot;</span>
                        <span class="s2">&quot;your behalf, copy and paste the URI beginning &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;with &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_redirect_uri</span><span class="si">}</span><span class="s2">&#39; below.</span><span class="se">\n\n</span><span class="s2">URI: &quot;</span><span class="p">)</span>
            <span class="n">queries</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
                <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">parse_qsl</span><span class="p">(</span><span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlparse</span><span class="p">(</span><span class="n">uri</span><span class="p">)</span><span class="o">.</span><span class="n">query</span><span class="p">)</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="s2">&quot;error&quot;</span> <span class="ow">in</span> <span class="n">queries</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Authorization failed. Error: </span><span class="si">{</span><span class="n">queries</span><span class="p">[</span><span class="s1">&#39;error&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">params</span><span class="p">[</span><span class="s2">&quot;state&quot;</span><span class="p">]</span> <span class="o">!=</span> <span class="n">queries</span><span class="p">[</span><span class="s2">&quot;state&quot;</span><span class="p">]:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Authorization failed due to state mismatch.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">queries</span><span class="p">[</span><span class="s2">&quot;code&quot;</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">_get_json</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Send a GET request and return the JSON-encoded content of the </span>
<span class="sd">        response.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        url : `str`</span>
<span class="sd">            URL for the GET request.</span>
<span class="sd">        </span>
<span class="sd">        **kwargs</span>
<span class="sd">            Keyword arguments to pass to :meth:`requests.request`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        resp : `dict`</span>
<span class="sd">            JSON-encoded content of the response.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span><span class="s2">&quot;get&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
    
    <span class="k">def</span> <span class="nf">_refresh_access_token</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Refresh the expired excess token.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_flow</span> <span class="o">==</span> <span class="s2">&quot;web_player&quot;</span> <span class="ow">or</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_refresh_token</span> \
                <span class="ow">or</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client_id</span> <span class="ow">or</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client_secret</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_access_token</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">client_b64</span> <span class="o">=</span> <span class="n">base64</span><span class="o">.</span><span class="n">urlsafe_b64encode</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_client_id</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_client_secret</span><span class="si">}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">encode</span><span class="p">()</span>
            <span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>
            <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">TOKEN_URL</span><span class="p">,</span>
                <span class="n">data</span><span class="o">=</span><span class="p">{</span>
                    <span class="s2">&quot;grant_type&quot;</span><span class="p">:</span> <span class="s2">&quot;refresh_token&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;refresh_token&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_refresh_token</span>
                <span class="p">},</span>
                <span class="n">headers</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;Authorization&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;Basic </span><span class="si">{</span><span class="n">client_b64</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">}</span>
            <span class="p">)</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="s2">&quot;Authorization&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Bearer </span><span class="si">{</span><span class="n">r</span><span class="p">[</span><span class="s1">&#39;access_token&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_refresh_token</span> <span class="o">=</span> <span class="n">r</span><span class="p">[</span><span class="s2">&quot;refresh_token&quot;</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_expiry</span> <span class="o">=</span> <span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
                            <span class="o">+</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">r</span><span class="p">[</span><span class="s2">&quot;expires_in&quot;</span><span class="p">]))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_scopes</span> <span class="o">=</span> <span class="n">r</span><span class="p">[</span><span class="s2">&quot;scope&quot;</span><span class="p">]</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_save</span><span class="p">:</span>
                <span class="n">config</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_NAME</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">({</span>
                    <span class="s2">&quot;access_token&quot;</span><span class="p">:</span> <span class="n">r</span><span class="p">[</span><span class="s2">&quot;access_token&quot;</span><span class="p">],</span>
                    <span class="s2">&quot;refresh_token&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_refresh_token</span><span class="p">,</span>
                    <span class="s2">&quot;expiry&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_expiry</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">T%H:%M:%SZ&quot;</span><span class="p">),</span>
                    <span class="s2">&quot;scopes&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scopes</span>
                <span class="p">})</span>
                <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">DIR_HOME</span> <span class="o">/</span> <span class="s2">&quot;minim.cfg&quot;</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                    <span class="n">config</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_request</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="n">method</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">retry</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
        <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">:</span>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Construct and send a request, but with status code checking.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        method : `str`</span>
<span class="sd">            Method for the request.</span>

<span class="sd">        url : `str`</span>
<span class="sd">            URL for the request.</span>

<span class="sd">        retry : `bool`</span>
<span class="sd">            Specifies whether to retry the request if the response has</span>
<span class="sd">            a non-2xx status code.</span>

<span class="sd">        **kwargs</span>
<span class="sd">            Keyword arguments passed to :meth:`requests.request`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        resp : `requests.Response`</span>
<span class="sd">            Response to the request.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_expiry</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">_expiry</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_refresh_access_token</span><span class="p">()</span>

        <span class="n">r</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="n">method</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">r</span><span class="o">.</span><span class="n">status_code</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">299</span><span class="p">):</span>
            <span class="n">error</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s2">&quot;error&quot;</span><span class="p">]</span>
            <span class="n">emsg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">error</span><span class="p">[</span><span class="s1">&#39;status&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">error</span><span class="p">[</span><span class="s1">&#39;message&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="k">if</span> <span class="n">r</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">401</span> <span class="ow">and</span> <span class="n">retry</span><span class="p">:</span>
                <span class="n">logging</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="n">emsg</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_refresh_access_token</span><span class="p">()</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span><span class="n">method</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="n">emsg</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">r</span>

<div class="viewcode-block" id="WebAPI.set_access_token">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.set_access_token">[docs]</a>
    <span class="k">def</span> <span class="nf">set_access_token</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="n">access_token</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">refresh_token</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> 
            <span class="n">expiry</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set the Spotify Web API access token.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        access_token : `str`, optional</span>
<span class="sd">            Access token. If not provided, an access token is obtained</span>
<span class="sd">            using an OAuth 2.0 authorization flow or from the Spotify</span>
<span class="sd">            Web Player.</span>

<span class="sd">        refresh_token : `str`, keyword-only, optional</span>
<span class="sd">            Refresh token accompanying `access_token`.</span>

<span class="sd">        expiry : `str` or `datetime.datetime`, keyword-only, optional</span>
<span class="sd">            Access token expiry timestamp in the ISO 8601 format</span>
<span class="sd">            :code:`%Y-%m-%dT%H:%M:%SZ`. If provided, the user will be</span>
<span class="sd">            reauthenticated using the refresh token (if available) or </span>
<span class="sd">            the default authorization flow (if possible) when </span>
<span class="sd">            `access_token` expires.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">access_token</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_flow</span> <span class="o">==</span> <span class="s2">&quot;web_player&quot;</span><span class="p">:</span>
                <span class="n">headers</span> <span class="o">=</span> <span class="p">({</span><span class="s2">&quot;cookie&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;sp_dc=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_sp_dc</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">}</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sp_dc</span> 
                           <span class="k">else</span> <span class="p">{})</span>
                <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">WEB_PLAYER_TOKEN_URL</span><span class="p">,</span> 
                                 <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_client_id</span> <span class="o">=</span> <span class="n">r</span><span class="p">[</span><span class="s2">&quot;clientId&quot;</span><span class="p">]</span>
                <span class="n">access_token</span> <span class="o">=</span> <span class="n">r</span><span class="p">[</span><span class="s2">&quot;accessToken&quot;</span><span class="p">]</span>
                <span class="n">expiry</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">fromtimestamp</span><span class="p">(</span>
                    <span class="n">r</span><span class="p">[</span><span class="s2">&quot;accessTokenExpirationTimestampMs&quot;</span><span class="p">]</span> <span class="o">/</span> <span class="mi">1000</span>
                <span class="p">)</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sp_dc</span> <span class="ow">and</span> <span class="n">r</span><span class="p">[</span><span class="s2">&quot;isAnonymous&quot;</span><span class="p">]:</span>
                    <span class="n">wmsg</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;The sp_dc cookie is invalid, so the &quot;</span>
                            <span class="s2">&quot;access token granted is client-only.&quot;</span><span class="p">)</span>
                    <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="n">wmsg</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client_id</span> <span class="ow">or</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client_secret</span><span class="p">:</span>
                    <span class="n">emsg</span> <span class="o">=</span> <span class="s2">&quot;Spotify Web API client credentials not provided.&quot;</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">emsg</span><span class="p">)</span>
            
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_flow</span> <span class="o">==</span> <span class="s2">&quot;client_credentials&quot;</span><span class="p">:</span>
                    <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">TOKEN_URL</span><span class="p">,</span>
                        <span class="n">data</span><span class="o">=</span><span class="p">{</span>
                            <span class="s2">&quot;client_id&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client_id</span><span class="p">,</span>
                            <span class="s2">&quot;client_secret&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client_secret</span><span class="p">,</span>
                            <span class="s2">&quot;grant_type&quot;</span><span class="p">:</span> <span class="s2">&quot;client_credentials&quot;</span>
                        <span class="p">}</span>
                    <span class="p">)</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">client_b64</span> <span class="o">=</span> <span class="n">base64</span><span class="o">.</span><span class="n">urlsafe_b64encode</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_client_id</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_client_secret</span><span class="si">}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">encode</span><span class="p">()</span>
                    <span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>
                    <span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
                        <span class="s2">&quot;grant_type&quot;</span><span class="p">:</span> <span class="s2">&quot;authorization_code&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;redirect_uri&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_redirect_uri</span>
                    <span class="p">}</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_flow</span> <span class="o">==</span> <span class="s2">&quot;pkce&quot;</span><span class="p">:</span>
                        <span class="n">data</span><span class="p">[</span><span class="s2">&quot;client_id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client_id</span>
                        <span class="n">data</span><span class="p">[</span><span class="s2">&quot;code_verifier&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">secrets</span><span class="o">.</span><span class="n">token_urlsafe</span><span class="p">(</span><span class="mi">96</span><span class="p">)</span>
                        <span class="n">data</span><span class="p">[</span><span class="s2">&quot;code&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_authorization_code</span><span class="p">(</span>
                            <span class="n">base64</span><span class="o">.</span><span class="n">urlsafe_b64encode</span><span class="p">(</span>
                                <span class="n">hashlib</span><span class="o">.</span><span class="n">sha256</span><span class="p">(</span>
                                    <span class="n">data</span><span class="p">[</span><span class="s2">&quot;code_verifier&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">encode</span><span class="p">()</span>
                                <span class="p">)</span><span class="o">.</span><span class="n">digest</span><span class="p">()</span>
                            <span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;=&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
                        <span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">data</span><span class="p">[</span><span class="s2">&quot;code&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_authorization_code</span><span class="p">()</span>
                    <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">TOKEN_URL</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span>
                        <span class="n">headers</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;Authorization&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;Basic </span><span class="si">{</span><span class="n">client_b64</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">}</span>
                    <span class="p">)</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
                    <span class="n">refresh_token</span> <span class="o">=</span> <span class="n">r</span><span class="p">[</span><span class="s2">&quot;refresh_token&quot;</span><span class="p">]</span>
                <span class="n">access_token</span> <span class="o">=</span> <span class="n">r</span><span class="p">[</span><span class="s2">&quot;access_token&quot;</span><span class="p">]</span>
                <span class="n">expiry</span> <span class="o">=</span> <span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
                          <span class="o">+</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">r</span><span class="p">[</span><span class="s2">&quot;expires_in&quot;</span><span class="p">]))</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_save</span><span class="p">:</span>
                <span class="n">config</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_NAME</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s2">&quot;flow&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_flow</span><span class="p">,</span>
                    <span class="s2">&quot;client_id&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client_id</span><span class="p">,</span>
                    <span class="s2">&quot;access_token&quot;</span><span class="p">:</span> <span class="n">access_token</span><span class="p">,</span>
                    <span class="s2">&quot;expiry&quot;</span><span class="p">:</span> <span class="n">expiry</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">T%H:%M:%SZ&quot;</span><span class="p">),</span>
                    <span class="s2">&quot;scopes&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scopes</span>
                <span class="p">}</span>
                <span class="k">if</span> <span class="n">refresh_token</span><span class="p">:</span>
                    <span class="n">config</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_NAME</span><span class="p">][</span><span class="s2">&quot;refresh_token&quot;</span><span class="p">]</span> \
                        <span class="o">=</span> <span class="n">refresh_token</span>
                <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;client_secret&quot;</span><span class="p">,</span> <span class="s2">&quot;redirect_uri&quot;</span><span class="p">,</span> <span class="s2">&quot;sp_dc&quot;</span><span class="p">):</span>
                    <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;_</span><span class="si">{</span><span class="n">attr</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">):</span>
                        <span class="n">config</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_NAME</span><span class="p">][</span><span class="n">attr</span><span class="p">]</span> \
                            <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;_</span><span class="si">{</span><span class="n">attr</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span>
                <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">DIR_HOME</span> <span class="o">/</span> <span class="s2">&quot;minim.cfg&quot;</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                    <span class="n">config</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
                
        <span class="bp">self</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="s2">&quot;Authorization&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Bearer </span><span class="si">{</span><span class="n">access_token</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_refresh_token</span> <span class="o">=</span> <span class="n">refresh_token</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_expiry</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">expiry</span><span class="p">,</span> <span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">T%H:%M:%SZ&quot;</span><span class="p">)</span> 
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">expiry</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="k">else</span> <span class="n">expiry</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_flow</span> <span class="ow">in</span> <span class="p">{</span><span class="s2">&quot;authorization_code&quot;</span><span class="p">,</span> <span class="s2">&quot;pkce&quot;</span><span class="p">}</span> \
                <span class="ow">or</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_flow</span> <span class="o">==</span> <span class="s2">&quot;web_player&quot;</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sp_dc</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_user_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_profile</span><span class="p">()[</span><span class="s2">&quot;id&quot;</span><span class="p">]</span></div>


<div class="viewcode-block" id="WebAPI.set_flow">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.set_flow">[docs]</a>
    <span class="k">def</span> <span class="nf">set_flow</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="n">flow</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> 
            <span class="n">client_secret</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">framework</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">port</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="mi">8888</span><span class="p">,</span> <span class="n">redirect_uri</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> 
            <span class="n">scopes</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">sp_dc</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> 
            <span class="n">save</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set the authorization flow.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        flow : `str`</span>
<span class="sd">            Authorization flow.</span>

<span class="sd">            .. container::</span>

<span class="sd">               **Valid values**:</span>
<span class="sd">           </span>
<span class="sd">               * :code:`&quot;authorization_code&quot;` for the authorization code </span>
<span class="sd">                 flow.</span>
<span class="sd">               * :code:`&quot;pkce&quot;` for the authorization code with proof </span>
<span class="sd">                 key for code exchange (PKCE) flow.</span>
<span class="sd">               * :code:`&quot;client_credentials&quot;` for the client credentials </span>
<span class="sd">                 flow.</span>
<span class="sd">               * :code:`&quot;web_player&quot;` for a Spotify Web Player access </span>
<span class="sd">                 token.</span>
<span class="sd">            </span>
<span class="sd">        client_id : `str`, keyword-only, optional</span>
<span class="sd">            Client ID. Required for all OAuth 2.0 authorization flows.</span>

<span class="sd">        client_secret : `str`, keyword-only, optional</span>
<span class="sd">            Client secret. Required for all OAuth 2.0 authorization </span>
<span class="sd">            flows.</span>

<span class="sd">        framework : `str`, keyword-only, optional</span>
<span class="sd">            Web framework used to automatically complete the </span>
<span class="sd">            authorization code flow.</span>

<span class="sd">            .. container::</span>

<span class="sd">               **Valid values**:</span>

<span class="sd">               * :code:`&quot;http.server&quot;` for the built-in implementation of</span>
<span class="sd">                 HTTP servers.</span>
<span class="sd">               * :code:`&quot;flask&quot;` for the Flask framework.</span>
<span class="sd">               * :code:`&quot;playwright&quot;` for the Playwright framework.</span>
<span class="sd">            </span>
<span class="sd">        port : `int` or `str`, keyword-only, default: :code:`8888`</span>
<span class="sd">            Port on :code:`localhost` to use for the authorization code</span>
<span class="sd">            flow with the Flask framework.</span>

<span class="sd">        redirect_uri : `str`, keyword-only, optional</span>
<span class="sd">            Redirect URI for the authorization code flow. If not </span>
<span class="sd">            specified, an open port on :code:`localhost` will be used.</span>

<span class="sd">        scopes : `str` or `list`, keyword-only, optional</span>
<span class="sd">            Authorization scopes to request access to in the </span>
<span class="sd">            authorization code flow.</span>

<span class="sd">        sp_dc : `str`, keyword-only, optional</span>
<span class="sd">            Spotify Web Player :code:`sp_dc` cookie.</span>

<span class="sd">        save : `bool`, keyword-only, default: :code:`True`</span>
<span class="sd">            Determines whether to save the newly obtained access tokens</span>
<span class="sd">            and their associated properties to the Minim configuration </span>
<span class="sd">            file.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">if</span> <span class="n">flow</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_FLOWS</span><span class="p">:</span>
            <span class="n">emsg</span> <span class="o">=</span> <span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid authorization flow (</span><span class="si">{</span><span class="n">flow</span><span class="si">=}</span><span class="s2">). &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;Valid values: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_FLOWS</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">emsg</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_flow</span> <span class="o">=</span> <span class="n">flow</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_save</span> <span class="o">=</span> <span class="n">save</span>

        <span class="k">if</span> <span class="n">flow</span> <span class="o">==</span> <span class="s2">&quot;web_player&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_sp_dc</span> <span class="o">=</span> <span class="n">sp_dc</span> <span class="ow">or</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;SPOTIFY_SP_DC&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_scopes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_scopes</span><span class="p">(</span><span class="s2">&quot;all&quot;</span><span class="p">)</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sp_dc</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_client_id</span> <span class="o">=</span> <span class="n">client_id</span> <span class="ow">or</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;SPOTIFY_CLIENT_ID&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_client_secret</span> <span class="o">=</span> <span class="p">(</span><span class="n">client_secret</span>
                                   <span class="ow">or</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;SPOTIFY_CLIENT_SECRET&quot;</span><span class="p">))</span>
            <span class="k">if</span> <span class="n">flow</span> <span class="ow">in</span> <span class="p">{</span><span class="s2">&quot;authorization_code&quot;</span><span class="p">,</span> <span class="s2">&quot;pkce&quot;</span><span class="p">}:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_scopes</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">scopes</span><span class="p">)</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">scopes</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span> \
                               <span class="k">else</span> <span class="n">scopes</span>

                <span class="k">if</span> <span class="n">redirect_uri</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_redirect_uri</span> <span class="o">=</span> <span class="n">redirect_uri</span>
                    <span class="k">if</span> <span class="s2">&quot;localhost&quot;</span> <span class="ow">in</span> <span class="n">redirect_uri</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">_port</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s2">&quot;localhost:(\d+)&quot;</span><span class="p">,</span> 
                                               <span class="n">redirect_uri</span><span class="p">)</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
                    <span class="k">elif</span> <span class="n">framework</span><span class="p">:</span>
                        <span class="n">wmsg</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;The redirect URI is not on localhost, &quot;</span>
                                <span class="s2">&quot;so automatic authorization code &quot;</span>
                                <span class="s2">&quot;retrieval is not available.&quot;</span><span class="p">)</span>
                        <span class="n">logging</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="n">wmsg</span><span class="p">)</span>
                        <span class="n">framework</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_port</span> <span class="o">=</span> <span class="n">port</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_redirect_uri</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;http://localhost:</span><span class="si">{</span><span class="n">port</span><span class="si">}</span><span class="s2">/callback&quot;</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">_framework</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="n">framework</span> <span class="k">if</span> <span class="n">framework</span> <span class="ow">is</span> <span class="kc">None</span> 
                                 <span class="ow">or</span> <span class="n">framework</span> <span class="o">==</span> <span class="s2">&quot;http.server&quot;</span>
                                 <span class="ow">or</span> <span class="nb">globals</span><span class="p">()[</span><span class="sa">f</span><span class="s2">&quot;FOUND_</span><span class="si">{</span><span class="n">framework</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">]</span>
                    <span class="k">else</span> <span class="kc">None</span>
                <span class="p">)</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_framework</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">framework</span><span class="p">:</span>
                    <span class="n">wmsg</span> <span class="o">=</span> <span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The </span><span class="si">{</span><span class="n">framework</span><span class="o">.</span><span class="n">capitalize</span><span class="p">()</span><span class="si">}</span><span class="s2"> web &quot;</span>
                            <span class="s2">&quot;framework was not found, so automatic &quot;</span>
                            <span class="s2">&quot;authorization code retrieval is not &quot;</span>
                            <span class="s2">&quot;available.&quot;</span><span class="p">)</span>
                    <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="n">wmsg</span><span class="p">)</span>

            <span class="k">elif</span> <span class="n">flow</span> <span class="o">==</span> <span class="s2">&quot;client_credentials&quot;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_scopes</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span></div>


    <span class="c1">### ALBUMS ################################################################</span>

<div class="viewcode-block" id="WebAPI.get_album">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.get_album">[docs]</a>
    <span class="k">def</span> <span class="nf">get_album</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">market</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Albums &gt; Get Album &lt;https://developer.spotify.com/</span>
<span class="sd">        documentation/web-api/reference/get-an-album&gt;`_:</span>
<span class="sd">        Get Spotify catalog information for a single album.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        id : `str`</span>
<span class="sd">            The Spotify ID of the album.</span>

<span class="sd">            **Example**: :code:`&quot;4aawyAB9vmqN3uQ7FjRGTy&quot;`.</span>

<span class="sd">        market : `str`, keyword-only, optional</span>
<span class="sd">            An ISO 3166-1 alpha-2 country code. If a country code is</span>
<span class="sd">            specified, only content that is available in that market</span>
<span class="sd">            will be returned. If a valid user access token is specified</span>
<span class="sd">            in the request header, the country associated with the user</span>
<span class="sd">            account will take priority over this parameter.</span>

<span class="sd">            .. note::</span>

<span class="sd">               If neither market or user country are provided, the </span>
<span class="sd">               content is considered unavailable for the client.</span>
<span class="sd">            </span>
<span class="sd">            **Example**: :code:`&quot;ES&quot;`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        album : `dict`</span>
<span class="sd">            Spotify catalog information for a single album.</span>

<span class="sd">            .. admonition:: Sample response</span>
<span class="sd">               :class: dropdown</span>
<span class="sd">            </span>
<span class="sd">               .. code::</span>

<span class="sd">                  {</span>
<span class="sd">                    &quot;album_type&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;total_tracks&quot;: &lt;int&gt;,</span>
<span class="sd">                    &quot;available_markets&quot;: [&lt;str&gt;],</span>
<span class="sd">                    &quot;external_urls&quot;: {</span>
<span class="sd">                      &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                    },</span>
<span class="sd">                    &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;images&quot;: [</span>
<span class="sd">                      {</span>
<span class="sd">                        &quot;url&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;height&quot;: &lt;int&gt;,</span>
<span class="sd">                        &quot;width&quot;: &lt;int&gt;</span>
<span class="sd">                      }</span>
<span class="sd">                    ],</span>
<span class="sd">                    &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;release_date&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;release_date_precision&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;restrictions&quot;: {</span>
<span class="sd">                      &quot;reason&quot;: &lt;str&gt;</span>
<span class="sd">                    },</span>
<span class="sd">                    &quot;type&quot;: &quot;album&quot;,</span>
<span class="sd">                    &quot;uri&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;copyrights&quot;: [</span>
<span class="sd">                      {</span>
<span class="sd">                        &quot;text&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;type&quot;: &lt;str&gt;</span>
<span class="sd">                      }</span>
<span class="sd">                    ],</span>
<span class="sd">                    &quot;external_ids&quot;: {</span>
<span class="sd">                      &quot;isrc&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;ean&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;upc&quot;: &lt;str&gt;</span>
<span class="sd">                    },</span>
<span class="sd">                    &quot;genres&quot;: [&lt;str&gt;],</span>
<span class="sd">                    &quot;label&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;popularity&quot;: &lt;int&gt;,</span>
<span class="sd">                    &quot;artists&quot;: [</span>
<span class="sd">                      {</span>
<span class="sd">                        &quot;external_urls&quot;: {</span>
<span class="sd">                          &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                        },</span>
<span class="sd">                        &quot;followers&quot;: {</span>
<span class="sd">                          &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;total&quot;: &lt;int&gt;</span>
<span class="sd">                        },</span>
<span class="sd">                        &quot;genres&quot;: [&lt;str&gt;],</span>
<span class="sd">                        &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;images&quot;: [</span>
<span class="sd">                          {</span>
<span class="sd">                            &quot;url&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;height&quot;: &lt;int&gt;,</span>
<span class="sd">                            &quot;width&quot;: &lt;int&gt;</span>
<span class="sd">                          }</span>
<span class="sd">                        ],</span>
<span class="sd">                        &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;popularity&quot;: &lt;int&gt;,</span>
<span class="sd">                        &quot;type&quot;: &quot;artist&quot;,</span>
<span class="sd">                        &quot;uri&quot;: &lt;str&gt;</span>
<span class="sd">                      }</span>
<span class="sd">                    ],</span>
<span class="sd">                    &quot;tracks&quot;: {</span>
<span class="sd">                      &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;limit&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;next&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;offset&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;previous&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;total&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;items&quot;: [</span>
<span class="sd">                        {</span>
<span class="sd">                          &quot;artists&quot;: [</span>
<span class="sd">                            {</span>
<span class="sd">                              &quot;external_urls&quot;: {</span>
<span class="sd">                                &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                              },</span>
<span class="sd">                              &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;type&quot;: &quot;artist&quot;,</span>
<span class="sd">                              &quot;uri&quot;: &lt;str&gt;</span>
<span class="sd">                            }</span>
<span class="sd">                          ],</span>
<span class="sd">                          &quot;available_markets&quot;: [&lt;str&gt;],</span>
<span class="sd">                          &quot;disc_number&quot;: &lt;int&gt;,</span>
<span class="sd">                          &quot;duration_ms&quot;: &lt;int&gt;,</span>
<span class="sd">                          &quot;explicit&quot;: &lt;bool&gt;,</span>
<span class="sd">                          &quot;external_urls&quot;: {</span>
<span class="sd">                            &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;is_playable&quot;: &lt;bool&gt;</span>
<span class="sd">                          &quot;linked_from&quot;: {</span>
<span class="sd">                            &quot;external_urls&quot;: {</span>
<span class="sd">                              &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                            },</span>
<span class="sd">                            &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;type&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;uri&quot;: &lt;str&gt;</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;restrictions&quot;: {</span>
<span class="sd">                            &quot;reason&quot;: &lt;str&gt;</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;preview_url&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;track_number&quot;: &lt;int&gt;,</span>
<span class="sd">                          &quot;type&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;uri&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;is_local&quot;: &lt;bool&gt;</span>
<span class="sd">                        }</span>
<span class="sd">                      ]</span>
<span class="sd">                    }</span>
<span class="sd">                  }</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_json</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/albums/</span><span class="si">{</span><span class="nb">id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                              <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;market&quot;</span><span class="p">:</span> <span class="n">market</span><span class="p">})</span></div>


<div class="viewcode-block" id="WebAPI.get_albums">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.get_albums">[docs]</a>
    <span class="k">def</span> <span class="nf">get_albums</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="n">ids</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]],</span> <span class="o">*</span><span class="p">,</span> <span class="n">market</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Albums &gt; Get Several Albums &lt;https://developer.spotify.com/</span>
<span class="sd">        documentation/web-api/reference/</span>
<span class="sd">        get-multiple-albums&gt;`_: Get Spotify catalog information for</span>
<span class="sd">        albums identified by their Spotify IDs.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        ids : `str` or `list`</span>
<span class="sd">            A (comma-separated) list of the Spotify IDs for the albums.</span>
<span class="sd">            </span>
<span class="sd">            **Maximum**: 20 IDs.</span>

<span class="sd">            **Example**: :code:`&quot;382ObEPsp2rxGrnsizN5TX,</span>
<span class="sd">            1A2GTWGtFfWp7KSQTwWOyo, 2noRn2Aes5aoNVsU6iWThc&quot;`.</span>

<span class="sd">        market : `str`, keyword-only, optional</span>
<span class="sd">            An ISO 3166-1 alpha-2 country code. If a country code is</span>
<span class="sd">            specified, only content that is available in that market</span>
<span class="sd">            will be returned. If a valid user access token is specified</span>
<span class="sd">            in the request header, the country associated with the user</span>
<span class="sd">            account will take priority over this parameter.</span>

<span class="sd">            .. note::</span>

<span class="sd">               If neither market or user country are provided, the </span>
<span class="sd">               content is considered unavailable for the client.</span>
<span class="sd">            </span>
<span class="sd">            **Example**: :code:`&quot;ES&quot;`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        albums : `list`</span>
<span class="sd">            A list containing Spotify catalog information for multiple</span>
<span class="sd">            albums.</span>

<span class="sd">            .. admonition:: Sample response</span>
<span class="sd">               :class: dropdown</span>

<span class="sd">               .. code::</span>
<span class="sd">               </span>
<span class="sd">                  [</span>
<span class="sd">                    {</span>
<span class="sd">                      &quot;album_type&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;total_tracks&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;available_markets&quot;: [&lt;str&gt;],</span>
<span class="sd">                      &quot;external_urls&quot;: {</span>
<span class="sd">                        &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                      },</span>
<span class="sd">                      &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;images&quot;: [</span>
<span class="sd">                        {</span>
<span class="sd">                          &quot;url&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;height&quot;: &lt;int&gt;,</span>
<span class="sd">                          &quot;width&quot;: &lt;int&gt;</span>
<span class="sd">                        }</span>
<span class="sd">                      ],</span>
<span class="sd">                      &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;release_date&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;release_date_precision&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;restrictions&quot;: {</span>
<span class="sd">                        &quot;reason&quot;: &lt;str&gt;</span>
<span class="sd">                      },</span>
<span class="sd">                      &quot;type&quot;: &quot;album&quot;,</span>
<span class="sd">                      &quot;uri&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;copyrights&quot;: [</span>
<span class="sd">                        {</span>
<span class="sd">                          &quot;text&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;type&quot;: &lt;str&gt;</span>
<span class="sd">                        }</span>
<span class="sd">                      ],</span>
<span class="sd">                      &quot;external_ids&quot;: {</span>
<span class="sd">                        &quot;isrc&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;ean&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;upc&quot;: &lt;str&gt;</span>
<span class="sd">                      },</span>
<span class="sd">                      &quot;genres&quot;: [&lt;str&gt;],</span>
<span class="sd">                      &quot;label&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;popularity&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;artists&quot;: [</span>
<span class="sd">                        {</span>
<span class="sd">                          &quot;external_urls&quot;: {</span>
<span class="sd">                            &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;followers&quot;: {</span>
<span class="sd">                            &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;total&quot;: &lt;int&gt;</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;genres&quot;: [&lt;str&gt;],</span>
<span class="sd">                          &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;images&quot;: [</span>
<span class="sd">                            {</span>
<span class="sd">                              &quot;url&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;height&quot;: &lt;int&gt;,</span>
<span class="sd">                              &quot;width&quot;: &lt;int&gt;</span>
<span class="sd">                            }</span>
<span class="sd">                          ],</span>
<span class="sd">                          &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;popularity&quot;: &lt;int&gt;,</span>
<span class="sd">                          &quot;type&quot;: &quot;artist&quot;,</span>
<span class="sd">                          &quot;uri&quot;: &lt;str&gt;</span>
<span class="sd">                        }</span>
<span class="sd">                      ],</span>
<span class="sd">                      &quot;tracks&quot;: {</span>
<span class="sd">                        &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;limit&quot;: &lt;int&gt;,</span>
<span class="sd">                        &quot;next&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;offset&quot;: &lt;int&gt;,</span>
<span class="sd">                        &quot;previous&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;total&quot;: &lt;int&gt;,</span>
<span class="sd">                        &quot;items&quot;: [</span>
<span class="sd">                          {</span>
<span class="sd">                            &quot;artists&quot;: [</span>
<span class="sd">                              {</span>
<span class="sd">                                &quot;external_urls&quot;: {</span>
<span class="sd">                                  &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                                },</span>
<span class="sd">                                &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                                &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                                &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                                &quot;type&quot;: &quot;artist&quot;,</span>
<span class="sd">                                &quot;uri&quot;: &lt;str&gt;</span>
<span class="sd">                              }</span>
<span class="sd">                            ],</span>
<span class="sd">                            &quot;available_markets&quot;: [&lt;str&gt;],</span>
<span class="sd">                            &quot;disc_number&quot;: &lt;int&gt;,</span>
<span class="sd">                            &quot;duration_ms&quot;: &lt;int&gt;,</span>
<span class="sd">                            &quot;explicit&quot;: &lt;bool&gt;,</span>
<span class="sd">                            &quot;external_urls&quot;: {</span>
<span class="sd">                              &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                            },</span>
<span class="sd">                            &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;is_playable&quot;: &lt;bool&gt;</span>
<span class="sd">                            &quot;linked_from&quot;: {</span>
<span class="sd">                              &quot;external_urls&quot;: {</span>
<span class="sd">                                &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                              },</span>
<span class="sd">                              &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;type&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;uri&quot;: &lt;str&gt;</span>
<span class="sd">                            },</span>
<span class="sd">                            &quot;restrictions&quot;: {</span>
<span class="sd">                              &quot;reason&quot;: &lt;str&gt;</span>
<span class="sd">                            },</span>
<span class="sd">                            &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;preview_url&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;track_number&quot;: &lt;int&gt;,</span>
<span class="sd">                            &quot;type&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;uri&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;is_local&quot;: &lt;bool&gt;</span>
<span class="sd">                          }</span>
<span class="sd">                        ]</span>
<span class="sd">                      }</span>
<span class="sd">                    }</span>
<span class="sd">                  ]</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_json</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/albums&quot;</span><span class="p">,</span>
            <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;ids&quot;</span><span class="p">:</span> <span class="n">ids</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ids</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="k">else</span> <span class="s2">&quot;,&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">ids</span><span class="p">),</span>
                    <span class="s2">&quot;market&quot;</span><span class="p">:</span> <span class="n">market</span><span class="p">}</span>
        <span class="p">)[</span><span class="s2">&quot;albums&quot;</span><span class="p">]</span></div>


<div class="viewcode-block" id="WebAPI.get_album_tracks">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.get_album_tracks">[docs]</a>
    <span class="k">def</span> <span class="nf">get_album_tracks</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">market</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">offset</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Albums &gt; Get Album Tracks &lt;https://developer.spotify.com/</span>
<span class="sd">        documentation/web-api/reference/</span>
<span class="sd">        get-an-albums-tracks&gt;`_: Get Spotify catalog information for an</span>
<span class="sd">        album&#39;s tracks. Optional parameters can be used to limit the</span>
<span class="sd">        number of tracks returned.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        id : `str`</span>
<span class="sd">            The Spotify ID of the album.</span>

<span class="sd">            **Example**: :code:`&quot;4aawyAB9vmqN3uQ7FjRGTy&quot;`.</span>

<span class="sd">        limit : `int`, keyword-only, optional</span>
<span class="sd">            The maximum number of results to return in each item type.</span>
<span class="sd">            </span>
<span class="sd">            **Valid values**: `limit` must be between 0 and 50.</span>

<span class="sd">            **Default**: :code:`20`.</span>

<span class="sd">        market : `str`, keyword-only, optional</span>
<span class="sd">            An ISO 3166-1 alpha-2 country code. If a country code is</span>
<span class="sd">            specified, only content that is available in that market</span>
<span class="sd">            will be returned. If a valid user access token is specified</span>
<span class="sd">            in the request header, the country associated with the user</span>
<span class="sd">            account will take priority over this parameter.</span>

<span class="sd">            .. note::</span>

<span class="sd">               If neither market or user country are provided, the </span>
<span class="sd">               content is considered unavailable for the client.</span>
<span class="sd">            </span>
<span class="sd">            **Example**: :code:`&quot;ES&quot;`.</span>

<span class="sd">        offset : `int`, keyword-only, optional</span>
<span class="sd">            The index of the first result to return. Use with `limit` to</span>
<span class="sd">            get the next page of search results. </span>
<span class="sd">            </span>
<span class="sd">            **Valid values**: `offset` must be between 0 and 1,000.</span>

<span class="sd">            **Default**: :code:`0`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        tracks : `dict`</span>
<span class="sd">            A dictionary containing Spotify catalog information for an </span>
<span class="sd">            album&#39;s tracks and the number of results returned.</span>

<span class="sd">            .. admonition:: Sample response</span>
<span class="sd">               :class: dropdown</span>

<span class="sd">               .. code::</span>

<span class="sd">                  {</span>
<span class="sd">                    &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;limit&quot;: &lt;int&gt;,</span>
<span class="sd">                    &quot;next&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;offset&quot;: &lt;int&gt;,</span>
<span class="sd">                    &quot;previous&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;total&quot;: &lt;int&gt;,</span>
<span class="sd">                    &quot;items&quot;: [</span>
<span class="sd">                      {</span>
<span class="sd">                        &quot;artists&quot;: [</span>
<span class="sd">                          {</span>
<span class="sd">                            &quot;external_urls&quot;: {</span>
<span class="sd">                              &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                            },</span>
<span class="sd">                            &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;type&quot;: &quot;artist&quot;,</span>
<span class="sd">                            &quot;uri&quot;: &lt;str&gt;</span>
<span class="sd">                          }</span>
<span class="sd">                        ],</span>
<span class="sd">                        &quot;available_markets&quot;: [&lt;str&gt;],</span>
<span class="sd">                        &quot;disc_number&quot;: &lt;int&gt;,</span>
<span class="sd">                        &quot;duration_ms&quot;: &lt;int&gt;,</span>
<span class="sd">                        &quot;explicit&quot;: &lt;bool&gt;,</span>
<span class="sd">                        &quot;external_urls&quot;: {</span>
<span class="sd">                          &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                        },</span>
<span class="sd">                        &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;is_playable&quot;: &lt;bool&gt;</span>
<span class="sd">                        &quot;linked_from&quot;: {</span>
<span class="sd">                          &quot;external_urls&quot;: {</span>
<span class="sd">                            &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;type&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;uri&quot;: &lt;str&gt;</span>
<span class="sd">                        },</span>
<span class="sd">                        &quot;restrictions&quot;: {</span>
<span class="sd">                          &quot;reason&quot;: &lt;str&gt;</span>
<span class="sd">                        },</span>
<span class="sd">                        &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;preview_url&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;track_number&quot;: &lt;int&gt;,</span>
<span class="sd">                        &quot;type&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;uri&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;is_local&quot;: &lt;bool&gt;</span>
<span class="sd">                      }</span>
<span class="sd">                    ]</span>
<span class="sd">                  }</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_json</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/albums/</span><span class="si">{</span><span class="nb">id</span><span class="si">}</span><span class="s2">/tracks&quot;</span><span class="p">,</span>
            <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="n">limit</span><span class="p">,</span> <span class="s2">&quot;market&quot;</span><span class="p">:</span> <span class="n">market</span><span class="p">,</span> <span class="s2">&quot;offset&quot;</span><span class="p">:</span> <span class="n">offset</span><span class="p">}</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="WebAPI.get_saved_albums">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.get_saved_albums">[docs]</a>
    <span class="k">def</span> <span class="nf">get_saved_albums</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">market</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">offset</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Albums &gt; Get User&#39;s Saved Albums &lt;https://developer.spotify.com/</span>
<span class="sd">        documentation/web-api/reference/</span>
<span class="sd">        get-users-saved-albums&gt;`_: Get a list of the albums saved in the</span>
<span class="sd">        current Spotify user&#39;s &#39;Your Music&#39; library.</span>
<span class="sd">        </span>
<span class="sd">        .. admonition:: Authorization scope</span>
<span class="sd">           :class: warning</span>
<span class="sd">        </span>
<span class="sd">           Requires the :code:`user-library-read` scope.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        limit : `int`, keyword-only, optional</span>
<span class="sd">            The maximum number of results to return in each item type.</span>
<span class="sd">            </span>
<span class="sd">            **Valid values**: `limit` must be between 0 and 50.</span>

<span class="sd">            **Default**: :code:`20`.</span>

<span class="sd">        market : `str`, keyword-only, optional</span>
<span class="sd">            An ISO 3166-1 alpha-2 country code. If a country code is</span>
<span class="sd">            specified, only content that is available in that market</span>
<span class="sd">            will be returned. If a valid user access token is specified</span>
<span class="sd">            in the request header, the country associated with the user</span>
<span class="sd">            account will take priority over this parameter.</span>

<span class="sd">            .. note::</span>

<span class="sd">               If neither market or user country are provided, the </span>
<span class="sd">               content is considered unavailable for the client.</span>
<span class="sd">            </span>
<span class="sd">            **Example**: :code:`&quot;ES&quot;`.</span>

<span class="sd">        offset : `int`, keyword-only, optional</span>
<span class="sd">            The index of the first result to return. Use with `limit` to</span>
<span class="sd">            get the next page of search results. </span>
<span class="sd">            </span>
<span class="sd">            **Valid values**: `offset` must be between 0 and 1,000.</span>

<span class="sd">            **Default**: :code:`0`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        albums : `dict`</span>
<span class="sd">            A dictionary containing Spotify catalog information for a</span>
<span class="sd">            user&#39;s saved albums and the number of results returned.</span>

<span class="sd">            .. admonition:: Sample response</span>
<span class="sd">               :class: dropdown</span>

<span class="sd">               .. code::</span>

<span class="sd">                  {</span>
<span class="sd">                    &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;limit&quot;: &lt;int&gt;,</span>
<span class="sd">                    &quot;next&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;offset&quot;: &lt;int&gt;,</span>
<span class="sd">                    &quot;previous&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;total&quot;: &lt;int&gt;,</span>
<span class="sd">                    &quot;items&quot;: [</span>
<span class="sd">                      {</span>
<span class="sd">                        &quot;added_at&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;album&quot;: {</span>
<span class="sd">                          &quot;album_type&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;total_tracks&quot;: &lt;int&gt;,</span>
<span class="sd">                          &quot;available_markets&quot;: [&lt;str&gt;],</span>
<span class="sd">                          &quot;external_urls&quot;: {</span>
<span class="sd">                            &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;images&quot;: [</span>
<span class="sd">                            {</span>
<span class="sd">                              &quot;url&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;height&quot;: &lt;int&gt;,</span>
<span class="sd">                              &quot;width&quot;: &lt;int&gt;</span>
<span class="sd">                            }</span>
<span class="sd">                          ],</span>
<span class="sd">                          &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;release_date&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;release_date_precision&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;restrictions&quot;: {</span>
<span class="sd">                            &quot;reason&quot;: &lt;str&gt;</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;type&quot;: &quot;album&quot;,</span>
<span class="sd">                          &quot;uri&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;copyrights&quot;: [</span>
<span class="sd">                            {</span>
<span class="sd">                              &quot;text&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;type&quot;: &lt;str&gt;</span>
<span class="sd">                            }</span>
<span class="sd">                          ],</span>
<span class="sd">                          &quot;external_ids&quot;: {</span>
<span class="sd">                            &quot;isrc&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;ean&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;upc&quot;: &lt;str&gt;</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;genres&quot;: [&lt;str&gt;],</span>
<span class="sd">                          &quot;label&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;popularity&quot;: &lt;int&gt;,</span>
<span class="sd">                          &quot;artists&quot;: [</span>
<span class="sd">                            {</span>
<span class="sd">                              &quot;external_urls&quot;: {</span>
<span class="sd">                                &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                              },</span>
<span class="sd">                              &quot;followers&quot;: {</span>
<span class="sd">                                &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                                &quot;total&quot;: &lt;int&gt;</span>
<span class="sd">                              },</span>
<span class="sd">                              &quot;genres&quot;: [&lt;str&gt;],</span>
<span class="sd">                              &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;images&quot;: [</span>
<span class="sd">                                {</span>
<span class="sd">                                  &quot;url&quot;: &lt;str&gt;,</span>
<span class="sd">                                  &quot;height&quot;: &lt;int&gt;,</span>
<span class="sd">                                  &quot;width&quot;: &lt;int&gt;</span>
<span class="sd">                                }</span>
<span class="sd">                              ],</span>
<span class="sd">                              &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;popularity&quot;: &lt;int&gt;,</span>
<span class="sd">                              &quot;type&quot;: &quot;artist&quot;,</span>
<span class="sd">                              &quot;uri&quot;: &lt;str&gt;</span>
<span class="sd">                            }</span>
<span class="sd">                          ],</span>
<span class="sd">                          &quot;tracks&quot;: {</span>
<span class="sd">                            &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;limit&quot;: &lt;int&gt;,</span>
<span class="sd">                            &quot;next&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;offset&quot;: &lt;int&gt;,</span>
<span class="sd">                            &quot;previous&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;total&quot;: &lt;int&gt;,</span>
<span class="sd">                            &quot;items&quot;: [</span>
<span class="sd">                              {</span>
<span class="sd">                                &quot;artists&quot;: [</span>
<span class="sd">                                  {</span>
<span class="sd">                                    &quot;external_urls&quot;: {</span>
<span class="sd">                                      &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                                    },</span>
<span class="sd">                                    &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                                    &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                                    &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                                    &quot;type&quot;: &quot;artist&quot;,</span>
<span class="sd">                                    &quot;uri&quot;: &lt;str&gt;</span>
<span class="sd">                                  }</span>
<span class="sd">                                ],</span>
<span class="sd">                                &quot;available_markets&quot;: [&lt;str&gt;],</span>
<span class="sd">                                &quot;disc_number&quot;: &lt;int&gt;,</span>
<span class="sd">                                &quot;duration_ms&quot;: &lt;int&gt;,</span>
<span class="sd">                                &quot;explicit&quot;: &lt;bool&gt;,</span>
<span class="sd">                                &quot;external_urls&quot;: {</span>
<span class="sd">                                  &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                                },</span>
<span class="sd">                                &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                                &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                                &quot;is_playable&quot;: &lt;bool&gt;</span>
<span class="sd">                                &quot;linked_from&quot;: {</span>
<span class="sd">                                  &quot;external_urls&quot;: {</span>
<span class="sd">                                    &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                                  },</span>
<span class="sd">                                  &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                                  &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                                  &quot;type&quot;: &lt;str&gt;,</span>
<span class="sd">                                  &quot;uri&quot;: &lt;str&gt;</span>
<span class="sd">                                },</span>
<span class="sd">                                &quot;restrictions&quot;: {</span>
<span class="sd">                                  &quot;reason&quot;: &lt;str&gt;</span>
<span class="sd">                                },</span>
<span class="sd">                                &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                                &quot;preview_url&quot;: &lt;str&gt;,</span>
<span class="sd">                                &quot;track_number&quot;: &lt;int&gt;,</span>
<span class="sd">                                &quot;type&quot;: &lt;str&gt;,</span>
<span class="sd">                                &quot;uri&quot;: &lt;str&gt;,</span>
<span class="sd">                                &quot;is_local&quot;: &lt;bool&gt;</span>
<span class="sd">                              }</span>
<span class="sd">                            ]</span>
<span class="sd">                          }</span>
<span class="sd">                        }</span>
<span class="sd">                      }</span>
<span class="sd">                    ]</span>
<span class="sd">                  }</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_check_scope</span><span class="p">(</span><span class="s2">&quot;get_saved_albums&quot;</span><span class="p">,</span> <span class="s2">&quot;user-library-read&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_json</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/me/albums&quot;</span><span class="p">,</span>
            <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="n">limit</span><span class="p">,</span> <span class="s2">&quot;market&quot;</span><span class="p">:</span> <span class="n">market</span><span class="p">,</span> <span class="s2">&quot;offset&quot;</span><span class="p">:</span> <span class="n">offset</span><span class="p">}</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="WebAPI.save_albums">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.save_albums">[docs]</a>
    <span class="k">def</span> <span class="nf">save_albums</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ids</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Albums &gt; Save Albums for Current User</span>
<span class="sd">        &lt;https://developer.spotify.com/documentation/web-api/reference/</span>
<span class="sd">        save-albums-user&gt;`_: Save one or more albums to the</span>
<span class="sd">        current user&#39;s &#39;Your Music&#39; library.</span>
<span class="sd">        </span>
<span class="sd">        .. admonition:: Authorization scope</span>
<span class="sd">           :class: warning</span>
<span class="sd">        </span>
<span class="sd">           Requires the :code:`user-library-modify` scope.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        ids : `str` or `list`</span>
<span class="sd">            A (comma-separated) list of the Spotify IDs for the albums.</span>
<span class="sd">            </span>
<span class="sd">            **Maximum**: 20 (`str`) or 50 (`list`) IDs.</span>

<span class="sd">            **Example**: :code:`&quot;382ObEPsp2rxGrnsizN5TX,</span>
<span class="sd">            1A2GTWGtFfWp7KSQTwWOyo, 2noRn2Aes5aoNVsU6iWThc&quot;`.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_check_scope</span><span class="p">(</span><span class="s2">&quot;save_albums&quot;</span><span class="p">,</span> <span class="s2">&quot;user-library-modify&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ids</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span><span class="s2">&quot;put&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/me/albums&quot;</span><span class="p">,</span> 
                          <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;ids&quot;</span><span class="p">:</span> <span class="n">ids</span><span class="p">})</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ids</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span><span class="s2">&quot;put&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/me/albums&quot;</span><span class="p">,</span>
                          <span class="n">json</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;ids&quot;</span><span class="p">:</span> <span class="n">ids</span><span class="p">})</span></div>


<div class="viewcode-block" id="WebAPI.remove_saved_albums">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.remove_saved_albums">[docs]</a>
    <span class="k">def</span> <span class="nf">remove_saved_albums</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ids</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Albums &gt; Remove Users&#39; Saved Albums</span>
<span class="sd">        &lt;https://developer.spotify.com/documentation/web-api/reference/</span>
<span class="sd">        remove-albums-user&gt;`_: Remove one or more albums</span>
<span class="sd">        from the current user&#39;s &#39;Your Music&#39; library.</span>
<span class="sd">        </span>
<span class="sd">        .. admonition:: Authorization scope</span>
<span class="sd">           :class: warning</span>
<span class="sd">        </span>
<span class="sd">           Requires the :code:`user-library-modify` scope.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        ids : `str` or `list`</span>
<span class="sd">            A (comma-separated) list of the Spotify IDs for the albums.</span>
<span class="sd">            </span>
<span class="sd">            **Maximum**: 20 (`str`) or 50 (`list`) IDs.</span>

<span class="sd">            **Example**: :code:`&quot;382ObEPsp2rxGrnsizN5TX,</span>
<span class="sd">            1A2GTWGtFfWp7KSQTwWOyo, 2noRn2Aes5aoNVsU6iWThc&quot;`.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_check_scope</span><span class="p">(</span><span class="s2">&quot;remove_saved_albums&quot;</span><span class="p">,</span> <span class="s2">&quot;user-library-modify&quot;</span><span class="p">)</span>
        
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ids</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span><span class="s2">&quot;delete&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/me/albums&quot;</span><span class="p">,</span>
                          <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;ids&quot;</span><span class="p">:</span> <span class="n">ids</span><span class="p">})</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ids</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span><span class="s2">&quot;delete&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/me/albums&quot;</span><span class="p">,</span>
                          <span class="n">json</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;ids&quot;</span><span class="p">:</span> <span class="n">ids</span><span class="p">})</span></div>


<div class="viewcode-block" id="WebAPI.check_saved_albums">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.check_saved_albums">[docs]</a>
    <span class="k">def</span> <span class="nf">check_saved_albums</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ids</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">bool</span><span class="p">]:</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Albums &gt; Check User&#39;s Saved Albums</span>
<span class="sd">        &lt;https://developer.spotify.com/documentation/web-api/reference/</span>
<span class="sd">        check-users-saved-albums&gt;`_: Check if one or more</span>
<span class="sd">        albums is already saved in the current Spotify user&#39;s &#39;Your</span>
<span class="sd">        Music&#39; library.</span>
<span class="sd">        </span>
<span class="sd">        .. admonition:: Authorization scope</span>
<span class="sd">           :class: warning</span>
<span class="sd">        </span>
<span class="sd">           Requires the :code:`user-library-read` scope.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        ids : `str` or `list`</span>
<span class="sd">            A (comma-separated) list of the Spotify IDs for the albums.</span>
<span class="sd">            </span>
<span class="sd">            **Maximum**: 20 IDs.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        contains : `list`</span>
<span class="sd">            Array of booleans specifying whether the albums are found in</span>
<span class="sd">            the user&#39;s &#39;Your Library &gt; Albums&#39;.</span>

<span class="sd">            **Example**: :code:`[False, True]`.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_check_scope</span><span class="p">(</span><span class="s2">&quot;check_saved_albums&quot;</span><span class="p">,</span> <span class="s2">&quot;user-library-read&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_json</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/me/albums/contains&quot;</span><span class="p">,</span>
            <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;ids&quot;</span><span class="p">:</span> <span class="n">ids</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ids</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="k">else</span> <span class="s2">&quot;,&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">ids</span><span class="p">)}</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="WebAPI.get_new_albums">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.get_new_albums">[docs]</a>
    <span class="k">def</span> <span class="nf">get_new_albums</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">country</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">offset</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Albums &gt; Get New Releases &lt;https://developer.spotify.com/</span>
<span class="sd">        documentation/web-api/reference/</span>
<span class="sd">        get-new-releases&gt;`_: Get a list of new album releases featured</span>
<span class="sd">        in Spotify (shown, for example, on a Spotify player&#39;s &quot;Browse&quot;</span>
<span class="sd">        tab).</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        country : `str`, keyword-only, optional</span>
<span class="sd">            A country: an ISO 3166-1 alpha-2 country code. Provide this</span>
<span class="sd">            parameter if you want the list of returned items to be</span>
<span class="sd">            relevant to a particular country. If omitted, the returned</span>
<span class="sd">            items will be relevant to all countries.</span>

<span class="sd">            **Example**: :code:`&quot;SE&quot;`.</span>

<span class="sd">        limit : `int`, keyword-only, optional</span>
<span class="sd">            The maximum number of results to return in each item type.</span>
<span class="sd">            </span>
<span class="sd">            **Valid values**: `limit` must be between 0 and 50.</span>

<span class="sd">            **Default**: :code:`20`.</span>

<span class="sd">        offset : `int`, keyword-only, optional</span>
<span class="sd">            The index of the first result to return. Use with `limit` to</span>
<span class="sd">            get the next page of search results. </span>
<span class="sd">            </span>
<span class="sd">            **Valid values**: `offset` must be between 0 and 1,000.</span>

<span class="sd">            **Default**: :code:`0`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        albums : `list`</span>
<span class="sd">            A list containing Spotify catalog information for</span>
<span class="sd">            newly-released albums.</span>

<span class="sd">            .. admonition:: Sample response</span>
<span class="sd">               :class: dropdown</span>

<span class="sd">               .. code::</span>

<span class="sd">                  {</span>
<span class="sd">                    &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;limit&quot;: &lt;int&gt;,</span>
<span class="sd">                    &quot;next&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;offset&quot;: &lt;int&gt;,</span>
<span class="sd">                    &quot;previous&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;total&quot;: &lt;int&gt;,</span>
<span class="sd">                    &quot;items&quot;: [</span>
<span class="sd">                      {</span>
<span class="sd">                        &quot;album_type&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;total_tracks&quot;: &lt;int&gt;,</span>
<span class="sd">                        &quot;available_markets&quot;: [&lt;str&gt;],</span>
<span class="sd">                        &quot;external_urls&quot;: {</span>
<span class="sd">                          &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                        },</span>
<span class="sd">                        &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;images&quot;: [</span>
<span class="sd">                          {</span>
<span class="sd">                            &quot;url&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;height&quot;: &lt;int&gt;,</span>
<span class="sd">                            &quot;width&quot;: &lt;int&gt;</span>
<span class="sd">                          }</span>
<span class="sd">                        ],</span>
<span class="sd">                        &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;release_date&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;release_date_precision&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;restrictions&quot;: {</span>
<span class="sd">                          &quot;reason&quot;: &lt;str&gt;</span>
<span class="sd">                        },</span>
<span class="sd">                        &quot;type&quot;: &quot;album&quot;,</span>
<span class="sd">                        &quot;uri&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;copyrights&quot;: [</span>
<span class="sd">                          {</span>
<span class="sd">                            &quot;text&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;type&quot;: &lt;str&gt;</span>
<span class="sd">                          }</span>
<span class="sd">                        ],</span>
<span class="sd">                        &quot;external_ids&quot;: {</span>
<span class="sd">                          &quot;isrc&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;ean&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;upc&quot;: &lt;str&gt;</span>
<span class="sd">                        },</span>
<span class="sd">                        &quot;genres&quot;: [&lt;str&gt;],</span>
<span class="sd">                        &quot;label&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;popularity&quot;: &lt;int&gt;,</span>
<span class="sd">                        &quot;album_group&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;artists&quot;: [</span>
<span class="sd">                          {</span>
<span class="sd">                            &quot;external_urls&quot;: {</span>
<span class="sd">                              &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                            },</span>
<span class="sd">                            &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;type&quot;: &quot;artist&quot;,</span>
<span class="sd">                            &quot;uri&quot;: &lt;str&gt;</span>
<span class="sd">                          }</span>
<span class="sd">                        ]</span>
<span class="sd">                      }</span>
<span class="sd">                    ]</span>
<span class="sd">                  }</span>
<span class="sd">    &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_json</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/browse/new-releases&quot;</span><span class="p">,</span>
            <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;country&quot;</span><span class="p">:</span> <span class="n">country</span><span class="p">,</span> <span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="n">limit</span><span class="p">,</span> <span class="s2">&quot;offset&quot;</span><span class="p">:</span> <span class="n">offset</span><span class="p">}</span>
        <span class="p">)[</span><span class="s2">&quot;albums&quot;</span><span class="p">]</span></div>


    <span class="c1">### ARTISTS ###############################################################</span>

<div class="viewcode-block" id="WebAPI.get_artist">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.get_artist">[docs]</a>
    <span class="k">def</span> <span class="nf">get_artist</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Artists &gt; Get Artist &lt;https://developer.spotify.com/</span>
<span class="sd">        documentation/web-api/reference/get-an-artist&gt;`_:</span>
<span class="sd">        Get Spotify catalog information for a single artist identified</span>
<span class="sd">        by their unique Spotify ID.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        id : `str`</span>
<span class="sd">            The Spotify ID of the artist.</span>

<span class="sd">            **Example**: :code:`&quot;0TnOYISbd1XYRBk9myaseg&quot;`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        artist : `dict`</span>
<span class="sd">            Spotify catalog information for a single artist.</span>

<span class="sd">            .. admonition:: Sample response</span>
<span class="sd">               :class: dropdown</span>

<span class="sd">               .. code::</span>

<span class="sd">                  {</span>
<span class="sd">                    &quot;external_urls&quot;: {</span>
<span class="sd">                      &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                    },</span>
<span class="sd">                    &quot;followers&quot;: {</span>
<span class="sd">                      &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;total&quot;: &lt;int&gt;</span>
<span class="sd">                    },</span>
<span class="sd">                    &quot;genres&quot;: [&lt;str&gt;],</span>
<span class="sd">                    &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;images&quot;: [</span>
<span class="sd">                      {</span>
<span class="sd">                        &quot;url&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;height&quot;: &lt;int&gt;,</span>
<span class="sd">                        &quot;width&quot;: &lt;int&gt;</span>
<span class="sd">                      }</span>
<span class="sd">                    ],</span>
<span class="sd">                    &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;popularity&quot;: &lt;int&gt;,</span>
<span class="sd">                    &quot;type&quot;: &quot;artist&quot;,</span>
<span class="sd">                    &quot;uri&quot;: &lt;str&gt;</span>
<span class="sd">                  }</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_json</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/artists/</span><span class="si">{</span><span class="nb">id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span></div>


<div class="viewcode-block" id="WebAPI.get_artists">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.get_artists">[docs]</a>
    <span class="k">def</span> <span class="nf">get_artists</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="n">ids</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]]</span>
        <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Artists &gt; Get Several Artists &lt;https://developer.spotify.com/</span>
<span class="sd">        documentation/web-api/reference/</span>
<span class="sd">        get-multiple-artists&gt;`_: Get Spotify catalog information for</span>
<span class="sd">        several artists based on their Spotify IDs.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        ids : `str`</span>
<span class="sd">            A (comma-separated) list of the Spotify IDs for the artists.</span>
<span class="sd">            </span>
<span class="sd">            **Maximum**: 50 IDs.</span>

<span class="sd">            **Example**: :code:`&quot;2CIMQHirSU0MQqyYHq0eOx,</span>
<span class="sd">            57dN52uHvrHOxijzpIgu3E, 1vCWHaC5f2uS3yhpwWbIA6&quot;`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        artists : `list`</span>
<span class="sd">            A list containing Spotify catalog information for multiple</span>
<span class="sd">            artists.</span>

<span class="sd">            .. admonition:: Sample response</span>
<span class="sd">               :class: dropdown</span>
<span class="sd">               </span>
<span class="sd">               .. code::</span>

<span class="sd">                  [</span>
<span class="sd">                    {</span>
<span class="sd">                      &quot;external_urls&quot;: {</span>
<span class="sd">                        &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                      },</span>
<span class="sd">                      &quot;followers&quot;: {</span>
<span class="sd">                        &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;total&quot;: &lt;int&gt;</span>
<span class="sd">                      },</span>
<span class="sd">                      &quot;genres&quot;: [&lt;str&gt;],</span>
<span class="sd">                      &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;images&quot;: [</span>
<span class="sd">                        {</span>
<span class="sd">                          &quot;url&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;height&quot;: &lt;int&gt;,</span>
<span class="sd">                          &quot;width&quot;: &lt;int&gt;</span>
<span class="sd">                        }</span>
<span class="sd">                      ],</span>
<span class="sd">                      &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;popularity&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;type&quot;: &quot;artist&quot;,</span>
<span class="sd">                      &quot;uri&quot;: &lt;str&gt;</span>
<span class="sd">                    }</span>
<span class="sd">                  ]</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_json</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/artists&quot;</span><span class="p">,</span>
            <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;ids&quot;</span><span class="p">:</span> <span class="n">ids</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ids</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="k">else</span> <span class="s2">&quot;,&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">ids</span><span class="p">)}</span>
        <span class="p">)[</span><span class="s2">&quot;artists&quot;</span><span class="p">]</span></div>


<div class="viewcode-block" id="WebAPI.get_artist_albums">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.get_artist_albums">[docs]</a>
    <span class="k">def</span> <span class="nf">get_artist_albums</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">include_groups</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">market</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">offset</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Artist &gt; Get Artist&#39;s Albums &lt;https://developer.spotify.com/</span>
<span class="sd">        documentation/web-api/reference/</span>
<span class="sd">        get-an-artists-albums&gt;`_: Get Spotify catalog information about</span>
<span class="sd">        an artist&#39;s albums.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        id : `str`</span>
<span class="sd">            The Spotify ID of the artist.</span>

<span class="sd">            **Example**: :code:`&quot;0TnOYISbd1XYRBk9myaseg&quot;`.</span>
<span class="sd">        </span>
<span class="sd">        include_groups : `str` or `list`, keyword-only, optional</span>
<span class="sd">            A comma-separated list of keywords that will be used to</span>
<span class="sd">            filter the response. If not supplied, all album types will</span>
<span class="sd">            be returned.</span>

<span class="sd">            .. container::</span>

<span class="sd">               **Valid values**: </span>
<span class="sd">               </span>
<span class="sd">               * :code:`&quot;album&quot;` for albums.</span>
<span class="sd">               * :code:`&quot;single&quot;` for singles or promotional releases.</span>
<span class="sd">               * :code:`&quot;appears_on&quot;` for albums that `artist` appears </span>
<span class="sd">                 on as a featured artist.</span>
<span class="sd">               * :code:`&quot;compilation&quot;` for compilations.</span>

<span class="sd">               **Examples**: </span>
<span class="sd">            </span>
<span class="sd">               * :code:`&quot;album,single&quot;` for albums and singles where</span>
<span class="sd">                 `artist` is the main album artist.</span>
<span class="sd">               * :code:`&quot;single,appears_on&quot;` for singles and albums that</span>
<span class="sd">                 `artist` appears on.</span>

<span class="sd">        limit : `int`, keyword-only, optional</span>
<span class="sd">            The maximum number of results to return in each item type.</span>
<span class="sd">            </span>
<span class="sd">            **Valid values**: `limit` must be between 0 and 50.</span>

<span class="sd">            **Default**: :code:`20`.</span>

<span class="sd">        market : `str`, keyword-only, optional</span>
<span class="sd">            An ISO 3166-1 alpha-2 country code. If a country code is</span>
<span class="sd">            specified, only content that is available in that market</span>
<span class="sd">            will be returned. If a valid user access token is specified</span>
<span class="sd">            in the request header, the country associated with the user</span>
<span class="sd">            account will take priority over this parameter.</span>

<span class="sd">            .. note::</span>

<span class="sd">               If neither market or user country are provided, the </span>
<span class="sd">               content is considered unavailable for the client.</span>
<span class="sd">            </span>
<span class="sd">            **Example**: :code:`&quot;ES&quot;`.</span>

<span class="sd">        offset : `int`, keyword-only, optional</span>
<span class="sd">            The index of the first result to return. Use with `limit` to</span>
<span class="sd">            get the next page of search results.</span>

<span class="sd">            **Default**: :code:`0`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        albums : `list`</span>
<span class="sd">            A list containing Spotify catalog information for the</span>
<span class="sd">            artist&#39;s albums.</span>

<span class="sd">            .. admonition:: Sample response</span>
<span class="sd">               :class: dropdown</span>

<span class="sd">               .. code::</span>

<span class="sd">                  {</span>
<span class="sd">                    &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;limit&quot;: &lt;int&gt;,</span>
<span class="sd">                    &quot;next&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;offset&quot;: &lt;int&gt;,</span>
<span class="sd">                    &quot;previous&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;total&quot;: &lt;int&gt;,</span>
<span class="sd">                    &quot;items&quot;: [</span>
<span class="sd">                      {</span>
<span class="sd">                        &quot;album_type&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;total_tracks&quot;: &lt;int&gt;,</span>
<span class="sd">                        &quot;available_markets&quot;: [&lt;str&gt;],</span>
<span class="sd">                        &quot;external_urls&quot;: {</span>
<span class="sd">                          &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                        },</span>
<span class="sd">                        &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;images&quot;: [</span>
<span class="sd">                          {</span>
<span class="sd">                            &quot;url&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;height&quot;: &lt;int&gt;,</span>
<span class="sd">                            &quot;width&quot;: &lt;int&gt;</span>
<span class="sd">                          }</span>
<span class="sd">                        ],</span>
<span class="sd">                        &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;release_date&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;release_date_precision&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;restrictions&quot;: {</span>
<span class="sd">                          &quot;reason&quot;: &lt;str&gt;</span>
<span class="sd">                        },</span>
<span class="sd">                        &quot;type&quot;: &quot;album&quot;,</span>
<span class="sd">                        &quot;uri&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;copyrights&quot;: [</span>
<span class="sd">                          {</span>
<span class="sd">                            &quot;text&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;type&quot;: &lt;str&gt;</span>
<span class="sd">                          }</span>
<span class="sd">                        ],</span>
<span class="sd">                        &quot;external_ids&quot;: {</span>
<span class="sd">                          &quot;isrc&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;ean&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;upc&quot;: &lt;str&gt;</span>
<span class="sd">                        },</span>
<span class="sd">                        &quot;genres&quot;: [&lt;str&gt;],</span>
<span class="sd">                        &quot;label&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;popularity&quot;: &lt;int&gt;,</span>
<span class="sd">                        &quot;album_group&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;artists&quot;: [</span>
<span class="sd">                          {</span>
<span class="sd">                            &quot;external_urls&quot;: {</span>
<span class="sd">                              &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                            },</span>
<span class="sd">                            &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;type&quot;: &quot;artist&quot;,</span>
<span class="sd">                            &quot;uri&quot;: &lt;str&gt;</span>
<span class="sd">                          }</span>
<span class="sd">                        ]</span>
<span class="sd">                      }</span>
<span class="sd">                    ]</span>
<span class="sd">                  }</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_json</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/artists/</span><span class="si">{</span><span class="nb">id</span><span class="si">}</span><span class="s2">/albums&quot;</span><span class="p">,</span>
            <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;include_groups&quot;</span><span class="p">:</span> <span class="n">include_groups</span><span class="p">,</span> <span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="n">limit</span><span class="p">,</span>
                    <span class="s2">&quot;market&quot;</span><span class="p">:</span> <span class="n">market</span><span class="p">,</span> <span class="s2">&quot;offset&quot;</span><span class="p">:</span> <span class="n">offset</span><span class="p">}</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="WebAPI.get_artist_top_tracks">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.get_artist_top_tracks">[docs]</a>
    <span class="k">def</span> <span class="nf">get_artist_top_tracks</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">market</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;US&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Artist &gt; Get Artist&#39;s Top Tracks</span>
<span class="sd">        &lt;https://developer.spotify.com/documentation/web-api/reference/</span>
<span class="sd">        get-an-artists-top-tracks&gt;`_: Get Spotify catalog</span>
<span class="sd">        information about an artist&#39;s top tracks by country.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        id : `str`</span>
<span class="sd">            The Spotify ID of the artist.</span>

<span class="sd">            **Example**: :code:`&quot;0TnOYISbd1XYRBk9myaseg&quot;`.</span>

<span class="sd">        market : `str`, keyword-only, default: :code:`&quot;US&quot;`</span>
<span class="sd">            An ISO 3166-1 alpha-2 country code. If a country code is</span>
<span class="sd">            specified, only content that is available in that market</span>
<span class="sd">            will be returned. If a valid user access token is specified</span>
<span class="sd">            in the request header, the country associated with the user</span>
<span class="sd">            account will take priority over this parameter.</span>

<span class="sd">            .. note::</span>

<span class="sd">               If neither market or user country are provided, the </span>
<span class="sd">               content is considered unavailable for the client.</span>
<span class="sd">            </span>
<span class="sd">            **Example**: :code:`&quot;ES&quot;`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        tracks : `list`</span>
<span class="sd">            A list containing Spotify catalog information for the </span>
<span class="sd">            artist&#39;s top tracks.</span>

<span class="sd">            .. admonition:: Sample response</span>
<span class="sd">               :class: dropdown</span>

<span class="sd">               .. code::</span>

<span class="sd">                  [</span>
<span class="sd">                    {</span>
<span class="sd">                      &quot;album&quot;: {</span>
<span class="sd">                        &quot;album_type&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;total_tracks&quot;: &lt;int&gt;,</span>
<span class="sd">                        &quot;available_markets&quot;: [&lt;str&gt;],</span>
<span class="sd">                        &quot;external_urls&quot;: {</span>
<span class="sd">                          &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                        },</span>
<span class="sd">                        &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;images&quot;: [</span>
<span class="sd">                          {</span>
<span class="sd">                            &quot;url&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;height&quot;: &lt;int&gt;,</span>
<span class="sd">                            &quot;width&quot;: &lt;int&gt;</span>
<span class="sd">                          }</span>
<span class="sd">                        ],</span>
<span class="sd">                        &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;release_date&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;release_date_precision&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;restrictions&quot;: {</span>
<span class="sd">                          &quot;reason&quot;: &lt;str&gt;</span>
<span class="sd">                        },</span>
<span class="sd">                        &quot;type&quot;: &quot;album&quot;,</span>
<span class="sd">                        &quot;uri&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;copyrights&quot;: [</span>
<span class="sd">                          {</span>
<span class="sd">                            &quot;text&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;type&quot;: &lt;str&gt;</span>
<span class="sd">                          }</span>
<span class="sd">                        ],</span>
<span class="sd">                        &quot;external_ids&quot;: {</span>
<span class="sd">                          &quot;isrc&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;ean&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;upc&quot;: &lt;str&gt;</span>
<span class="sd">                        },</span>
<span class="sd">                        &quot;genres&quot;: [&lt;str&gt;],</span>
<span class="sd">                        &quot;label&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;popularity&quot;: &lt;int&gt;,</span>
<span class="sd">                        &quot;album_group&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;artists&quot;: [</span>
<span class="sd">                          {</span>
<span class="sd">                            &quot;external_urls&quot;: {</span>
<span class="sd">                              &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                            },</span>
<span class="sd">                            &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;type&quot;: &quot;artist&quot;,</span>
<span class="sd">                            &quot;uri&quot;: &lt;str&gt;</span>
<span class="sd">                          }</span>
<span class="sd">                        ]</span>
<span class="sd">                      },</span>
<span class="sd">                      &quot;artists&quot;: [</span>
<span class="sd">                        {</span>
<span class="sd">                          &quot;external_urls&quot;: {</span>
<span class="sd">                            &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;followers&quot;: {</span>
<span class="sd">                            &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;total&quot;: &lt;int&gt;</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;genres&quot;: [&lt;str&gt;],</span>
<span class="sd">                          &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;images&quot;: [</span>
<span class="sd">                            {</span>
<span class="sd">                              &quot;url&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;height&quot;: &lt;int&gt;,</span>
<span class="sd">                              &quot;width&quot;: &lt;int&gt;</span>
<span class="sd">                            }</span>
<span class="sd">                          ],</span>
<span class="sd">                          &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;popularity&quot;: &lt;int&gt;,</span>
<span class="sd">                          &quot;type&quot;: &quot;artist&quot;,</span>
<span class="sd">                          &quot;uri&quot;: &lt;str&gt;</span>
<span class="sd">                        }</span>
<span class="sd">                      ],</span>
<span class="sd">                      &quot;available_markets&quot;: [&lt;str&gt;],</span>
<span class="sd">                      &quot;disc_number&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;duration_ms&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;explicit&quot;: &lt;bool&gt;,</span>
<span class="sd">                      &quot;external_ids&quot;: {</span>
<span class="sd">                        &quot;isrc&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;ean&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;upc&quot;: &lt;str&gt;</span>
<span class="sd">                      },</span>
<span class="sd">                      &quot;external_urls&quot;: {</span>
<span class="sd">                        &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                      },</span>
<span class="sd">                      &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;is_playable&quot;: &lt;bool&gt;,</span>
<span class="sd">                      &quot;linked_from&quot;: {</span>
<span class="sd">                      },</span>
<span class="sd">                      &quot;restrictions&quot;: {</span>
<span class="sd">                        &quot;reason&quot;: &lt;str&gt;</span>
<span class="sd">                      },</span>
<span class="sd">                      &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;popularity&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;preview_url&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;track_number&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;type&quot;: &quot;track&quot;,</span>
<span class="sd">                      &quot;uri&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;is_local&quot;: &lt;bool&gt;</span>
<span class="sd">                    }</span>
<span class="sd">                  ]</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_json</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/artists/</span><span class="si">{</span><span class="nb">id</span><span class="si">}</span><span class="s2">/top-tracks&quot;</span><span class="p">,</span>
                              <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;market&quot;</span><span class="p">:</span> <span class="n">market</span><span class="p">})[</span><span class="s2">&quot;tracks&quot;</span><span class="p">]</span></div>


<div class="viewcode-block" id="WebAPI.get_related_artists">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.get_related_artists">[docs]</a>
    <span class="k">def</span> <span class="nf">get_related_artists</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Artists &gt; Get Artist&#39;s Related Artists</span>
<span class="sd">        &lt;https://developer.spotify.com/documentation/web-api/reference/</span>
<span class="sd">        get-an-artists-related-artists&gt;`_: Get Spotify</span>
<span class="sd">        catalog information about artists similar to a given artist.</span>
<span class="sd">        Similarity is based on analysis of the Spotify community&#39;s</span>
<span class="sd">        listening history.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        id : `str`</span>
<span class="sd">            The Spotify ID of the artist.</span>

<span class="sd">            **Example**: :code:`&quot;0TnOYISbd1XYRBk9myaseg&quot;`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        artists : `list`</span>
<span class="sd">            A list containing Spotify catalog information for the </span>
<span class="sd">            artist&#39;s related artists.</span>

<span class="sd">            .. admonition:: Sample response</span>
<span class="sd">               :class: dropdown</span>

<span class="sd">               .. code::</span>

<span class="sd">                  [</span>
<span class="sd">                    {</span>
<span class="sd">                      &quot;external_urls&quot;: {</span>
<span class="sd">                        &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                      },</span>
<span class="sd">                      &quot;followers&quot;: {</span>
<span class="sd">                        &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;total&quot;: &lt;int&gt;</span>
<span class="sd">                      },</span>
<span class="sd">                      &quot;genres&quot;: [&lt;str&gt;],</span>
<span class="sd">                      &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;images&quot;: [</span>
<span class="sd">                        {</span>
<span class="sd">                          &quot;url&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;height&quot;: &lt;int&gt;,</span>
<span class="sd">                          &quot;width&quot;: &lt;int&gt;</span>
<span class="sd">                        }</span>
<span class="sd">                      ],</span>
<span class="sd">                      &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;popularity&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;type&quot;: &quot;artist&quot;,</span>
<span class="sd">                      &quot;uri&quot;: &lt;str&gt;</span>
<span class="sd">                    }</span>
<span class="sd">                  ]</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_json</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/artists/</span><span class="si">{</span><span class="nb">id</span><span class="si">}</span><span class="s2">/related-artists&quot;</span><span class="p">)[</span><span class="s2">&quot;artists&quot;</span><span class="p">]</span></div>


    <span class="c1">### AUDIOBOOKS ############################################################</span>

<div class="viewcode-block" id="WebAPI.get_audiobook">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.get_audiobook">[docs]</a>
    <span class="k">def</span> <span class="nf">get_audiobook</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">market</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Audiobooks &gt; Get an Audiobook</span>
<span class="sd">        &lt;https://developer.spotify.com/documentation/web-api/reference/</span>
<span class="sd">        get-an-audiobook&gt;`_: Get Spotify catalog</span>
<span class="sd">        information for a single audiobook.</span>

<span class="sd">        .. note::</span>

<span class="sd">           Audiobooks are only available for the US, UK, Ireland, New</span>
<span class="sd">           Zealand, and Australia markets.</span>
<span class="sd">    </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        id : `str`</span>
<span class="sd">            The Spotify ID for the audiobook.</span>

<span class="sd">            **Example**: :code:`&quot;7iHfbu1YPACw6oZPAFJtqe&quot;`.</span>

<span class="sd">        market : `str`, keyword-only, optional</span>
<span class="sd">            An ISO 3166-1 alpha-2 country code. If a country code is</span>
<span class="sd">            specified, only content that is available in that market</span>
<span class="sd">            will be returned. If a valid user access token is specified</span>
<span class="sd">            in the request header, the country associated with the user</span>
<span class="sd">            account will take priority over this parameter.</span>

<span class="sd">            .. note::</span>

<span class="sd">               If neither market or user country are provided, the </span>
<span class="sd">               content is considered unavailable for the client.</span>
<span class="sd">            </span>
<span class="sd">            **Example**: :code:`&quot;ES&quot;`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        audiobook : `dict`</span>
<span class="sd">            Spotify catalog information for a single audiobook.</span>

<span class="sd">            .. admonition:: Sample response</span>
<span class="sd">               :class: dropdown</span>

<span class="sd">               .. code::</span>

<span class="sd">                  {</span>
<span class="sd">                    &quot;authors&quot;: [</span>
<span class="sd">                      {</span>
<span class="sd">                        &quot;name&quot;: &lt;str&gt;</span>
<span class="sd">                      }</span>
<span class="sd">                    ],</span>
<span class="sd">                    &quot;available_markets&quot;: [&lt;str&gt;],</span>
<span class="sd">                    &quot;copyrights&quot;: [</span>
<span class="sd">                      {</span>
<span class="sd">                        &quot;text&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;type&quot;: &lt;str&gt;</span>
<span class="sd">                      }</span>
<span class="sd">                    ],</span>
<span class="sd">                    &quot;description&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;html_description&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;edition&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;explicit&quot;: &lt;bool&gt;,</span>
<span class="sd">                    &quot;external_urls&quot;: {</span>
<span class="sd">                      &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                    },</span>
<span class="sd">                    &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;images&quot;: [</span>
<span class="sd">                      {</span>
<span class="sd">                        &quot;url&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;height&quot;: &lt;int&gt;,</span>
<span class="sd">                        &quot;width&quot;: &lt;int&gt;</span>
<span class="sd">                      }</span>
<span class="sd">                    ],</span>
<span class="sd">                    &quot;languages&quot;: [&lt;str&gt;],</span>
<span class="sd">                    &quot;media_type&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;narrators&quot;: [</span>
<span class="sd">                      {</span>
<span class="sd">                        &quot;name&quot;: &lt;str&gt;</span>
<span class="sd">                      }</span>
<span class="sd">                    ],</span>
<span class="sd">                    &quot;publisher&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;type&quot;: &quot;audiobook&quot;,</span>
<span class="sd">                    &quot;uri&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;total_chapters&quot;: &lt;int&gt;,</span>
<span class="sd">                    &quot;chapters&quot;: {</span>
<span class="sd">                      &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;limit&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;next&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;offset&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;previous&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;total&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;items&quot;: [</span>
<span class="sd">                        {</span>
<span class="sd">                          &quot;audio_preview_url&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;available_markets&quot;: [&lt;str&gt;],</span>
<span class="sd">                          &quot;chapter_number&quot;: &lt;int&gt;,</span>
<span class="sd">                          &quot;description&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;html_description&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;duration_ms&quot;: &lt;int&gt;,</span>
<span class="sd">                          &quot;explicit&quot;: &lt;bool&gt;,</span>
<span class="sd">                          &quot;external_urls&quot;: {</span>
<span class="sd">                            &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;images&quot;: [</span>
<span class="sd">                            {</span>
<span class="sd">                              &quot;url&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;height&quot;: &lt;int&gt;,</span>
<span class="sd">                              &quot;width&quot;: &lt;int&gt;</span>
<span class="sd">                            }</span>
<span class="sd">                          ],</span>
<span class="sd">                          &quot;is_playable&quot;: &lt;bool&gt;</span>
<span class="sd">                          &quot;languages&quot;: [&lt;str&gt;],</span>
<span class="sd">                          &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;release_date&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;release_date_precision&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;resume_point&quot;: {</span>
<span class="sd">                            &quot;fully_played&quot;: &lt;bool&gt;,</span>
<span class="sd">                            &quot;resume_position_ms&quot;: &lt;int&gt;</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;type&quot;: &quot;episode&quot;,</span>
<span class="sd">                          &quot;uri&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;restrictions&quot;: {</span>
<span class="sd">                            &quot;reason&quot;: &lt;str&gt;</span>
<span class="sd">                          }</span>
<span class="sd">                        }</span>
<span class="sd">                      ]</span>
<span class="sd">                    }</span>
<span class="sd">                  }</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_json</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/audiobooks/</span><span class="si">{</span><span class="nb">id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                              <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;market&quot;</span><span class="p">:</span> <span class="n">market</span><span class="p">})</span></div>


<div class="viewcode-block" id="WebAPI.get_audiobooks">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.get_audiobooks">[docs]</a>
    <span class="k">def</span> <span class="nf">get_audiobooks</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="n">ids</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]],</span> <span class="o">*</span><span class="p">,</span>
            <span class="n">market</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Audiobooks &gt; Get Several Audiobooks</span>
<span class="sd">        &lt;https://developer.spotify.com/documentation/web-api/reference/</span>
<span class="sd">        get-multiple-audiobooks&gt;`_: Get Spotify catalog</span>
<span class="sd">        information for several audiobooks identified by their Spotify</span>
<span class="sd">        IDs.</span>

<span class="sd">        .. note::</span>

<span class="sd">           Audiobooks are only available for the US, UK, Ireland, New</span>
<span class="sd">           Zealand, and Australia markets.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        ids : `int`, `str`, or `list`</span>
<span class="sd">            A (comma-separated) list of the Spotify IDs for the</span>
<span class="sd">            audiobooks. </span>
<span class="sd">            </span>
<span class="sd">            **Maximum**: 50 IDs.</span>

<span class="sd">            **Example**: :code:`&quot;18yVqkdbdRvS24c0Ilj2ci,</span>
<span class="sd">            1HGw3J3NxZO1TP1BTtVhpZ, 7iHfbu1YPACw6oZPAFJtqe&quot;`.</span>

<span class="sd">        market : `str`, keyword-only, optional</span>
<span class="sd">            An ISO 3166-1 alpha-2 country code. If a country code is</span>
<span class="sd">            specified, only content that is available in that market</span>
<span class="sd">            will be returned. If a valid user access token is specified</span>
<span class="sd">            in the request header, the country associated with the user</span>
<span class="sd">            account will take priority over this parameter.</span>

<span class="sd">            .. note::</span>

<span class="sd">               If neither market or user country are provided, the </span>
<span class="sd">               content is considered unavailable for the client.</span>
<span class="sd">            </span>
<span class="sd">            **Example**: :code:`&quot;ES&quot;`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        audiobooks : `dict` or `list`</span>
<span class="sd">            A list containing Spotify catalog information for multiple</span>
<span class="sd">            audiobooks.</span>

<span class="sd">            .. admonition:: Sample response</span>
<span class="sd">               :class: dropdown</span>

<span class="sd">               .. code::</span>

<span class="sd">                  [</span>
<span class="sd">                    {</span>
<span class="sd">                      &quot;authors&quot;: [</span>
<span class="sd">                        {</span>
<span class="sd">                          &quot;name&quot;: &lt;str&gt;</span>
<span class="sd">                        }</span>
<span class="sd">                      ],</span>
<span class="sd">                      &quot;available_markets&quot;: [&lt;str&gt;],</span>
<span class="sd">                      &quot;copyrights&quot;: [</span>
<span class="sd">                        {</span>
<span class="sd">                          &quot;text&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;type&quot;: &lt;str&gt;</span>
<span class="sd">                        }</span>
<span class="sd">                      ],</span>
<span class="sd">                      &quot;description&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;html_description&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;edition&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;explicit&quot;: &lt;bool&gt;,</span>
<span class="sd">                      &quot;external_urls&quot;: {</span>
<span class="sd">                        &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                      },</span>
<span class="sd">                      &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;images&quot;: [</span>
<span class="sd">                        {</span>
<span class="sd">                          &quot;url&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;height&quot;: &lt;int&gt;,</span>
<span class="sd">                          &quot;width&quot;: &lt;int&gt;</span>
<span class="sd">                        }</span>
<span class="sd">                      ],</span>
<span class="sd">                      &quot;languages&quot;: [&lt;str&gt;],</span>
<span class="sd">                      &quot;media_type&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;narrators&quot;: [</span>
<span class="sd">                        {</span>
<span class="sd">                          &quot;name&quot;: &lt;str&gt;</span>
<span class="sd">                        }</span>
<span class="sd">                      ],</span>
<span class="sd">                      &quot;publisher&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;type&quot;: &quot;audiobook&quot;,</span>
<span class="sd">                      &quot;uri&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;total_chapters&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;chapters&quot;: {</span>
<span class="sd">                        &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;limit&quot;: &lt;int&gt;,</span>
<span class="sd">                        &quot;next&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;offset&quot;: &lt;int&gt;,</span>
<span class="sd">                        &quot;previous&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;total&quot;: &lt;int&gt;,</span>
<span class="sd">                        &quot;items&quot;: [</span>
<span class="sd">                          {</span>
<span class="sd">                            &quot;audio_preview_url&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;available_markets&quot;: [&lt;str&gt;],</span>
<span class="sd">                            &quot;chapter_number&quot;: &lt;int&gt;,</span>
<span class="sd">                            &quot;description&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;html_description&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;duration_ms&quot;: &lt;int&gt;,</span>
<span class="sd">                            &quot;explicit&quot;: &lt;bool&gt;,</span>
<span class="sd">                            &quot;external_urls&quot;: {</span>
<span class="sd">                              &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                            },</span>
<span class="sd">                            &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;images&quot;: [</span>
<span class="sd">                              {</span>
<span class="sd">                                &quot;url&quot;: &lt;str&gt;,</span>
<span class="sd">                                &quot;height&quot;: &lt;int&gt;,</span>
<span class="sd">                                &quot;width&quot;: &lt;int&gt;</span>
<span class="sd">                              }</span>
<span class="sd">                            ],</span>
<span class="sd">                            &quot;is_playable&quot;: &lt;bool&gt;</span>
<span class="sd">                            &quot;languages&quot;: [&lt;str&gt;],</span>
<span class="sd">                            &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;release_date&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;release_date_precision&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;resume_point&quot;: {</span>
<span class="sd">                              &quot;fully_played&quot;: &lt;bool&gt;,</span>
<span class="sd">                              &quot;resume_position_ms&quot;: &lt;int&gt;</span>
<span class="sd">                            },</span>
<span class="sd">                            &quot;type&quot;: &quot;episode&quot;,</span>
<span class="sd">                            &quot;uri&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;restrictions&quot;: {</span>
<span class="sd">                              &quot;reason&quot;: &lt;str&gt;</span>
<span class="sd">                            }</span>
<span class="sd">                          }</span>
<span class="sd">                        ]</span>
<span class="sd">                      }</span>
<span class="sd">                    }</span>
<span class="sd">                  ]</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_json</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/audiobooks&quot;</span><span class="p">,</span>
            <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;ids&quot;</span><span class="p">:</span> <span class="n">ids</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ids</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="k">else</span> <span class="s2">&quot;,&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">ids</span><span class="p">),</span>
                    <span class="s2">&quot;market&quot;</span><span class="p">:</span> <span class="n">market</span><span class="p">}</span>
        <span class="p">)[</span><span class="s2">&quot;audiobooks&quot;</span><span class="p">]</span></div>


<div class="viewcode-block" id="WebAPI.get_audiobook_chapters">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.get_audiobook_chapters">[docs]</a>
    <span class="k">def</span> <span class="nf">get_audiobook_chapters</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">market</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">offset</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Audiobooks &gt; Get Audiobook Chapters </span>
<span class="sd">        &lt;https://developer.spotify.com/documentation/web-api/reference/</span>
<span class="sd">        get-audiobook-chapters&gt;`_: Get Spotify catalog</span>
<span class="sd">        information about an audiobook&#39;s chapters.</span>
<span class="sd">        </span>
<span class="sd">        .. note::</span>

<span class="sd">           Audiobooks are only available for the US, UK, Ireland, New</span>
<span class="sd">           Zealand, and Australia markets.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        id : `str`</span>
<span class="sd">            The Spotify ID for the audiobook.</span>

<span class="sd">            **Example**: :code:`&quot;7iHfbu1YPACw6oZPAFJtqe&quot;`.</span>

<span class="sd">        limit : `int`, keyword-only, optional</span>
<span class="sd">            The maximum number of results to return in each item type.</span>
<span class="sd">            </span>
<span class="sd">            **Valid values**: `limit` must be between 0 and 50.</span>

<span class="sd">            **Default**: :code:`20`.</span>

<span class="sd">        market : `str`, keyword-only, optional</span>
<span class="sd">            An ISO 3166-1 alpha-2 country code. If a country code is</span>
<span class="sd">            specified, only content that is available in that market</span>
<span class="sd">            will be returned. If a valid user access token is specified</span>
<span class="sd">            in the request header, the country associated with the user</span>
<span class="sd">            account will take priority over this parameter.</span>

<span class="sd">            .. note::</span>

<span class="sd">               If neither market or user country are provided, the </span>
<span class="sd">               content is considered unavailable for the client.</span>
<span class="sd">            </span>
<span class="sd">            **Example**: :code:`&quot;ES&quot;`.</span>

<span class="sd">        offset : `int`, keyword-only, optional</span>
<span class="sd">            The index of the first result to return. Use with `limit` to</span>
<span class="sd">            get the next page of search results. </span>
<span class="sd">            </span>
<span class="sd">            **Valid values**: `offset` must be between 0 and 1,000.</span>

<span class="sd">            **Default**: :code:`0`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        audiobooks : `dict`</span>
<span class="sd">            A dictionary containing Spotify catalog information for an</span>
<span class="sd">            audiobook&#39;s chapters and the number of results returned.</span>

<span class="sd">            .. admonition:: Sample</span>
<span class="sd">               :class: dropdown</span>

<span class="sd">               .. code::</span>

<span class="sd">                  {</span>
<span class="sd">                    &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;limit&quot;: &lt;int&gt;,</span>
<span class="sd">                    &quot;next&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;offset&quot;: &lt;int&gt;,</span>
<span class="sd">                    &quot;previous&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;total&quot;: &lt;int&gt;,</span>
<span class="sd">                    &quot;items&quot;: [</span>
<span class="sd">                      {</span>
<span class="sd">                        &quot;audio_preview_url&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;available_markets&quot;: [&lt;str&gt;],</span>
<span class="sd">                        &quot;chapter_number&quot;: &lt;int&gt;,</span>
<span class="sd">                        &quot;description&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;html_description&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;duration_ms&quot;: &lt;int&gt;,</span>
<span class="sd">                        &quot;explicit&quot;: &lt;bool&gt;,</span>
<span class="sd">                        &quot;external_urls&quot;: {</span>
<span class="sd">                          &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                        },</span>
<span class="sd">                        &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;images&quot;: [</span>
<span class="sd">                          {</span>
<span class="sd">                            &quot;url&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;height&quot;: &lt;int&gt;,</span>
<span class="sd">                            &quot;width&quot;: &lt;int&gt;</span>
<span class="sd">                          }</span>
<span class="sd">                        ],</span>
<span class="sd">                        &quot;is_playable&quot;: &lt;bool&gt;</span>
<span class="sd">                        &quot;languages&quot;: [&lt;str&gt;],</span>
<span class="sd">                        &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;release_date&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;release_date_precision&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;resume_point&quot;: {</span>
<span class="sd">                          &quot;fully_played&quot;: &lt;bool&gt;,</span>
<span class="sd">                          &quot;resume_position_ms&quot;: &lt;int&gt;</span>
<span class="sd">                        },</span>
<span class="sd">                        &quot;type&quot;: &quot;episode&quot;,</span>
<span class="sd">                        &quot;uri&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;restrictions&quot;: {</span>
<span class="sd">                          &quot;reason&quot;: &lt;str&gt;</span>
<span class="sd">                        }</span>
<span class="sd">                      }</span>
<span class="sd">                    ]</span>
<span class="sd">                  }</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_json</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/audiobooks/</span><span class="si">{</span><span class="nb">id</span><span class="si">}</span><span class="s2">/chapters&quot;</span><span class="p">,</span>
            <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="n">limit</span><span class="p">,</span> <span class="s2">&quot;market&quot;</span><span class="p">:</span> <span class="n">market</span><span class="p">,</span> <span class="s2">&quot;offset&quot;</span><span class="p">:</span> <span class="n">offset</span><span class="p">}</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="WebAPI.get_saved_audiobooks">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.get_saved_audiobooks">[docs]</a>
    <span class="k">def</span> <span class="nf">get_saved_audiobooks</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">offset</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Audiobooks &gt; Get User&#39;s Saved Audiobooks</span>
<span class="sd">        &lt;https://developer.spotify.com/documentation/web-api/reference/</span>
<span class="sd">        get-users-saved-audiobooks&gt;`_: Get a list of the</span>
<span class="sd">        albums saved in the current Spotify user&#39;s audiobooks library.</span>
<span class="sd">        </span>
<span class="sd">        .. admonition:: Authorization scope</span>
<span class="sd">           :class: warning</span>
<span class="sd">        </span>
<span class="sd">           Requires the :code:`user-library-read` scope.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        limit : `int`, keyword-only, optional</span>
<span class="sd">            The maximum number of results to return in each item type.</span>
<span class="sd">            </span>
<span class="sd">            **Valid values**: `limit` must be between 0 and 50.</span>

<span class="sd">            **Default**: :code:`20`.</span>

<span class="sd">        offset : `int`, keyword-only, optional</span>
<span class="sd">            The index of the first result to return. Use with `limit` to</span>
<span class="sd">            get the next page of search results.</span>

<span class="sd">            **Default**: :code:`0`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        audiobooks : `dict`</span>
<span class="sd">            A dictionary containing Spotify catalog information for a</span>
<span class="sd">            user&#39;s saved audiobooks and the number of results</span>
<span class="sd">            returned.</span>

<span class="sd">            .. admonition:: Sample</span>
<span class="sd">               :class: dropdown</span>

<span class="sd">               .. code::</span>

<span class="sd">                  {</span>
<span class="sd">                    &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;limit&quot;: &lt;int&gt;,</span>
<span class="sd">                    &quot;next&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;offset&quot;: &lt;int&gt;,</span>
<span class="sd">                    &quot;previous&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;total&quot;: &lt;int&gt;,</span>
<span class="sd">                    &quot;items&quot;: [</span>
<span class="sd">                      {</span>
<span class="sd">                        &quot;authors&quot;: [</span>
<span class="sd">                          {</span>
<span class="sd">                            &quot;name&quot;: &lt;str&gt;</span>
<span class="sd">                          }</span>
<span class="sd">                        ],</span>
<span class="sd">                        &quot;available_markets&quot;: [&lt;str&gt;],</span>
<span class="sd">                        &quot;copyrights&quot;: [</span>
<span class="sd">                          {</span>
<span class="sd">                            &quot;text&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;type&quot;: &lt;str&gt;</span>
<span class="sd">                          }</span>
<span class="sd">                        ],</span>
<span class="sd">                        &quot;description&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;html_description&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;edition&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;explicit&quot;: &lt;bool&gt;,</span>
<span class="sd">                        &quot;external_urls&quot;: {</span>
<span class="sd">                          &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                        },</span>
<span class="sd">                        &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;images&quot;: [</span>
<span class="sd">                          {</span>
<span class="sd">                            &quot;url&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;height&quot;: &lt;int&gt;,</span>
<span class="sd">                            &quot;width&quot;: &lt;int&gt;</span>
<span class="sd">                          }</span>
<span class="sd">                        ],</span>
<span class="sd">                        &quot;languages&quot;: [&lt;str&gt;],</span>
<span class="sd">                        &quot;media_type&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;narrators&quot;: [</span>
<span class="sd">                          {</span>
<span class="sd">                            &quot;name&quot;: &lt;str&gt;</span>
<span class="sd">                          }</span>
<span class="sd">                        ],</span>
<span class="sd">                        &quot;publisher&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;type&quot;: &quot;audiobook&quot;,</span>
<span class="sd">                        &quot;uri&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;total_chapters&quot;: &lt;int&gt;</span>
<span class="sd">                      }</span>
<span class="sd">                    ]</span>
<span class="sd">                  }</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_check_scope</span><span class="p">(</span><span class="s2">&quot;get_saved_audiobooks&quot;</span><span class="p">,</span> <span class="s2">&quot;user-library-read&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_json</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/me/audiobooks&quot;</span><span class="p">,</span>
                              <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="n">limit</span><span class="p">,</span> <span class="s2">&quot;offset&quot;</span><span class="p">:</span> <span class="n">offset</span><span class="p">})</span></div>


<div class="viewcode-block" id="WebAPI.save_audiobooks">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.save_audiobooks">[docs]</a>
    <span class="k">def</span> <span class="nf">save_audiobooks</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ids</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Audiobooks &gt; Save Audiobooks for Current User</span>
<span class="sd">        &lt;https://developer.spotify.com/documentation/web-api/reference/</span>
<span class="sd">        save-audiobooks-user&gt;`_: Save one or more</span>
<span class="sd">        audiobooks to current Spotify user&#39;s library.</span>
<span class="sd">        </span>
<span class="sd">        .. admonition:: Authorization scope</span>
<span class="sd">           :class: warning</span>
<span class="sd">        </span>
<span class="sd">           Requires the :code:`user-library-modify` scope.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        ids : `str` or `list`</span>
<span class="sd">            A (comma-separated) list of the Spotify IDs for the</span>
<span class="sd">            audiobooks. </span>
<span class="sd">            </span>
<span class="sd">            **Maximum**: 50 IDs.</span>

<span class="sd">            **Example**: :code:`&quot;18yVqkdbdRvS24c0Ilj2ci,</span>
<span class="sd">            1HGw3J3NxZO1TP1BTtVhpZ, 7iHfbu1YPACw6oZPAFJtqe&quot;`.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_check_scope</span><span class="p">(</span><span class="s2">&quot;save_audiobooks&quot;</span><span class="p">,</span> <span class="s2">&quot;user-library-modify&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span>
            <span class="s2">&quot;put&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/me/audiobooks&quot;</span><span class="p">,</span>
            <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;ids&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">ids</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nb">isinstance</span><span class="p">(</span><span class="n">ids</span><span class="p">,</span><span class="w"> </span><span class="nb">str</span><span class="p">)</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">&#39;,&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">ids</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">}</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="WebAPI.remove_saved_audiobooks">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.remove_saved_audiobooks">[docs]</a>
    <span class="k">def</span> <span class="nf">remove_saved_audiobooks</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ids</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Audiobooks &gt; Remove User&#39;s Saved Audiobooks</span>
<span class="sd">        &lt;https://developer.spotify.com/documentation/web-api/reference/</span>
<span class="sd">        remove-audiobooks-user&gt;`_: Delete one or more</span>
<span class="sd">        audiobooks from current Spotify user&#39;s library.</span>
<span class="sd">        </span>
<span class="sd">        .. admonition:: Authorization scope</span>
<span class="sd">           :class: warning</span>
<span class="sd">        </span>
<span class="sd">           Requires the :code:`user-library-modify` scope.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        ids : `str` or `list`</span>
<span class="sd">            A (comma-separated) list of the Spotify IDs for the</span>
<span class="sd">            audiobooks. </span>
<span class="sd">            </span>
<span class="sd">            **Maximum**: 50 IDs.</span>

<span class="sd">            **Example**: :code:`&quot;18yVqkdbdRvS24c0Ilj2ci,</span>
<span class="sd">            1HGw3J3NxZO1TP1BTtVhpZ, 7iHfbu1YPACw6oZPAFJtqe&quot;`.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_check_scope</span><span class="p">(</span><span class="s2">&quot;remove_saved_audiobooks&quot;</span><span class="p">,</span> <span class="s2">&quot;user-library-modify&quot;</span><span class="p">)</span>
            
        <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span>
            <span class="s2">&quot;delete&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/me/audiobooks&quot;</span><span class="p">,</span>
            <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;ids&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">ids</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nb">isinstance</span><span class="p">(</span><span class="n">ids</span><span class="p">,</span><span class="w"> </span><span class="nb">str</span><span class="p">)</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">&#39;,&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">ids</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">}</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="WebAPI.check_saved_audiobooks">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.check_saved_audiobooks">[docs]</a>
    <span class="k">def</span> <span class="nf">check_saved_audiobooks</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ids</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">bool</span><span class="p">]:</span>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Audiobooks &gt; Check User&#39;s Saved Audiobooks</span>
<span class="sd">        &lt;https://developer.spotify.com/documentation/web-api/reference/</span>
<span class="sd">        check-users-saved-audiobooks&gt;`_: Check if one or</span>
<span class="sd">        more audiobooks are already saved in the current Spotify user&#39;s</span>
<span class="sd">        library.</span>
<span class="sd">        </span>
<span class="sd">        .. admonition:: Authorization scope</span>
<span class="sd">           :class: warning</span>
<span class="sd">        </span>
<span class="sd">           Requires the :code:`user-library-read` scope.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        ids : `str` or `list`</span>
<span class="sd">            A (comma-separated) list of the Spotify IDs for the</span>
<span class="sd">            audiobooks. </span>
<span class="sd">            </span>
<span class="sd">            **Maximum**: 50 IDs.</span>

<span class="sd">            **Example**: :code:`&quot;18yVqkdbdRvS24c0Ilj2ci,</span>
<span class="sd">            1HGw3J3NxZO1TP1BTtVhpZ, 7iHfbu1YPACw6oZPAFJtqe&quot;`.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        contains : `list`</span>
<span class="sd">            Array of booleans specifying whether the audiobooks are</span>
<span class="sd">            found in the user&#39;s saved audiobooks.</span>

<span class="sd">            **Example**: :code:`[False, True]`.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_check_scope</span><span class="p">(</span><span class="s2">&quot;check_saved_audiobooks&quot;</span><span class="p">,</span> <span class="s2">&quot;user-library-read&quot;</span><span class="p">)</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_json</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/me/audiobooks/contains&quot;</span><span class="p">,</span>
            <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;ids&quot;</span><span class="p">:</span> <span class="n">ids</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ids</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="k">else</span> <span class="s2">&quot;,&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">ids</span><span class="p">)}</span>
        <span class="p">)</span></div>


    <span class="c1">### CATEGORIES ############################################################</span>

<div class="viewcode-block" id="WebAPI.get_category">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.get_category">[docs]</a>
    <span class="k">def</span> <span class="nf">get_category</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="n">category_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">country</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">locale</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Categories &gt; Get Single Browse Category</span>
<span class="sd">        &lt;https://developer.spotify.com/documentation/web-api/reference/</span>
<span class="sd">        get-a-category&gt;`_: Get a single category used to</span>
<span class="sd">        tag items in Spotify (on, for example, the Spotify player&#39;s</span>
<span class="sd">        &quot;Browse&quot; tab).</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        category_id : `str`</span>
<span class="sd">            The Spotify category ID for the category.</span>

<span class="sd">            **Example**: :code:`&quot;dinner&quot;`.</span>

<span class="sd">        country : `str`, keyword-only, optional</span>
<span class="sd">            An ISO 3166-1 alpha-2 country code. Provide this parameter</span>
<span class="sd">            to ensure that the category exists for a particular country.</span>

<span class="sd">            **Example**: :code:`&quot;SE&quot;`.</span>

<span class="sd">        locale : `str`, keyword-only, optional</span>
<span class="sd">            The desired language, consisting of an ISO 639-1 language</span>
<span class="sd">            code and an ISO 3166-1 alpha-2 country code, joined by an</span>
<span class="sd">            underscore. Provide this parameter if you want the category</span>
<span class="sd">            strings returned in a particular language.</span>

<span class="sd">            .. note::</span>

<span class="sd">               If `locale` is not supplied, or if the specified language</span>
<span class="sd">               is not available, the category strings returned will be </span>
<span class="sd">               in the Spotify default language (American English).</span>

<span class="sd">            **Example**: :code:`&quot;es_MX&quot;` for &quot;Spanish (Mexico)&quot;.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        category : `dict`</span>
<span class="sd">            Information for a single browse category.</span>

<span class="sd">            .. admonition:: Sample response</span>
<span class="sd">               :class: dropdown</span>

<span class="sd">               .. code::</span>

<span class="sd">                  {</span>
<span class="sd">                    &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;icons&quot;: [</span>
<span class="sd">                      {</span>
<span class="sd">                        &quot;url&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;height&quot;: &lt;int&gt;,</span>
<span class="sd">                        &quot;width&quot;: &lt;int&gt;</span>
<span class="sd">                      }</span>
<span class="sd">                    ],</span>
<span class="sd">                    &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;name&quot;: &lt;str&gt;</span>
<span class="sd">                  }</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_json</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/browse/categories/</span><span class="si">{</span><span class="n">category_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;country&quot;</span><span class="p">:</span> <span class="n">country</span><span class="p">,</span> <span class="s2">&quot;locale&quot;</span><span class="p">:</span> <span class="n">locale</span><span class="p">}</span>
        <span class="p">)</span></div>

    
<div class="viewcode-block" id="WebAPI.get_categories">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.get_categories">[docs]</a>
    <span class="k">def</span> <span class="nf">get_categories</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">country</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">locale</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">offset</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Categories &gt; Get Several Browse Categories</span>
<span class="sd">        &lt;https://developer.spotify.com/documentation/web-api/reference/</span>
<span class="sd">        get-categories&gt;`_: Get a list of categories used to</span>
<span class="sd">        tag items in Spotify (on, for example, the Spotify player&#39;s </span>
<span class="sd">        &quot;Browse&quot; tab).</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        country : `str`, keyword-only, optional</span>
<span class="sd">            An ISO 3166-1 alpha-2 country code. Provide this parameter</span>
<span class="sd">            to ensure that the category exists for a particular country.</span>

<span class="sd">            **Example**: :code:`&quot;SE&quot;`.</span>

<span class="sd">        limit : `int`, keyword-only, optional</span>
<span class="sd">            The maximum number of results to return in each item type.</span>
<span class="sd">            </span>
<span class="sd">            **Valid values**: `limit` must be between 0 and 50.</span>

<span class="sd">            **Default**: :code:`20`.</span>

<span class="sd">        locale : `str`, keyword-only, optional</span>
<span class="sd">            The desired language, consisting of an ISO 639-1 language</span>
<span class="sd">            code and an ISO 3166-1 alpha-2 country code, joined by an</span>
<span class="sd">            underscore. Provide this parameter if you want the category</span>
<span class="sd">            strings returned in a particular language.</span>

<span class="sd">            .. note::</span>

<span class="sd">               If locale is not supplied, or if the specified language</span>
<span class="sd">               is not available, the category strings returned will be</span>
<span class="sd">               in the Spotify default language (American English).</span>

<span class="sd">            **Example**: :code:`&quot;es_MX&quot;` for &quot;Spanish (Mexico)&quot;.</span>

<span class="sd">        offset : `int`, keyword-only, optional</span>
<span class="sd">            The index of the first result to return. Use with `limit` to</span>
<span class="sd">            get the next page of search results.</span>

<span class="sd">            **Default**: :code:`0`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        categories : `dict`</span>
<span class="sd">            A dictionary containing nformation for the browse categories</span>
<span class="sd">            and the number of results returned.</span>

<span class="sd">            .. admonition:: Sample response</span>
<span class="sd">               :class: dropdown</span>

<span class="sd">               .. code::</span>

<span class="sd">                  {</span>
<span class="sd">                    &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;items&quot;: [</span>
<span class="sd">                        {</span>
<span class="sd">                          &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;icons&quot;: [</span>
<span class="sd">                            {</span>
<span class="sd">                              &quot;height&quot;: &lt;int&gt;,</span>
<span class="sd">                              &quot;url&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;width&quot;: &lt;int&gt;</span>
<span class="sd">                            }</span>
<span class="sd">                          ],</span>
<span class="sd">                          &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;name&quot;: &lt;str&gt;</span>
<span class="sd">                        }</span>
<span class="sd">                      ],</span>
<span class="sd">                    &quot;limit&quot;: &lt;int&gt;,</span>
<span class="sd">                    &quot;next&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;offset&quot;: &lt;int&gt;,</span>
<span class="sd">                    &quot;previous&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;total&quot;: &lt;int&gt;</span>
<span class="sd">                  }</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_json</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/browse/categories&quot;</span><span class="p">,</span>
            <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;country&quot;</span><span class="p">:</span> <span class="n">country</span><span class="p">,</span> <span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="n">limit</span><span class="p">,</span> <span class="s2">&quot;locale&quot;</span><span class="p">:</span> <span class="n">locale</span><span class="p">,</span>
                    <span class="s2">&quot;offset&quot;</span><span class="p">:</span> <span class="n">offset</span><span class="p">}</span>
        <span class="p">)[</span><span class="s2">&quot;categories&quot;</span><span class="p">]</span></div>


    <span class="c1">### CHAPTERS ##############################################################</span>

<div class="viewcode-block" id="WebAPI.get_chapter">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.get_chapter">[docs]</a>
    <span class="k">def</span> <span class="nf">get_chapter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">market</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Chapters &gt; Get a Chapter &lt;https://developer.spotify.com/</span>
<span class="sd">        documentation/web-api/reference/get-a-chapter&gt;`_:</span>
<span class="sd">        Get Spotify catalog information for a single chapter.</span>

<span class="sd">        .. note::</span>
<span class="sd">           Chapters are only available for the US, UK, Ireland, New</span>
<span class="sd">           Zealand, and Australia markets.</span>
<span class="sd">    </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        id : `str`</span>
<span class="sd">            The Spotify ID for the chapter.</span>

<span class="sd">            **Example**: :code:`&quot;0D5wENdkdwbqlrHoaJ9g29&quot;`.</span>

<span class="sd">        market : `str`, keyword-only, optional</span>
<span class="sd">            An ISO 3166-1 alpha-2 country code. If a country code is</span>
<span class="sd">            specified, only content that is available in that market</span>
<span class="sd">            will be returned. If a valid user access token is specified</span>
<span class="sd">            in the request header, the country associated with the user</span>
<span class="sd">            account will take priority over this parameter.</span>

<span class="sd">            .. note::</span>

<span class="sd">               If neither market or user country are provided, the </span>
<span class="sd">               content is considered unavailable for the client.</span>
<span class="sd">            </span>
<span class="sd">            **Example**: :code:`&quot;ES&quot;`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        chapter : `dict`</span>
<span class="sd">            Spotify catalog information for a single chapter.</span>

<span class="sd">            .. admonition:: Sample response</span>
<span class="sd">               :class: dropdown</span>

<span class="sd">               .. code::</span>

<span class="sd">                  {</span>
<span class="sd">                    &quot;audio_preview_url&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;available_markets&quot;: [&lt;str&gt;],</span>
<span class="sd">                    &quot;chapter_number&quot;: &lt;int&gt;,</span>
<span class="sd">                    &quot;description&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;html_description&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;duration_ms&quot;: &lt;int&gt;,</span>
<span class="sd">                    &quot;explicit&quot;: &lt;bool&gt;,</span>
<span class="sd">                    &quot;external_urls&quot;: {</span>
<span class="sd">                      &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                    },</span>
<span class="sd">                    &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;images&quot;: [</span>
<span class="sd">                      {</span>
<span class="sd">                        &quot;url&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;height&quot;: &lt;int&gt;,</span>
<span class="sd">                        &quot;width&quot;: &lt;int&gt;</span>
<span class="sd">                      }</span>
<span class="sd">                    ],</span>
<span class="sd">                    &quot;is_playable&quot;: &lt;bool&gt;</span>
<span class="sd">                    &quot;languages&quot;: [&lt;str&gt;],</span>
<span class="sd">                    &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;release_date&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;release_date_precision&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;resume_point&quot;: {</span>
<span class="sd">                      &quot;fully_played&quot;: &lt;bool&gt;,</span>
<span class="sd">                      &quot;resume_position_ms&quot;: &lt;int&gt;</span>
<span class="sd">                    },</span>
<span class="sd">                    &quot;type&quot;: &quot;episode&quot;,</span>
<span class="sd">                    &quot;uri&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;restrictions&quot;: {</span>
<span class="sd">                      &quot;reason&quot;: &lt;str&gt;</span>
<span class="sd">                    },</span>
<span class="sd">                    &quot;audiobook&quot;: {</span>
<span class="sd">                      &quot;authors&quot;: [</span>
<span class="sd">                        {</span>
<span class="sd">                          &quot;name&quot;: &lt;str&gt;</span>
<span class="sd">                        }</span>
<span class="sd">                      ],</span>
<span class="sd">                      &quot;available_markets&quot;: [&lt;str&gt;],</span>
<span class="sd">                      &quot;copyrights&quot;: [</span>
<span class="sd">                        {</span>
<span class="sd">                          &quot;text&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;type&quot;: &lt;str&gt;</span>
<span class="sd">                        }</span>
<span class="sd">                      ],</span>
<span class="sd">                      &quot;description&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;html_description&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;edition&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;explicit&quot;: &lt;bool&gt;,</span>
<span class="sd">                      &quot;external_urls&quot;: {</span>
<span class="sd">                        &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                      },</span>
<span class="sd">                      &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;images&quot;: [</span>
<span class="sd">                        {</span>
<span class="sd">                          &quot;url&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;height&quot;: &lt;int&gt;,</span>
<span class="sd">                          &quot;width&quot;: &lt;int&gt;</span>
<span class="sd">                        }</span>
<span class="sd">                      ],</span>
<span class="sd">                      &quot;languages&quot;: [&lt;str&gt;],</span>
<span class="sd">                      &quot;media_type&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;narrators&quot;: [</span>
<span class="sd">                        {</span>
<span class="sd">                          &quot;name&quot;: &lt;str&gt;</span>
<span class="sd">                        }</span>
<span class="sd">                      ],</span>
<span class="sd">                      &quot;publisher&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;type&quot;: &quot;audiobook&quot;,</span>
<span class="sd">                      &quot;uri&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;total_chapters&quot;: &lt;int&gt;</span>
<span class="sd">                    }</span>
<span class="sd">                  }</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_json</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/chapters/</span><span class="si">{</span><span class="nb">id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                              <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;market&quot;</span><span class="p">:</span> <span class="n">market</span><span class="p">})</span></div>


<div class="viewcode-block" id="WebAPI.get_chapters">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.get_chapters">[docs]</a>
    <span class="k">def</span> <span class="nf">get_chapters</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="n">ids</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]],</span> <span class="o">*</span><span class="p">,</span>
            <span class="n">market</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Chapters &gt; Get Several Chapters &lt;https://developer.spotify.com/</span>
<span class="sd">        documentation/web-api/reference/</span>
<span class="sd">        get-several-chapters&gt;`_: Get Spotify catalog information for</span>
<span class="sd">        several chapters identified by their Spotify IDs.</span>

<span class="sd">        .. note::</span>
<span class="sd">           Chapters are only available for the US, UK, Ireland, New</span>
<span class="sd">           Zealand, and Australia markets.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        ids : `int`, `str`, or `list`</span>
<span class="sd">            A (comma-separated) list of the Spotify IDs for the</span>
<span class="sd">            chapters. </span>
<span class="sd">            </span>
<span class="sd">            **Maximum**: 50 IDs.</span>

<span class="sd">            **Example**: :code:`&quot;0IsXVP0JmcB2adSE338GkK,</span>
<span class="sd">            3ZXb8FKZGU0EHALYX6uCzU, 0D5wENdkdwbqlrHoaJ9g29&quot;`.</span>

<span class="sd">        market : `str`, keyword-only, optional</span>
<span class="sd">            An ISO 3166-1 alpha-2 country code. If a country code is</span>
<span class="sd">            specified, only content that is available in that market</span>
<span class="sd">            will be returned. If a valid user access token is specified</span>
<span class="sd">            in the request header, the country associated with the user</span>
<span class="sd">            account will take priority over this parameter.</span>

<span class="sd">            .. note::</span>
<span class="sd">               If neither market or user country are provided, the </span>
<span class="sd">               content is considered unavailable for the client.</span>
<span class="sd">            </span>
<span class="sd">            **Example**: :code:`&quot;ES&quot;`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        chapters : `list`</span>
<span class="sd">            A list containing Spotify catalog information for multiple </span>
<span class="sd">            chapters.</span>

<span class="sd">            .. admonition:: Sample response</span>
<span class="sd">               :class: dropdown</span>

<span class="sd">               .. code::</span>

<span class="sd">                  [</span>
<span class="sd">                    {</span>
<span class="sd">                      &quot;audio_preview_url&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;available_markets&quot;: [&lt;str&gt;],</span>
<span class="sd">                      &quot;chapter_number&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;description&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;html_description&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;duration_ms&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;explicit&quot;: &lt;bool&gt;,</span>
<span class="sd">                      &quot;external_urls&quot;: {</span>
<span class="sd">                        &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                      },</span>
<span class="sd">                      &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;images&quot;: [</span>
<span class="sd">                        {</span>
<span class="sd">                          &quot;url&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;height&quot;: &lt;int&gt;,</span>
<span class="sd">                          &quot;width&quot;: &lt;int&gt;</span>
<span class="sd">                        }</span>
<span class="sd">                      ],</span>
<span class="sd">                      &quot;is_playable&quot;: &lt;bool&gt;</span>
<span class="sd">                      &quot;languages&quot;: [&lt;str&gt;],</span>
<span class="sd">                      &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;release_date&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;release_date_precision&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;resume_point&quot;: {</span>
<span class="sd">                        &quot;fully_played&quot;: &lt;bool&gt;,</span>
<span class="sd">                        &quot;resume_position_ms&quot;: &lt;int&gt;</span>
<span class="sd">                      },</span>
<span class="sd">                      &quot;type&quot;: &quot;episode&quot;,</span>
<span class="sd">                      &quot;uri&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;restrictions&quot;: {</span>
<span class="sd">                        &quot;reason&quot;: &lt;str&gt;</span>
<span class="sd">                      },</span>
<span class="sd">                      &quot;audiobook&quot;: {</span>
<span class="sd">                        &quot;authors&quot;: [</span>
<span class="sd">                          {</span>
<span class="sd">                            &quot;name&quot;: &lt;str&gt;</span>
<span class="sd">                          }</span>
<span class="sd">                        ],</span>
<span class="sd">                        &quot;available_markets&quot;: [&lt;str&gt;],</span>
<span class="sd">                        &quot;copyrights&quot;: [</span>
<span class="sd">                          {</span>
<span class="sd">                            &quot;text&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;type&quot;: &lt;str&gt;</span>
<span class="sd">                          }</span>
<span class="sd">                        ],</span>
<span class="sd">                        &quot;description&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;html_description&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;edition&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;explicit&quot;: &lt;bool&gt;,</span>
<span class="sd">                        &quot;external_urls&quot;: {</span>
<span class="sd">                          &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                        },</span>
<span class="sd">                        &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;images&quot;: [</span>
<span class="sd">                          {</span>
<span class="sd">                            &quot;url&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;height&quot;: &lt;int&gt;,</span>
<span class="sd">                            &quot;width&quot;: &lt;int&gt;</span>
<span class="sd">                          }</span>
<span class="sd">                        ],</span>
<span class="sd">                        &quot;languages&quot;: [&lt;str&gt;],</span>
<span class="sd">                        &quot;media_type&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;narrators&quot;: [</span>
<span class="sd">                          {</span>
<span class="sd">                            &quot;name&quot;: &lt;str&gt;</span>
<span class="sd">                          }</span>
<span class="sd">                        ],</span>
<span class="sd">                        &quot;publisher&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;type&quot;: &quot;audiobook&quot;,</span>
<span class="sd">                        &quot;uri&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;total_chapters&quot;: &lt;int&gt;</span>
<span class="sd">                      }</span>
<span class="sd">                    }</span>
<span class="sd">                  ]</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_json</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/chapters&quot;</span><span class="p">,</span>
            <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;ids&quot;</span><span class="p">:</span> <span class="n">ids</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ids</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="k">else</span> <span class="s2">&quot;,&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">ids</span><span class="p">),</span>
                    <span class="s2">&quot;market&quot;</span><span class="p">:</span> <span class="n">market</span><span class="p">}</span>
        <span class="p">)[</span><span class="s2">&quot;chapters&quot;</span><span class="p">]</span></div>


    <span class="c1">### EPISODES ##############################################################</span>

<div class="viewcode-block" id="WebAPI.get_episode">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.get_episode">[docs]</a>
    <span class="k">def</span> <span class="nf">get_episode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">market</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Episodes &gt; Get Episode &lt;https://developer.spotify.com/</span>
<span class="sd">        documentation/web-api/reference/</span>
<span class="sd">        get-an-episode&gt;`_: Get Spotify catalog information for a single</span>
<span class="sd">        episode identified by its unique Spotify ID.</span>
<span class="sd">    </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        id : `str`</span>
<span class="sd">            The Spotify ID for the episode.</span>

<span class="sd">            **Example**: :code:`&quot;512ojhOuo1ktJprKbVcKyQ&quot;`.</span>

<span class="sd">        market : `str`, keyword-only, optional</span>
<span class="sd">            An ISO 3166-1 alpha-2 country code. If a country code is</span>
<span class="sd">            specified, only content that is available in that market</span>
<span class="sd">            will be returned. If a valid user access token is specified</span>
<span class="sd">            in the request header, the country associated with the user</span>
<span class="sd">            account will take priority over this parameter.</span>

<span class="sd">            .. note::</span>
<span class="sd">               If neither market or user country are provided, the </span>
<span class="sd">               content is considered unavailable for the client.</span>
<span class="sd">            </span>
<span class="sd">            **Example**: :code:`&quot;ES&quot;`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        episode : `dict`</span>
<span class="sd">            Spotify catalog information for a single episode.</span>

<span class="sd">            .. admonition:: Sample response</span>
<span class="sd">               :class: dropdown</span>

<span class="sd">               .. code::</span>

<span class="sd">                  {</span>
<span class="sd">                    &quot;audio_preview_url&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;description&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;html_description&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;duration_ms&quot;: &lt;int&gt;,</span>
<span class="sd">                    &quot;explicit&quot;: &lt;bool&gt;,</span>
<span class="sd">                    &quot;external_urls&quot;: {</span>
<span class="sd">                      &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                    },</span>
<span class="sd">                    &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;images&quot;: [</span>
<span class="sd">                      {</span>
<span class="sd">                        &quot;url&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;height&quot;: &lt;int&gt;,</span>
<span class="sd">                        &quot;width&quot;: &lt;int&gt;</span>
<span class="sd">                      }</span>
<span class="sd">                    ],</span>
<span class="sd">                    &quot;is_externally_hosted&quot;: &lt;bool&gt;,</span>
<span class="sd">                    &quot;is_playable&quot;: &lt;bool&gt;</span>
<span class="sd">                    &quot;language&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;languages&quot;: [&lt;str&gt;],</span>
<span class="sd">                    &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;release_date&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;release_date_precision&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;resume_point&quot;: {</span>
<span class="sd">                      &quot;fully_played&quot;: &lt;bool&gt;,</span>
<span class="sd">                      &quot;resume_position_ms&quot;: &lt;int&gt;</span>
<span class="sd">                    },</span>
<span class="sd">                    &quot;type&quot;: &quot;episode&quot;,</span>
<span class="sd">                    &quot;uri&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;restrictions&quot;: {</span>
<span class="sd">                      &quot;reason&quot;: &lt;str&gt;</span>
<span class="sd">                    },</span>
<span class="sd">                    &quot;show&quot;: {</span>
<span class="sd">                      &quot;available_markets&quot;: [&lt;str&gt;],</span>
<span class="sd">                      &quot;copyrights&quot;: [</span>
<span class="sd">                        {</span>
<span class="sd">                          &quot;text&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;type&quot;: &lt;str&gt;</span>
<span class="sd">                        }</span>
<span class="sd">                      ],</span>
<span class="sd">                      &quot;description&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;html_description&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;explicit&quot;: &lt;bool&gt;,</span>
<span class="sd">                      &quot;external_urls&quot;: {</span>
<span class="sd">                        &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                      },</span>
<span class="sd">                      &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;images&quot;: [</span>
<span class="sd">                        {</span>
<span class="sd">                          &quot;url&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;height&quot;: &lt;int&gt;,</span>
<span class="sd">                          &quot;width&quot;: &lt;int&gt;</span>
<span class="sd">                        }</span>
<span class="sd">                      ],</span>
<span class="sd">                      &quot;is_externally_hosted&quot;: &lt;bool&gt;,</span>
<span class="sd">                      &quot;languages&quot;: [&lt;str&gt;],</span>
<span class="sd">                      &quot;media_type&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;publisher&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;type&quot;: &quot;show&quot;,</span>
<span class="sd">                      &quot;uri&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;total_episodes&quot;: &lt;int&gt;</span>
<span class="sd">                    }</span>
<span class="sd">                  }</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_json</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/episodes/</span><span class="si">{</span><span class="nb">id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                             <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;market&quot;</span><span class="p">:</span> <span class="n">market</span><span class="p">})</span></div>


<div class="viewcode-block" id="WebAPI.get_episodes">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.get_episodes">[docs]</a>
    <span class="k">def</span> <span class="nf">get_episodes</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="n">ids</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]],</span> <span class="o">*</span><span class="p">,</span>
            <span class="n">market</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Episodes &gt; Get Several Episodes</span>
<span class="sd">        &lt;https://developer.spotify.com/documentation/web-api/reference/</span>
<span class="sd">        get-multiple-episodes&gt;`_: Get Spotify catalog</span>
<span class="sd">        information for several episodes based on their Spotify IDs.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        ids : `int`, `str`, or `list`</span>
<span class="sd">            A (comma-separated) list of the Spotify IDs for the episodes.</span>
<span class="sd">            </span>
<span class="sd">            **Maximum**: 50 IDs.</span>

<span class="sd">            **Example**:</span>
<span class="sd">            :code:`&quot;77o6BIVlYM3msb4MMIL1jH,0Q86acNRm6V9GYx55SXKwf&quot;`.</span>

<span class="sd">        market : `str`, keyword-only, optional</span>
<span class="sd">            An ISO 3166-1 alpha-2 country code. If a country code is</span>
<span class="sd">            specified, only content that is available in that market</span>
<span class="sd">            will be returned. If a valid user access token is specified</span>
<span class="sd">            in the request header, the country associated with the user</span>
<span class="sd">            account will take priority over this parameter.</span>

<span class="sd">            .. note::</span>

<span class="sd">               If neither market or user country are provided, the </span>
<span class="sd">               content is considered unavailable for the client.</span>
<span class="sd">            </span>
<span class="sd">            **Example**: :code:`&quot;ES&quot;`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        episodes : `list`</span>
<span class="sd">            A list containing Spotify catalog information for multiple </span>
<span class="sd">            episodes.</span>

<span class="sd">            .. admonition:: Sample</span>
<span class="sd">               :class: dropdown</span>

<span class="sd">               .. code::</span>

<span class="sd">                  [</span>
<span class="sd">                    {</span>
<span class="sd">                      &quot;audio_preview_url&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;description&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;html_description&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;duration_ms&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;explicit&quot;: &lt;bool&gt;,</span>
<span class="sd">                      &quot;external_urls&quot;: {</span>
<span class="sd">                        &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                      },</span>
<span class="sd">                      &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;images&quot;: [</span>
<span class="sd">                        {</span>
<span class="sd">                          &quot;url&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;height&quot;: &lt;int&gt;,</span>
<span class="sd">                          &quot;width&quot;: &lt;int&gt;</span>
<span class="sd">                        }</span>
<span class="sd">                      ],</span>
<span class="sd">                      &quot;is_externally_hosted&quot;: &lt;bool&gt;,</span>
<span class="sd">                      &quot;is_playable&quot;: &lt;bool&gt;</span>
<span class="sd">                      &quot;language&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;languages&quot;: [&lt;str&gt;],</span>
<span class="sd">                      &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;release_date&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;release_date_precision&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;resume_point&quot;: {</span>
<span class="sd">                        &quot;fully_played&quot;: &lt;bool&gt;,</span>
<span class="sd">                        &quot;resume_position_ms&quot;: &lt;int&gt;</span>
<span class="sd">                      },</span>
<span class="sd">                      &quot;type&quot;: &quot;episode&quot;,</span>
<span class="sd">                      &quot;uri&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;restrictions&quot;: {</span>
<span class="sd">                        &quot;reason&quot;: &lt;str&gt;</span>
<span class="sd">                      },</span>
<span class="sd">                      &quot;show&quot;: {</span>
<span class="sd">                        &quot;available_markets&quot;: [&lt;str&gt;],</span>
<span class="sd">                        &quot;copyrights&quot;: [</span>
<span class="sd">                          {</span>
<span class="sd">                            &quot;text&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;type&quot;: &lt;str&gt;</span>
<span class="sd">                          }</span>
<span class="sd">                        ],</span>
<span class="sd">                        &quot;description&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;html_description&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;explicit&quot;: &lt;bool&gt;,</span>
<span class="sd">                        &quot;external_urls&quot;: {</span>
<span class="sd">                          &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                        },</span>
<span class="sd">                        &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;images&quot;: [</span>
<span class="sd">                          {</span>
<span class="sd">                            &quot;url&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;height&quot;: &lt;int&gt;,</span>
<span class="sd">                            &quot;width&quot;: &lt;int&gt;</span>
<span class="sd">                          }</span>
<span class="sd">                        ],</span>
<span class="sd">                        &quot;is_externally_hosted&quot;: &lt;bool&gt;,</span>
<span class="sd">                        &quot;languages&quot;: [&lt;str&gt;],</span>
<span class="sd">                        &quot;media_type&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;publisher&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;type&quot;: &quot;show&quot;,</span>
<span class="sd">                        &quot;uri&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;total_episodes&quot;: &lt;int&gt;</span>
<span class="sd">                      }</span>
<span class="sd">                    }</span>
<span class="sd">                  ]</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_json</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/episodes&quot;</span><span class="p">,</span>
            <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;ids&quot;</span><span class="p">:</span> <span class="n">ids</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ids</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="k">else</span> <span class="s2">&quot;,&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">ids</span><span class="p">),</span>
                    <span class="s2">&quot;market&quot;</span><span class="p">:</span> <span class="n">market</span><span class="p">}</span>
        <span class="p">)[</span><span class="s2">&quot;episodes&quot;</span><span class="p">]</span></div>


<div class="viewcode-block" id="WebAPI.get_saved_episodes">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.get_saved_episodes">[docs]</a>
    <span class="k">def</span> <span class="nf">get_saved_episodes</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">market</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">offset</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Episodes &gt; Get User&#39;s Saved Episodes </span>
<span class="sd">        &lt;https://developer.spotify.com/documentation/web-api/reference/</span>
<span class="sd">        get-users-saved-episodes&gt;`_: Get a list of the</span>
<span class="sd">        episodes saved in the current Spotify user&#39;s library.</span>
<span class="sd">        </span>
<span class="sd">        .. admonition:: Authorization scope</span>
<span class="sd">           :class: warning</span>
<span class="sd">        </span>
<span class="sd">           Requires the :code:`user-library-read` scope.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        limit : `int`, keyword-only, optional</span>
<span class="sd">            The maximum number of results to return in each item type.</span>
<span class="sd">            </span>
<span class="sd">            **Valid values**: `limit` must be between 0 and 50.</span>

<span class="sd">            **Default**: :code:`20`.</span>

<span class="sd">        market : `str`, keyword-only, optional</span>
<span class="sd">            An ISO 3166-1 alpha-2 country code. If a country code is</span>
<span class="sd">            specified, only content that is available in that market</span>
<span class="sd">            will be returned. If a valid user access token is specified</span>
<span class="sd">            in the request header, the country associated with the user</span>
<span class="sd">            account will take priority over this parameter.</span>

<span class="sd">            .. note::</span>

<span class="sd">               If neither market or user country are provided, the </span>
<span class="sd">               content is considered unavailable for the client.</span>
<span class="sd">            </span>
<span class="sd">            **Example**: :code:`&quot;ES&quot;`.</span>

<span class="sd">        offset : `int`, keyword-only, optional</span>
<span class="sd">            The index of the first result to return. Use with `limit` to</span>
<span class="sd">            get the next page of search results.</span>

<span class="sd">            **Default**: :code:`0`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        episodes : `dict`</span>
<span class="sd">            A dictionary containing Spotify catalog information for a</span>
<span class="sd">            user&#39;s saved episodes and the number of results returned.</span>

<span class="sd">            .. admonition:: Sample response</span>
<span class="sd">               :class: dropdown</span>

<span class="sd">               .. code::</span>

<span class="sd">                  {</span>
<span class="sd">                    &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;limit&quot;: &lt;int&gt;,</span>
<span class="sd">                    &quot;next&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;offset&quot;: &lt;int&gt;,</span>
<span class="sd">                    &quot;previous&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;total&quot;: &lt;int&gt;,</span>
<span class="sd">                    &quot;items&quot;: [</span>
<span class="sd">                      {</span>
<span class="sd">                        &quot;added_at&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;episode&quot;: {</span>
<span class="sd">                          &quot;audio_preview_url&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;description&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;html_description&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;duration_ms&quot;: &lt;int&gt;,</span>
<span class="sd">                          &quot;explicit&quot;: &lt;bool&gt;,</span>
<span class="sd">                          &quot;external_urls&quot;: {</span>
<span class="sd">                            &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;images&quot;: [</span>
<span class="sd">                            {</span>
<span class="sd">                              &quot;url&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;height&quot;: &lt;int&gt;,</span>
<span class="sd">                              &quot;width&quot;: &lt;int&gt;</span>
<span class="sd">                            }</span>
<span class="sd">                          ],</span>
<span class="sd">                          &quot;is_externally_hosted&quot;: &lt;bool&gt;,</span>
<span class="sd">                          &quot;is_playable&quot;: &lt;bool&gt;</span>
<span class="sd">                          &quot;language&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;languages&quot;: [&lt;str&gt;],</span>
<span class="sd">                          &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;release_date&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;release_date_precision&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;resume_point&quot;: {</span>
<span class="sd">                            &quot;fully_played&quot;: &lt;bool&gt;,</span>
<span class="sd">                            &quot;resume_position_ms&quot;: &lt;int&gt;</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;type&quot;: &quot;episode&quot;,</span>
<span class="sd">                          &quot;uri&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;restrictions&quot;: {</span>
<span class="sd">                            &quot;reason&quot;: &lt;str&gt;</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;show&quot;: {</span>
<span class="sd">                            &quot;available_markets&quot;: [&lt;str&gt;],</span>
<span class="sd">                            &quot;copyrights&quot;: [</span>
<span class="sd">                              {</span>
<span class="sd">                                &quot;text&quot;: &lt;str&gt;,</span>
<span class="sd">                                &quot;type&quot;: &lt;str&gt;</span>
<span class="sd">                              }</span>
<span class="sd">                            ],</span>
<span class="sd">                            &quot;description&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;html_description&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;explicit&quot;: &lt;bool&gt;,</span>
<span class="sd">                            &quot;external_urls&quot;: {</span>
<span class="sd">                              &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                            },</span>
<span class="sd">                            &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;images&quot;: [</span>
<span class="sd">                              {</span>
<span class="sd">                                &quot;url&quot;: &lt;str&gt;,</span>
<span class="sd">                                &quot;height&quot;: &lt;int&gt;,</span>
<span class="sd">                                &quot;width&quot;: &lt;int&gt;</span>
<span class="sd">                              }</span>
<span class="sd">                            ],</span>
<span class="sd">                            &quot;is_externally_hosted&quot;: &lt;bool&gt;,</span>
<span class="sd">                            &quot;languages&quot;: [&lt;str&gt;],</span>
<span class="sd">                            &quot;media_type&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;publisher&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;type&quot;: &quot;show&quot;,</span>
<span class="sd">                            &quot;uri&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;total_episodes&quot;: &lt;int&gt;</span>
<span class="sd">                          }</span>
<span class="sd">                        }</span>
<span class="sd">                      }</span>
<span class="sd">                    ]</span>
<span class="sd">                  }</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_check_scope</span><span class="p">(</span><span class="s2">&quot;get_saved_episodes&quot;</span><span class="p">,</span> <span class="s2">&quot;user-library-read&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_json</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/me/episodes&quot;</span><span class="p">,</span>
            <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="n">limit</span><span class="p">,</span> <span class="s2">&quot;market&quot;</span><span class="p">:</span> <span class="n">market</span><span class="p">,</span> <span class="s2">&quot;offset&quot;</span><span class="p">:</span> <span class="n">offset</span><span class="p">}</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="WebAPI.save_episodes">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.save_episodes">[docs]</a>
    <span class="k">def</span> <span class="nf">save_episodes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ids</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Episodes &gt; Save Episodes for Current User </span>
<span class="sd">        &lt;https://developer.spotify.com/documentation/web-api/reference/</span>
<span class="sd">        save-episodes-user&gt;`_: Save one or more episodes to</span>
<span class="sd">        the current user&#39;s library.</span>
<span class="sd">        </span>
<span class="sd">        .. admonition:: Authorization scope</span>
<span class="sd">           :class: warning</span>
<span class="sd">        </span>
<span class="sd">           Requires the :code:`user-library-modify` scope.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        ids : `str` or `list`</span>
<span class="sd">            A (comma-separated) list of the Spotify IDs for the shows.</span>
<span class="sd">            </span>
<span class="sd">            **Maximum**: 50 IDs.</span>

<span class="sd">            **Example**:</span>
<span class="sd">            :code:`&quot;77o6BIVlYM3msb4MMIL1jH,0Q86acNRm6V9GYx55SXKwf&quot;`.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_check_scope</span><span class="p">(</span><span class="s2">&quot;save_episodes&quot;</span><span class="p">,</span> <span class="s2">&quot;user-library-modify&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ids</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span><span class="s2">&quot;put&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/me/episodes&quot;</span><span class="p">,</span>
                          <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;ids&quot;</span><span class="p">:</span> <span class="n">ids</span><span class="p">})</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ids</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span><span class="s2">&quot;put&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/me/episodes&quot;</span><span class="p">,</span> 
                          <span class="n">json</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;ids&quot;</span><span class="p">:</span> <span class="n">ids</span><span class="p">})</span></div>


<div class="viewcode-block" id="WebAPI.remove_saved_episodes">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.remove_saved_episodes">[docs]</a>
    <span class="k">def</span> <span class="nf">remove_saved_episodes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ids</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Episodes &gt; Remove User&#39;s Saved Episodes</span>
<span class="sd">        &lt;https://developer.spotify.com/documentation/web-api/reference/</span>
<span class="sd">        remove-episodes-user&gt;`_: Remove one or more</span>
<span class="sd">        episodes from the current user&#39;s library.</span>
<span class="sd">        </span>
<span class="sd">        .. admonition:: Authorization scope</span>
<span class="sd">           :class: warning</span>
<span class="sd">        </span>
<span class="sd">           Requires the :code:`user-library-modify` scope.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        ids : `str` or `list`</span>
<span class="sd">            A (comma-separated) list of the Spotify IDs for the episodes.</span>
<span class="sd">            </span>
<span class="sd">            **Maximum**: 50 IDs.</span>

<span class="sd">            **Example**:</span>
<span class="sd">            :code:`&quot;77o6BIVlYM3msb4MMIL1jH,0Q86acNRm6V9GYx55SXKwf&quot;`.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_check_scope</span><span class="p">(</span><span class="s2">&quot;remove_saved_episodes&quot;</span><span class="p">,</span> <span class="s2">&quot;user-library-modify&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ids</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span><span class="s2">&quot;delete&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/me/episodes&quot;</span><span class="p">,</span>
                          <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;ids&quot;</span><span class="p">:</span> <span class="n">ids</span><span class="p">})</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ids</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span><span class="s2">&quot;delete&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/me/episodes&quot;</span><span class="p">,</span> 
                          <span class="n">json</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;ids&quot;</span><span class="p">:</span> <span class="n">ids</span><span class="p">})</span></div>


<div class="viewcode-block" id="WebAPI.check_saved_episodes">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.check_saved_episodes">[docs]</a>
    <span class="k">def</span> <span class="nf">check_saved_episodes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ids</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">bool</span><span class="p">]:</span>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Episodes &gt; Check User&#39;s Saved Episodes</span>
<span class="sd">        &lt;https://developer.spotify.com/documentation/web-api/reference/</span>
<span class="sd">        check-users-saved-episodes&gt;`_: Check if one or more</span>
<span class="sd">        episodes is already saved in the current Spotify user&#39;s &#39;Your</span>
<span class="sd">        Episodes&#39; library.</span>
<span class="sd">        </span>
<span class="sd">        .. admonition:: Authorization scope</span>
<span class="sd">           :class: warning</span>
<span class="sd">        </span>
<span class="sd">           Requires the :code:`user-library-read` scope.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        ids : `str` or `list`</span>
<span class="sd">            A (comma-separated) list of the Spotify IDs for the</span>
<span class="sd">            episodes. </span>
<span class="sd">            </span>
<span class="sd">            **Maximum**: 50 IDs.</span>

<span class="sd">            **Example**:</span>
<span class="sd">            :code:`&quot;77o6BIVlYM3msb4MMIL1jH,0Q86acNRm6V9GYx55SXKwf&quot;`.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        contains : `list`</span>
<span class="sd">            Array of booleans specifying whether the episodes are found</span>
<span class="sd">            in the user&#39;s &#39;Liked Songs&#39;.</span>

<span class="sd">            **Example**: :code:`[False, True]`.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_check_scope</span><span class="p">(</span><span class="s2">&quot;check_saved_episodes&quot;</span><span class="p">,</span> <span class="s2">&quot;user-library-read&quot;</span><span class="p">)</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_json</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/me/episodes/contains&quot;</span><span class="p">,</span>
            <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;ids&quot;</span><span class="p">:</span> <span class="n">ids</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ids</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="k">else</span> <span class="s2">&quot;,&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">ids</span><span class="p">)}</span>
        <span class="p">)</span></div>


    <span class="c1">### GENRES ################################################################</span>

<div class="viewcode-block" id="WebAPI.get_genre_seeds">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.get_genre_seeds">[docs]</a>
    <span class="k">def</span> <span class="nf">get_genre_seeds</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Genres &gt; Get Available Genre Seeds</span>
<span class="sd">        &lt;https://developer.spotify.com/documentation/web-api/reference/</span>
<span class="sd">        get-recommendation-genres&gt;`_: Retrieve a list of</span>
<span class="sd">        available genres seed parameter values for use in</span>
<span class="sd">        :meth:`get_recommendations`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        genres : `list`</span>
<span class="sd">            Array of genres.</span>

<span class="sd">            **Example**: :code:`[&quot;acoustic&quot;, &quot;afrobeat&quot;, ...]`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_json</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/recommendations/available-genre-seeds&quot;</span>
        <span class="p">)[</span><span class="s2">&quot;genres&quot;</span><span class="p">]</span></div>


    <span class="c1">### MARKETS ###############################################################</span>

<div class="viewcode-block" id="WebAPI.get_markets">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.get_markets">[docs]</a>
    <span class="k">def</span> <span class="nf">get_markets</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Markets &gt; Get Available Markets &lt;https://developer.spotify.com/</span>
<span class="sd">        documentation/web-api/reference/</span>
<span class="sd">        get-available-markets&gt;`_: Get the list of markets where Spotify</span>
<span class="sd">        is available.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        markets : `list`</span>
<span class="sd">            Array of country codes.</span>

<span class="sd">            **Example**: :code:`[&quot;CA&quot;, &quot;BR&quot;, &quot;IT&quot;]`.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_json</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/markets&quot;</span><span class="p">)[</span><span class="s2">&quot;markets&quot;</span><span class="p">]</span></div>


    <span class="c1">### PLAYER ################################################################</span>

<div class="viewcode-block" id="WebAPI.get_playback_state">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.get_playback_state">[docs]</a>
    <span class="k">def</span> <span class="nf">get_playback_state</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">market</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">additional_types</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Player &gt; Get Playback State &lt;https://developer.spotify.com/</span>
<span class="sd">        documentation/web-api/reference/</span>
<span class="sd">        get-information-about-the-users-current-playback&gt;`_: Get</span>
<span class="sd">        information about the user&#39;s current playback state, including</span>
<span class="sd">        track or episode, progress, and active device.</span>

<span class="sd">        .. admonition:: Authorization scope</span>
<span class="sd">           :class: warning</span>
<span class="sd">        </span>
<span class="sd">           Requires the :code:`user-read-playback-state` scope.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        market : `str`, keyword-only, optional</span>
<span class="sd">            An ISO 3166-1 alpha-2 country code. If a country code is</span>
<span class="sd">            specified, only content that is available in that market</span>
<span class="sd">            will be returned. If a valid user access token is specified</span>
<span class="sd">            in the request header, the country associated with the user</span>
<span class="sd">            account will take priority over this parameter.</span>

<span class="sd">            .. note::</span>

<span class="sd">               If neither market or user country are provided, the </span>
<span class="sd">               content is considered unavailable for the client.</span>
<span class="sd">            </span>
<span class="sd">            **Example**: :code:`&quot;ES&quot;`.</span>

<span class="sd">        additional_types : `str`, keyword-only, optional</span>
<span class="sd">            A comma-separated list of item types that your client </span>
<span class="sd">            supports besides the default track type. </span>

<span class="sd">            .. note::</span>

<span class="sd">               This parameter was introduced to allow existing clients</span>
<span class="sd">               to maintain their current behavior and might be </span>
<span class="sd">               deprecated in the future.            </span>

<span class="sd">            **Valid**: :code:`&quot;track&quot;` and :code:`&quot;episode&quot;`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        state : `dict`</span>
<span class="sd">            Information about playback state.</span>

<span class="sd">            .. admonition:: Sample response</span>
<span class="sd">               :class: dropdown</span>

<span class="sd">               .. code::</span>

<span class="sd">                  {</span>
<span class="sd">                    &quot;device&quot;: {</span>
<span class="sd">                      &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;is_active&quot;: &lt;bool&gt;,</span>
<span class="sd">                      &quot;is_private_session&quot;: &lt;bool&gt;,</span>
<span class="sd">                      &quot;is_restricted&quot;: &lt;bool&gt;,</span>
<span class="sd">                      &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;type&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;volume_percent&quot;: &lt;int&gt;</span>
<span class="sd">                    },</span>
<span class="sd">                    &quot;repeat_state&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;shuffle_state&quot;: &lt;bool&gt;,</span>
<span class="sd">                    &quot;context&quot;: {</span>
<span class="sd">                      &quot;type&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;external_urls&quot;: {</span>
<span class="sd">                        &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                      },</span>
<span class="sd">                      &quot;uri&quot;: &lt;str&gt;</span>
<span class="sd">                    },</span>
<span class="sd">                    &quot;timestamp&quot;: &lt;int&gt;,</span>
<span class="sd">                    &quot;progress_ms&quot;: &lt;int&gt;,</span>
<span class="sd">                    &quot;is_playing&quot;: &lt;bool&gt;,</span>
<span class="sd">                    &quot;item&quot;: {</span>
<span class="sd">                      &quot;album&quot;: {</span>
<span class="sd">                        &quot;album_type&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;total_tracks&quot;: &lt;int&gt;,</span>
<span class="sd">                        &quot;available_markets&quot;: [&lt;str&gt;],</span>
<span class="sd">                        &quot;external_urls&quot;: {</span>
<span class="sd">                          &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                        },</span>
<span class="sd">                        &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;images&quot;: [</span>
<span class="sd">                          {</span>
<span class="sd">                            &quot;url&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;height&quot;: &lt;int&gt;,</span>
<span class="sd">                            &quot;width&quot;: &lt;int&gt;</span>
<span class="sd">                          }</span>
<span class="sd">                        ],</span>
<span class="sd">                        &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;release_date&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;release_date_precision&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;restrictions&quot;: {</span>
<span class="sd">                          &quot;reason&quot;: &lt;str&gt;</span>
<span class="sd">                        },</span>
<span class="sd">                        &quot;type&quot;: &quot;album&quot;,</span>
<span class="sd">                        &quot;uri&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;copyrights&quot;: [</span>
<span class="sd">                          {</span>
<span class="sd">                            &quot;text&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;type&quot;: &lt;str&gt;</span>
<span class="sd">                          }</span>
<span class="sd">                        ],</span>
<span class="sd">                        &quot;external_ids&quot;: {</span>
<span class="sd">                          &quot;isrc&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;ean&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;upc&quot;: &lt;str&gt;</span>
<span class="sd">                        },</span>
<span class="sd">                        &quot;genres&quot;: [&lt;str&gt;],</span>
<span class="sd">                        &quot;label&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;popularity&quot;: &lt;int&gt;,</span>
<span class="sd">                        &quot;album_group&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;artists&quot;: [</span>
<span class="sd">                          {</span>
<span class="sd">                            &quot;external_urls&quot;: {</span>
<span class="sd">                              &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                            },</span>
<span class="sd">                            &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;type&quot;: &quot;artist&quot;,</span>
<span class="sd">                            &quot;uri&quot;: &lt;str&gt;</span>
<span class="sd">                          }</span>
<span class="sd">                        ]</span>
<span class="sd">                      },</span>
<span class="sd">                      &quot;artists&quot;: [</span>
<span class="sd">                        {</span>
<span class="sd">                          &quot;external_urls&quot;: {</span>
<span class="sd">                            &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;followers&quot;: {</span>
<span class="sd">                            &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;total&quot;: &lt;int&gt;</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;genres&quot;: [&lt;str&gt;],</span>
<span class="sd">                          &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;images&quot;: [</span>
<span class="sd">                            {</span>
<span class="sd">                              &quot;url&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;height&quot;: &lt;int&gt;,</span>
<span class="sd">                              &quot;width&quot;: &lt;int&gt;</span>
<span class="sd">                            }</span>
<span class="sd">                          ],</span>
<span class="sd">                          &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;popularity&quot;: &lt;int&gt;,</span>
<span class="sd">                          &quot;type&quot;: &quot;artist&quot;,</span>
<span class="sd">                          &quot;uri&quot;: &lt;str&gt;</span>
<span class="sd">                        }</span>
<span class="sd">                      ],</span>
<span class="sd">                      &quot;available_markets&quot;: [&lt;str&gt;],</span>
<span class="sd">                      &quot;disc_number&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;duration_ms&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;explicit&quot;: &lt;bool&gt;,</span>
<span class="sd">                      &quot;external_ids&quot;: {</span>
<span class="sd">                        &quot;isrc&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;ean&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;upc&quot;: &lt;str&gt;</span>
<span class="sd">                      },</span>
<span class="sd">                      &quot;external_urls&quot;: {</span>
<span class="sd">                        &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                      },</span>
<span class="sd">                      &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;is_playable&quot;: &lt;bool&gt;</span>
<span class="sd">                      &quot;linked_from&quot;: {</span>
<span class="sd">                      },</span>
<span class="sd">                      &quot;restrictions&quot;: {</span>
<span class="sd">                        &quot;reason&quot;: &lt;str&gt;</span>
<span class="sd">                      },</span>
<span class="sd">                      &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;popularity&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;preview_url&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;track_number&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;type&quot;: &quot;track&quot;,</span>
<span class="sd">                      &quot;uri&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;is_local&quot;: &lt;bool&gt;</span>
<span class="sd">                    },</span>
<span class="sd">                    &quot;currently_playing_type&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;actions&quot;: {</span>
<span class="sd">                      &quot;interrupting_playback&quot;: &lt;bool&gt;,</span>
<span class="sd">                      &quot;pausing&quot;: &lt;bool&gt;,</span>
<span class="sd">                      &quot;resuming&quot;: &lt;bool&gt;,</span>
<span class="sd">                      &quot;seeking&quot;: &lt;bool&gt;,</span>
<span class="sd">                      &quot;skipping_next&quot;: &lt;bool&gt;,</span>
<span class="sd">                      &quot;skipping_prev&quot;: &lt;bool&gt;,</span>
<span class="sd">                      &quot;toggling_repeat_context&quot;: &lt;bool&gt;,</span>
<span class="sd">                      &quot;toggling_shuffle&quot;: &lt;bool&gt;,</span>
<span class="sd">                      &quot;toggling_repeat_track&quot;: &lt;bool&gt;,</span>
<span class="sd">                      &quot;transferring_playback&quot;: &lt;bool&gt;</span>
<span class="sd">                    }</span>
<span class="sd">                  }</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">_check_scope</span><span class="p">(</span><span class="s2">&quot;get_playback_state&quot;</span><span class="p">,</span> <span class="s2">&quot;user-read-playback-state&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_json</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/me/player&quot;</span><span class="p">,</span>
                              <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;market&quot;</span><span class="p">:</span> <span class="n">market</span><span class="p">,</span> 
                                      <span class="s2">&quot;additional_types&quot;</span><span class="p">:</span> <span class="n">additional_types</span><span class="p">})</span></div>

    
<div class="viewcode-block" id="WebAPI.transfer_playback">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.transfer_playback">[docs]</a>
    <span class="k">def</span> <span class="nf">transfer_playback</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="n">device_ids</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]],</span> <span class="o">*</span><span class="p">,</span> <span class="n">play</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Player &gt; Transfer Playback &lt;https://developer.spotify.com/</span>
<span class="sd">        documentation/web-api/reference/transfer-a-users-playback&gt;`_: </span>
<span class="sd">        Transfer playback to a new device and determine if it should </span>
<span class="sd">        start playing.</span>

<span class="sd">        .. admonition:: Authorization scope</span>
<span class="sd">           :class: warning</span>
<span class="sd">        </span>
<span class="sd">           Requires the :code:`user-modify-playback-state` scope.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        device_ids : `str` or `list`</span>
<span class="sd">            The ID of the device on which playback should be started or</span>
<span class="sd">            transferred.</span>

<span class="sd">            .. note::</span>
<span class="sd">               Although an array is accepted, only a single device ID is</span>
<span class="sd">               currently supported. Supplying more than one will return</span>
<span class="sd">               :code:`400 Bad Request`.</span>

<span class="sd">            **Example**: :code:`[&quot;74ASZWbe4lXaubB36ztrGX&quot;]`.</span>

<span class="sd">        play : `bool`</span>
<span class="sd">            If :code:`True`, playback happens on the new device; if </span>
<span class="sd">            :code:`False` or not provided, the current playback state is</span>
<span class="sd">            kept.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_check_scope</span><span class="p">(</span><span class="s2">&quot;transfer_playback&quot;</span><span class="p">,</span> <span class="s2">&quot;user-modify-playback-state&quot;</span><span class="p">)</span>

        <span class="n">json</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;device_ids&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">device_ids</span><span class="p">]</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device_ids</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span>
                              <span class="k">else</span> <span class="n">device_ids</span><span class="p">}</span>
        <span class="k">if</span> <span class="n">play</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">json</span><span class="p">[</span><span class="s2">&quot;play&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">play</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span><span class="s2">&quot;put&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/me/player&quot;</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">json</span><span class="p">)</span></div>

    
<div class="viewcode-block" id="WebAPI.get_devices">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.get_devices">[docs]</a>
    <span class="k">def</span> <span class="nf">get_devices</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Player &gt; Get Available Devices &lt;https://developer.spotify.com/</span>
<span class="sd">        documentation/web-api/reference/</span>
<span class="sd">        get-a-users-available-devices&gt;`_: Get information about a user&#39;s</span>
<span class="sd">        available devices.</span>
<span class="sd">        </span>
<span class="sd">        .. admonition:: Authorization scope</span>
<span class="sd">           :class: warning</span>
<span class="sd">        </span>
<span class="sd">           Requires the :code:`user-read-playback-state` scope.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        devices : `list`</span>
<span class="sd">            A list containing information about the available devices.</span>

<span class="sd">            .. admonition:: Sample response</span>
<span class="sd">               :class: dropdown</span>

<span class="sd">               .. code::</span>

<span class="sd">                  [</span>
<span class="sd">                    {</span>
<span class="sd">                      &quot;devices&quot;: [</span>
<span class="sd">                        {</span>
<span class="sd">                          &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;is_active&quot;: &lt;bool&gt;,</span>
<span class="sd">                          &quot;is_private_session&quot;: &lt;bool&gt;,</span>
<span class="sd">                          &quot;is_restricted&quot;: &lt;bool&gt;,</span>
<span class="sd">                          &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;type&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;volume_percent&quot;: &lt;int&gt;</span>
<span class="sd">                        }</span>
<span class="sd">                      ]</span>
<span class="sd">                    }</span>
<span class="sd">                  ]</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_check_scope</span><span class="p">(</span><span class="s2">&quot;get_available_devices&quot;</span><span class="p">,</span> <span class="s2">&quot;user-read-playback-state&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_get_json</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/me/player/devices&quot;</span><span class="p">)</span></div>

    
<div class="viewcode-block" id="WebAPI.get_currently_playing">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.get_currently_playing">[docs]</a>
    <span class="k">def</span> <span class="nf">get_currently_playing</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">market</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">additional_types</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Player &gt; Get Currently Playing Track </span>
<span class="sd">        &lt;https://developer.spotify.com/documentation/web-api/reference/</span>
<span class="sd">        get-the-users-currently-playing-track&gt;`_: Get the object </span>
<span class="sd">        currently being played on the user&#39;s Spotify account.</span>

<span class="sd">        .. admonition:: Authorization scope</span>
<span class="sd">           :class: warning</span>
<span class="sd">        </span>
<span class="sd">           Requires the :code:`user-read-currently-playing` scope.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        market : `str`, keyword-only, optional</span>
<span class="sd">            An ISO 3166-1 alpha-2 country code. If a country code is</span>
<span class="sd">            specified, only content that is available in that market</span>
<span class="sd">            will be returned. If a valid user access token is specified</span>
<span class="sd">            in the request header, the country associated with the user</span>
<span class="sd">            account will take priority over this parameter.</span>

<span class="sd">            .. note::</span>

<span class="sd">               If neither market or user country are provided, the </span>
<span class="sd">               content is considered unavailable for the client.</span>
<span class="sd">            </span>
<span class="sd">            **Example**: :code:`&quot;ES&quot;`.</span>

<span class="sd">        additional_types : `str`, keyword-only, optional</span>
<span class="sd">            A comma-separated list of item types that your client </span>
<span class="sd">            supports besides the default track type. </span>
<span class="sd">    </span>
<span class="sd">            .. note::</span>

<span class="sd">               This parameter was introduced to allow existing clients</span>
<span class="sd">               to maintain their current behavior and might be </span>
<span class="sd">               deprecated in the future.</span>

<span class="sd">            **Valid**: :code:`&quot;track&quot;` and :code:`&quot;episode&quot;`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        item : `dict`</span>
<span class="sd">            Information about the object currently being played.</span>

<span class="sd">            .. admonition:: Sample response</span>
<span class="sd">               :class: dropdown</span>

<span class="sd">               .. code::</span>
<span class="sd">             </span>
<span class="sd">                  {</span>
<span class="sd">                    &quot;device&quot;: {</span>
<span class="sd">                      &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;is_active&quot;: &lt;bool&gt;,</span>
<span class="sd">                      &quot;is_private_session&quot;: &lt;bool&gt;,</span>
<span class="sd">                      &quot;is_restricted&quot;: &lt;bool&gt;,</span>
<span class="sd">                      &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;type&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;volume_percent&quot;: &lt;int&gt;</span>
<span class="sd">                    },</span>
<span class="sd">                    &quot;repeat_state&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;shuffle_state&quot;: &lt;bool&gt;,</span>
<span class="sd">                    &quot;context&quot;: {</span>
<span class="sd">                      &quot;type&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;external_urls&quot;: {</span>
<span class="sd">                        &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                      },</span>
<span class="sd">                      &quot;uri&quot;: &lt;str&gt;</span>
<span class="sd">                    },</span>
<span class="sd">                    &quot;timestamp&quot;: &lt;int&gt;,</span>
<span class="sd">                    &quot;progress_ms&quot;: &lt;int&gt;,</span>
<span class="sd">                    &quot;is_playing&quot;: &lt;bool&gt;,</span>
<span class="sd">                    &quot;item&quot;: {</span>
<span class="sd">                      &quot;album&quot;: {</span>
<span class="sd">                        &quot;album_type&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;total_tracks&quot;: &lt;int&gt;,</span>
<span class="sd">                        &quot;available_markets&quot;: [&lt;str&gt;],</span>
<span class="sd">                        &quot;external_urls&quot;: {</span>
<span class="sd">                          &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                        },</span>
<span class="sd">                        &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;images&quot;: [</span>
<span class="sd">                          {</span>
<span class="sd">                            &quot;url&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;height&quot;: &lt;int&gt;,</span>
<span class="sd">                            &quot;width&quot;: &lt;int&gt;</span>
<span class="sd">                          }</span>
<span class="sd">                        ],</span>
<span class="sd">                        &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;release_date&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;release_date_precision&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;restrictions&quot;: {</span>
<span class="sd">                          &quot;reason&quot;: &lt;str&gt;</span>
<span class="sd">                        },</span>
<span class="sd">                        &quot;type&quot;: &quot;album&quot;,</span>
<span class="sd">                        &quot;uri&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;copyrights&quot;: [</span>
<span class="sd">                          {</span>
<span class="sd">                            &quot;text&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;type&quot;: &lt;str&gt;</span>
<span class="sd">                          }</span>
<span class="sd">                        ],</span>
<span class="sd">                        &quot;external_ids&quot;: {</span>
<span class="sd">                          &quot;isrc&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;ean&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;upc&quot;: &lt;str&gt;</span>
<span class="sd">                        },</span>
<span class="sd">                        &quot;genres&quot;: [&lt;str&gt;],</span>
<span class="sd">                        &quot;label&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;popularity&quot;: &lt;int&gt;,</span>
<span class="sd">                        &quot;album_group&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;artists&quot;: [</span>
<span class="sd">                          {</span>
<span class="sd">                            &quot;external_urls&quot;: {</span>
<span class="sd">                              &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                            },</span>
<span class="sd">                            &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;type&quot;: &quot;artist&quot;,</span>
<span class="sd">                            &quot;uri&quot;: &lt;str&gt;</span>
<span class="sd">                          }</span>
<span class="sd">                        ]</span>
<span class="sd">                      },</span>
<span class="sd">                      &quot;artists&quot;: [</span>
<span class="sd">                        {</span>
<span class="sd">                          &quot;external_urls&quot;: {</span>
<span class="sd">                            &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;followers&quot;: {</span>
<span class="sd">                            &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;total&quot;: &lt;int&gt;</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;genres&quot;: [&lt;str&gt;],</span>
<span class="sd">                          &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;images&quot;: [</span>
<span class="sd">                            {</span>
<span class="sd">                              &quot;url&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;height&quot;: &lt;int&gt;,</span>
<span class="sd">                              &quot;width&quot;: &lt;int&gt;</span>
<span class="sd">                            }</span>
<span class="sd">                          ],</span>
<span class="sd">                          &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;popularity&quot;: &lt;int&gt;,</span>
<span class="sd">                          &quot;type&quot;: &quot;artist&quot;,</span>
<span class="sd">                          &quot;uri&quot;: &lt;str&gt;</span>
<span class="sd">                        }</span>
<span class="sd">                      ],</span>
<span class="sd">                      &quot;available_markets&quot;: [&lt;str&gt;],</span>
<span class="sd">                      &quot;disc_number&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;duration_ms&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;explicit&quot;: &lt;bool&gt;,</span>
<span class="sd">                      &quot;external_ids&quot;: {</span>
<span class="sd">                        &quot;isrc&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;ean&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;upc&quot;: &lt;str&gt;</span>
<span class="sd">                      },</span>
<span class="sd">                      &quot;external_urls&quot;: {</span>
<span class="sd">                        &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                      },</span>
<span class="sd">                      &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;is_playable&quot;: &lt;bool&gt;</span>
<span class="sd">                      &quot;linked_from&quot;: {</span>
<span class="sd">                      },</span>
<span class="sd">                      &quot;restrictions&quot;: {</span>
<span class="sd">                        &quot;reason&quot;: &lt;str&gt;</span>
<span class="sd">                      },</span>
<span class="sd">                      &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;popularity&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;preview_url&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;track_number&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;type&quot;: &quot;track&quot;,</span>
<span class="sd">                      &quot;uri&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;is_local&quot;: &lt;bool&gt;</span>
<span class="sd">                    },</span>
<span class="sd">                    &quot;currently_playing_type&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;actions&quot;: {</span>
<span class="sd">                      &quot;interrupting_playback&quot;: &lt;bool&gt;,</span>
<span class="sd">                      &quot;pausing&quot;: &lt;bool&gt;,</span>
<span class="sd">                      &quot;resuming&quot;: &lt;bool&gt;,</span>
<span class="sd">                      &quot;seeking&quot;: &lt;bool&gt;,</span>
<span class="sd">                      &quot;skipping_next&quot;: &lt;bool&gt;,</span>
<span class="sd">                      &quot;skipping_prev&quot;: &lt;bool&gt;,</span>
<span class="sd">                      &quot;toggling_repeat_context&quot;: &lt;bool&gt;,</span>
<span class="sd">                      &quot;toggling_shuffle&quot;: &lt;bool&gt;,</span>
<span class="sd">                      &quot;toggling_repeat_track&quot;: &lt;bool&gt;,</span>
<span class="sd">                      &quot;transferring_playback&quot;: &lt;bool&gt;</span>
<span class="sd">                    }</span>
<span class="sd">                  }</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">_check_scope</span><span class="p">(</span><span class="s2">&quot;get_currently_playing_item&quot;</span><span class="p">,</span> 
                          <span class="s2">&quot;user-read-currently-playing&quot;</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">_get_json</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/me/player/currently-playing&quot;</span><span class="p">,</span>
                       <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;market&quot;</span><span class="p">:</span> <span class="n">market</span><span class="p">,</span> 
                               <span class="s2">&quot;additional_types&quot;</span><span class="p">:</span> <span class="n">additional_types</span><span class="p">})</span></div>

    
<div class="viewcode-block" id="WebAPI.start_playback">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.start_playback">[docs]</a>
    <span class="k">def</span> <span class="nf">start_playback</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">device_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">context_uri</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">uris</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">offset</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> 
            <span class="n">position_ms</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Player &gt; Start/Resume Playback &lt;https://developer.spotify.com/</span>
<span class="sd">        documentation/web-api/reference/start-a-users-playback&gt;`_: Start</span>
<span class="sd">        a new context or resume current playback on the user&#39;s active </span>
<span class="sd">        device.</span>

<span class="sd">        .. admonition:: Authorization scope</span>
<span class="sd">           :class: warning</span>
<span class="sd">        </span>
<span class="sd">           Requires the :code:`user-modify-playback-state` scope.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        device_id : `str`, keyword-only, optional</span>
<span class="sd">            The ID of the device this method is targeting. If not </span>
<span class="sd">            supplied, the user&#39;s currently active device is the target.</span>

<span class="sd">            **Example**: </span>
<span class="sd">            :code:`&quot;0d1841b0976bae2a3a310dd74c0f3df354899bc8&quot;`.</span>

<span class="sd">        context_uri : `str`, keyword-only, optional</span>
<span class="sd">            Spotify URI of the context to play. Only album, artist, and</span>
<span class="sd">            playlist contexts are valid.</span>

<span class="sd">            **Example**: :code:`&quot;spotify:album:1Je1IMUlBXcx1Fz0WE7oPT&quot;`.</span>

<span class="sd">        uris : `list`, keyword-only, optional</span>
<span class="sd">            A JSON array of the Spotify track URIs to play.</span>

<span class="sd">            **Example**: :code:`[&quot;spotify:track:4iV5W9uYEdYUVa79Axb7Rh&quot;,</span>
<span class="sd">            &quot;spotify:track:1301WleyT98MSxVHPZCA6M&quot;]`.</span>

<span class="sd">        offset : `dict`, keyword-only, optional</span>
<span class="sd">            Indicates from where in the context playback should start.</span>
<span class="sd">            Only available when `context_uri` corresponds to an album or</span>
<span class="sd">            a playlist. </span>

<span class="sd">            .. container::</span>

<span class="sd">               **Valid values**:</span>
<span class="sd">            </span>
<span class="sd">               * The value corresponding to the :code:`&quot;position&quot;` key </span>
<span class="sd">                 is zero-based and can&#39;t be negative. </span>
<span class="sd">               * The value corresponding to the :code:`&quot;uri&quot;` key is a</span>
<span class="sd">                 string representing the URI of the item to start at.</span>
<span class="sd">            </span>
<span class="sd">               **Examples**: </span>
<span class="sd">            </span>
<span class="sd">               * :code:`{&quot;position&quot;: 5}` to start playback at the sixth</span>
<span class="sd">                 item of the collection specified in `context_uri`.</span>
<span class="sd">               * :code:`{&quot;uri&quot;: &lt;str&gt;}`</span>
<span class="sd">                 to start playback at the item designated by the URI.</span>

<span class="sd">        position_ms : `int`, keyword-only, optional</span>
<span class="sd">            The position in milliseconds to seek to. Passing in a </span>
<span class="sd">            position that is greater than the length of the track will</span>
<span class="sd">            cause the player to start playing the next song.</span>
<span class="sd">            </span>
<span class="sd">            **Valid values**: `position_ms` must be a positive number.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_check_scope</span><span class="p">(</span><span class="s2">&quot;start_playback&quot;</span><span class="p">,</span> <span class="s2">&quot;user-modify-playback-state&quot;</span><span class="p">)</span>

        <span class="n">json</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="n">context_uri</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">json</span><span class="p">[</span><span class="s2">&quot;context_uri&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">context_uri</span>
        <span class="k">if</span> <span class="n">uris</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">json</span><span class="p">[</span><span class="s2">&quot;uris&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">uris</span>
        <span class="k">if</span> <span class="n">offset</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">json</span><span class="p">[</span><span class="s2">&quot;offset&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">offset</span>
        <span class="k">if</span> <span class="n">position_ms</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">json</span><span class="p">[</span><span class="s2">&quot;position_ms&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">position_ms</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span><span class="s2">&quot;put&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/me/player/play&quot;</span><span class="p">,</span>
                      <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;device_id&quot;</span><span class="p">:</span> <span class="n">device_id</span><span class="p">},</span> <span class="n">json</span><span class="o">=</span><span class="n">json</span><span class="p">)</span></div>

    
<div class="viewcode-block" id="WebAPI.pause_playback">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.pause_playback">[docs]</a>
    <span class="k">def</span> <span class="nf">pause_playback</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">device_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Player &gt; Pause Playback &lt;https://developer.spotify.com/</span>
<span class="sd">        documentation/web-api/reference/pause-a-users-playback&gt;`_: Pause</span>
<span class="sd">        playback on the user&#39;s account.</span>

<span class="sd">        .. admonition:: Authorization scope</span>
<span class="sd">           :class: warning</span>
<span class="sd">        </span>
<span class="sd">           Requires the :code:`user-modify-playback-state` scope.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        device_id : `str`, keyword-only, optional</span>
<span class="sd">            The ID of the device this method is targeting. If not </span>
<span class="sd">            supplied, the user&#39;s currently active device is the target.</span>

<span class="sd">            **Example**: </span>
<span class="sd">            :code:`&quot;0d1841b0976bae2a3a310dd74c0f3df354899bc8&quot;`.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_check_scope</span><span class="p">(</span><span class="s2">&quot;pause_playback&quot;</span><span class="p">,</span> <span class="s2">&quot;user-modify-playback-state&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span><span class="s2">&quot;put&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/me/player/pause&quot;</span><span class="p">,</span>
                      <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;device_id&quot;</span><span class="p">:</span> <span class="n">device_id</span><span class="p">})</span></div>

    
<div class="viewcode-block" id="WebAPI.skip_to_next">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.skip_to_next">[docs]</a>
    <span class="k">def</span> <span class="nf">skip_to_next</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">device_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Player &gt; Skip To Next &lt;https://developer.spotify.com/</span>
<span class="sd">        documentation/web-api/reference/</span>
<span class="sd">        skip-users-playback-to-next-track&gt;`_: Skips to next track in the</span>
<span class="sd">        user&#39;s queue.</span>

<span class="sd">        .. admonition:: Authorization scope</span>
<span class="sd">           :class: warning</span>
<span class="sd">        </span>
<span class="sd">           Requires the :code:`user-modify-playback-state` scope.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        device_id : `str`, keyword-only, optional</span>
<span class="sd">            The ID of the device this method is targeting. If not </span>
<span class="sd">            supplied, the user&#39;s currently active device is the target.</span>

<span class="sd">            **Example**: </span>
<span class="sd">            :code:`&quot;0d1841b0976bae2a3a310dd74c0f3df354899bc8&quot;`.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_check_scope</span><span class="p">(</span><span class="s2">&quot;skip_to_next&quot;</span><span class="p">,</span> <span class="s2">&quot;user-modify-playback-state&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span><span class="s2">&quot;post&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/me/player/next&quot;</span><span class="p">,</span>
                      <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;device_id&quot;</span><span class="p">:</span> <span class="n">device_id</span><span class="p">})</span></div>


<div class="viewcode-block" id="WebAPI.skip_to_previous">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.skip_to_previous">[docs]</a>
    <span class="k">def</span> <span class="nf">skip_to_previous</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">device_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Player &gt; Skip To Previous &lt;https://developer.spotify.com/</span>
<span class="sd">        documentation/web-api/reference/</span>
<span class="sd">        skip-users-playback-to-previous-track&gt;`_: Skips to previous </span>
<span class="sd">        track in the user&#39;s queue.</span>

<span class="sd">        .. admonition:: Authorization scope</span>
<span class="sd">           :class: warning</span>
<span class="sd">        </span>
<span class="sd">           Requires the :code:`user-modify-playback-state` scope.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        device_id : `str`, keyword-only, optional</span>
<span class="sd">            The ID of the device this method is targeting. If not </span>
<span class="sd">            supplied, the user&#39;s currently active device is the target.</span>

<span class="sd">            **Example**: </span>
<span class="sd">            :code:`&quot;0d1841b0976bae2a3a310dd74c0f3df354899bc8&quot;`.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_check_scope</span><span class="p">(</span><span class="s2">&quot;skip_to_previous&quot;</span><span class="p">,</span> <span class="s2">&quot;user-modify-playback-state&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span><span class="s2">&quot;post&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/me/player/previous&quot;</span><span class="p">,</span>
                      <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;device_id&quot;</span><span class="p">:</span> <span class="n">device_id</span><span class="p">})</span></div>


<div class="viewcode-block" id="WebAPI.seek_to_position">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.seek_to_position">[docs]</a>
    <span class="k">def</span> <span class="nf">seek_to_position</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="n">position_ms</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">device_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Player &gt; Seek To Position &lt;https://developer.spotify.com/</span>
<span class="sd">        documentation/web-api/reference/</span>
<span class="sd">        seek-to-position-in-currently-playing-track&gt;`_: Seeks to the</span>
<span class="sd">        given position in the user&#39;s currently playing track.</span>

<span class="sd">        .. admonition:: Authorization scope</span>
<span class="sd">           :class: warning</span>
<span class="sd">        </span>
<span class="sd">           Requires the :code:`user-modify-playback-state` scope.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        position_ms : `int`</span>
<span class="sd">            The position in milliseconds to seek to. Passing in a </span>
<span class="sd">            position that is greater than the length of the track will</span>
<span class="sd">            cause the player to start playing the next song.</span>

<span class="sd">            **Valid values**: `position_ms` must be a positive number.</span>

<span class="sd">            **Example**: :code:`25000`.</span>
<span class="sd">        </span>
<span class="sd">        device_id : `str`, keyword-only, optional</span>
<span class="sd">            The ID of the device this method is targeting. If not </span>
<span class="sd">            supplied, the user&#39;s currently active device is the target.</span>

<span class="sd">            **Example**: </span>
<span class="sd">            :code:`&quot;0d1841b0976bae2a3a310dd74c0f3df354899bc8&quot;`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">_check_scope</span><span class="p">(</span><span class="s2">&quot;seek_to_position&quot;</span><span class="p">,</span> <span class="s2">&quot;user-modify-playback-state&quot;</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span><span class="s2">&quot;put&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/me/player/seek&quot;</span><span class="p">,</span>
                      <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;position_ms&quot;</span><span class="p">:</span> <span class="n">position_ms</span><span class="p">,</span> 
                              <span class="s2">&quot;device_id&quot;</span><span class="p">:</span> <span class="n">device_id</span><span class="p">})</span></div>

    
<div class="viewcode-block" id="WebAPI.set_repeat_mode">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.set_repeat_mode">[docs]</a>
    <span class="k">def</span> <span class="nf">set_repeat_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">device_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Player &gt; Set Repeat Mode &lt;https://developer.spotify.com/</span>
<span class="sd">        documentation/web-api/reference/</span>
<span class="sd">        set-repeat-mode-on-users-playback&gt;`_: Set the repeat mode for </span>
<span class="sd">        the user&#39;s playback. Options are repeat-track, repeat-context,</span>
<span class="sd">        and off.</span>

<span class="sd">        .. admonition:: Authorization scope</span>
<span class="sd">           :class: warning</span>
<span class="sd">        </span>
<span class="sd">           Requires the :code:`user-modify-playback-state` scope.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        state : `str`</span>
<span class="sd">            Repeat mode.</span>

<span class="sd">            .. container::</span>

<span class="sd">               **Valid values**:</span>

<span class="sd">               * :code:`&quot;track&quot;` will repeat the current track.</span>
<span class="sd">               * :code:`&quot;context&quot;` will repeat the current context.</span>
<span class="sd">               * :code:`&quot;off&quot;` will turn repeat off.</span>

<span class="sd">        device_id : `str`, keyword-only, optional</span>
<span class="sd">            The ID of the device this method is targeting. If not </span>
<span class="sd">            supplied, the user&#39;s currently active device is the target.</span>

<span class="sd">            **Example**: </span>
<span class="sd">            :code:`&quot;0d1841b0976bae2a3a310dd74c0f3df354899bc8&quot;`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">_check_scope</span><span class="p">(</span><span class="s2">&quot;set_repeat_mode&quot;</span><span class="p">,</span> <span class="s2">&quot;user-modify-playback-state&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span><span class="s2">&quot;put&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/me/player/repeat&quot;</span><span class="p">,</span>
                      <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;state&quot;</span><span class="p">:</span> <span class="n">state</span><span class="p">,</span> <span class="s2">&quot;device_id&quot;</span><span class="p">:</span> <span class="n">device_id</span><span class="p">})</span></div>

    
<div class="viewcode-block" id="WebAPI.set_playback_volume">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.set_playback_volume">[docs]</a>
    <span class="k">def</span> <span class="nf">set_playback_volume</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="n">volume_percent</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">device_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Player &gt; Set Playback Volume &lt;https://developer.spotify.com/</span>
<span class="sd">        documentation/web-api/reference/</span>
<span class="sd">        set-volume-for-users-playback&gt;`_: Set the volume for the user&#39;s</span>
<span class="sd">        current playback device.</span>

<span class="sd">        .. admonition:: Authorization scope</span>
<span class="sd">           :class: warning</span>
<span class="sd">        </span>
<span class="sd">           Requires the :code:`user-modify-playback-state` scope.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        volume_percent : `int`</span>
<span class="sd">            The volume to set. </span>
<span class="sd">            </span>
<span class="sd">            **Valid values**: `volume_percent` must be a value from 0 to</span>
<span class="sd">            100, inclusive.</span>

<span class="sd">            **Example**: :code:`50`.</span>

<span class="sd">        device_id : `str`, keyword-only, optional</span>
<span class="sd">            The ID of the device this method is targeting. If not </span>
<span class="sd">            supplied, the user&#39;s currently active device is the target.</span>

<span class="sd">            **Example**: </span>
<span class="sd">            :code:`&quot;0d1841b0976bae2a3a310dd74c0f3df354899bc8&quot;`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">_check_scope</span><span class="p">(</span><span class="s2">&quot;set_playback_volume&quot;</span><span class="p">,</span> <span class="s2">&quot;user-modify-playback-state&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span><span class="s2">&quot;put&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/me/player/volume&quot;</span><span class="p">,</span>
                      <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;volume_percent&quot;</span><span class="p">:</span> <span class="n">volume_percent</span><span class="p">,</span>
                              <span class="s2">&quot;device_id&quot;</span><span class="p">:</span> <span class="n">device_id</span><span class="p">})</span></div>

    
<div class="viewcode-block" id="WebAPI.toggle_playback_shuffle">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.toggle_playback_shuffle">[docs]</a>
    <span class="k">def</span> <span class="nf">toggle_playback_shuffle</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">device_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Player &gt; Toggle Playback Shuffle</span>
<span class="sd">        &lt;https://developer.spotify.com/documentation/web-api/reference/</span>
<span class="sd">        toggle-shuffle-for-users-playback&gt;`_: Toggle shuffle on or off</span>
<span class="sd">        for user&#39;s playback.</span>

<span class="sd">        .. admonition:: Authorization scope</span>
<span class="sd">           :class: warning</span>
<span class="sd">        </span>
<span class="sd">           Requires the :code:`user-modify-playback-state` scope.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        state : `bool`</span>
<span class="sd">            Shuffle mode. If :code:`True`, shuffle the user&#39;s playback.</span>

<span class="sd">        device_id : `str`, keyword-only, optional</span>
<span class="sd">            The ID of the device this method is targeting. If not </span>
<span class="sd">            supplied, the user&#39;s currently active device is the target.</span>

<span class="sd">            **Example**: </span>
<span class="sd">            :code:`&quot;0d1841b0976bae2a3a310dd74c0f3df354899bc8&quot;`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">_check_scope</span><span class="p">(</span><span class="s2">&quot;toggle_playback_shuffle&quot;</span><span class="p">,</span> 
                          <span class="s2">&quot;user-modify-playback-state&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span><span class="s2">&quot;put&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/me/player/shuffle&quot;</span><span class="p">,</span>
                      <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;state&quot;</span><span class="p">:</span> <span class="n">state</span><span class="p">,</span> <span class="s2">&quot;device_id&quot;</span><span class="p">:</span> <span class="n">device_id</span><span class="p">})</span></div>

    
<div class="viewcode-block" id="WebAPI.get_recently_played">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.get_recently_played">[docs]</a>
    <span class="k">def</span> <span class="nf">get_recently_played</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">after</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">before</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Player &gt; Get Recently Played Tracks </span>
<span class="sd">        &lt;https://developer.spotify.com/documentation/web-api/reference/</span>
<span class="sd">        get-recently-played&gt;`_: Get tracks from the current user&#39;s </span>
<span class="sd">        recently played tracks. </span>
<span class="sd">        </span>
<span class="sd">        .. note::</span>

<span class="sd">           Currently doesn&#39;t support podcast episodes.</span>

<span class="sd">        .. admonition:: Authorization scope</span>
<span class="sd">           :class: warning</span>
<span class="sd">        </span>
<span class="sd">           Requires the :code:`user-read-recently-played` scope.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        limit : `int`, keyword-only, optional</span>
<span class="sd">            The maximum number of results to return in each item type.</span>
<span class="sd">            </span>
<span class="sd">            **Valid values**: `limit` must be between 0 and 50.</span>

<span class="sd">            **Default**: :code:`20`.</span>

<span class="sd">        after : `int`, keyword-only, optional</span>
<span class="sd">            A Unix timestamp in milliseconds. Returns all items after</span>
<span class="sd">            (but not including) this cursor position. If `after` is </span>
<span class="sd">            specified, `before` must not be specified.</span>

<span class="sd">            **Example**: :code:`1484811043508`.</span>

<span class="sd">        before : `int`, keyword-only, optional</span>
<span class="sd">            A Unix timestamp in milliseconds. Returns all items before</span>
<span class="sd">            (but not including) this cursor position. If `before` is</span>
<span class="sd">            specified, `after` must not be specified.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        tracks : `dict`</span>
<span class="sd">            A dictionary containing Spotify catalog information for</span>
<span class="sd">            the recently played tracks and the number of results </span>
<span class="sd">            returned.</span>

<span class="sd">            .. admonition:: Sample</span>
<span class="sd">               :class: dropdown</span>

<span class="sd">               .. code::</span>

<span class="sd">                  {</span>
<span class="sd">                    &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;limit&quot;: &lt;int&gt;,</span>
<span class="sd">                    &quot;next&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;cursors&quot;: {</span>
<span class="sd">                      &quot;after&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;before&quot;: &lt;str&gt;</span>
<span class="sd">                    },</span>
<span class="sd">                    &quot;total&quot;: &lt;int&gt;,</span>
<span class="sd">                    &quot;items&quot;: [</span>
<span class="sd">                      {</span>
<span class="sd">                        &quot;track&quot;: {</span>
<span class="sd">                          &quot;album&quot;: {</span>
<span class="sd">                            &quot;album_type&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;total_tracks&quot;: &lt;int&gt;,</span>
<span class="sd">                            &quot;available_markets&quot;: [&lt;str&gt;],</span>
<span class="sd">                            &quot;external_urls&quot;: {</span>
<span class="sd">                              &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                            },</span>
<span class="sd">                            &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;images&quot;: [</span>
<span class="sd">                              {</span>
<span class="sd">                                &quot;url&quot;: &lt;str&gt;,</span>
<span class="sd">                                &quot;height&quot;: &lt;int&gt;,</span>
<span class="sd">                                &quot;width&quot;: &lt;int&gt;</span>
<span class="sd">                              }</span>
<span class="sd">                            ],</span>
<span class="sd">                            &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;release_date&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;release_date_precision&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;restrictions&quot;: {</span>
<span class="sd">                              &quot;reason&quot;: &lt;str&gt;</span>
<span class="sd">                            },</span>
<span class="sd">                            &quot;type&quot;: &quot;album&quot;,</span>
<span class="sd">                            &quot;uri&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;copyrights&quot;: [</span>
<span class="sd">                              {</span>
<span class="sd">                                &quot;text&quot;: &lt;str&gt;,</span>
<span class="sd">                                &quot;type&quot;: &lt;str&gt;</span>
<span class="sd">                              }</span>
<span class="sd">                            ],</span>
<span class="sd">                            &quot;external_ids&quot;: {</span>
<span class="sd">                              &quot;isrc&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;ean&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;upc&quot;: &lt;str&gt;</span>
<span class="sd">                            },</span>
<span class="sd">                            &quot;genres&quot;: [&lt;str&gt;],</span>
<span class="sd">                            &quot;label&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;popularity&quot;: &lt;int&gt;,</span>
<span class="sd">                            &quot;album_group&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;artists&quot;: [</span>
<span class="sd">                              {</span>
<span class="sd">                                &quot;external_urls&quot;: {</span>
<span class="sd">                                  &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                                },</span>
<span class="sd">                                &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                                &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                                &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                                &quot;type&quot;: &quot;artist&quot;,</span>
<span class="sd">                                &quot;uri&quot;: &lt;str&gt;</span>
<span class="sd">                              }</span>
<span class="sd">                            ]</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;artists&quot;: [</span>
<span class="sd">                            {</span>
<span class="sd">                              &quot;external_urls&quot;: {</span>
<span class="sd">                                &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                              },</span>
<span class="sd">                              &quot;followers&quot;: {</span>
<span class="sd">                                &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                                &quot;total&quot;: &lt;int&gt;</span>
<span class="sd">                              },</span>
<span class="sd">                              &quot;genres&quot;: [&lt;str&gt;],</span>
<span class="sd">                              &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;images&quot;: [</span>
<span class="sd">                                {</span>
<span class="sd">                                  &quot;url&quot;: &lt;str&gt;,</span>
<span class="sd">                                  &quot;height&quot;: &lt;int&gt;,</span>
<span class="sd">                                  &quot;width&quot;: &lt;int&gt;</span>
<span class="sd">                                }</span>
<span class="sd">                              ],</span>
<span class="sd">                              &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;popularity&quot;: &lt;int&gt;,</span>
<span class="sd">                              &quot;type&quot;: &quot;artist&quot;,</span>
<span class="sd">                              &quot;uri&quot;: &lt;str&gt;</span>
<span class="sd">                            }</span>
<span class="sd">                          ],</span>
<span class="sd">                          &quot;available_markets&quot;: [&lt;str&gt;],</span>
<span class="sd">                          &quot;disc_number&quot;: &lt;int&gt;,</span>
<span class="sd">                          &quot;duration_ms&quot;: &lt;int&gt;,</span>
<span class="sd">                          &quot;explicit&quot;: &lt;bool&gt;,</span>
<span class="sd">                          &quot;external_ids&quot;: {</span>
<span class="sd">                            &quot;isrc&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;ean&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;upc&quot;: &lt;str&gt;</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;external_urls&quot;: {</span>
<span class="sd">                            &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;is_playable&quot;: &lt;bool&gt;</span>
<span class="sd">                          &quot;linked_from&quot;: {</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;restrictions&quot;: {</span>
<span class="sd">                            &quot;reason&quot;: &lt;str&gt;</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;popularity&quot;: &lt;int&gt;,</span>
<span class="sd">                          &quot;preview_url&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;track_number&quot;: &lt;int&gt;,</span>
<span class="sd">                          &quot;type&quot;: &quot;track&quot;,</span>
<span class="sd">                          &quot;uri&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;is_local&quot;: &lt;bool&gt;</span>
<span class="sd">                        },</span>
<span class="sd">                        &quot;played_at&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;context&quot;: {</span>
<span class="sd">                          &quot;type&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;external_urls&quot;: {</span>
<span class="sd">                            &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;uri&quot;: &lt;str&gt;</span>
<span class="sd">                        }</span>
<span class="sd">                      }</span>
<span class="sd">                    ]</span>
<span class="sd">                  }</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">_check_scope</span><span class="p">(</span><span class="s2">&quot;get_recently_played_tracks&quot;</span><span class="p">,</span> 
                          <span class="s2">&quot;user-read-recently-played&quot;</span><span class="p">)</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_json</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/me/player/recently-played&quot;</span><span class="p">,</span>
                              <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="n">limit</span><span class="p">,</span> <span class="s2">&quot;after&quot;</span><span class="p">:</span> <span class="n">after</span><span class="p">,</span> 
                                      <span class="s2">&quot;before&quot;</span><span class="p">:</span> <span class="n">before</span><span class="p">})</span></div>

    
<div class="viewcode-block" id="WebAPI.get_queue">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.get_queue">[docs]</a>
    <span class="k">def</span> <span class="nf">get_queue</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Player &gt; Get the User&#39;s Queue &lt;https://developer.spotify.com/</span>
<span class="sd">        documentation/web-api/reference/get-queue&gt;`_: Get the list of</span>
<span class="sd">        objects that make up the user&#39;s queue.</span>

<span class="sd">        .. admonition:: Authorization scope</span>
<span class="sd">           :class: warning</span>
<span class="sd">        </span>
<span class="sd">           Requires the :code:`user-read-playback-state` scope.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        queue : `dict`</span>
<span class="sd">            Information about the user&#39;s queue, such as the currently</span>
<span class="sd">            playing item and items in the queue.</span>

<span class="sd">            .. admonition:: Sample</span>
<span class="sd">               :class: dropdown</span>

<span class="sd">               .. code::</span>

<span class="sd">                  {</span>
<span class="sd">                    &quot;currently_playing&quot;: {</span>
<span class="sd">                      &quot;album&quot;: {</span>
<span class="sd">                        &quot;album_type&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;total_tracks&quot;: &lt;int&gt;,</span>
<span class="sd">                        &quot;available_markets&quot;: [&lt;str&gt;],</span>
<span class="sd">                        &quot;external_urls&quot;: {</span>
<span class="sd">                          &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                        },</span>
<span class="sd">                        &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;images&quot;: [</span>
<span class="sd">                          {</span>
<span class="sd">                            &quot;url&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;height&quot;: &lt;int&gt;,</span>
<span class="sd">                            &quot;width&quot;: &lt;int&gt;</span>
<span class="sd">                          }</span>
<span class="sd">                        ],</span>
<span class="sd">                        &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;release_date&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;release_date_precision&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;restrictions&quot;: {</span>
<span class="sd">                          &quot;reason&quot;: &lt;str&gt;</span>
<span class="sd">                        },</span>
<span class="sd">                        &quot;type&quot;: &quot;album&quot;,</span>
<span class="sd">                        &quot;uri&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;copyrights&quot;: [</span>
<span class="sd">                          {</span>
<span class="sd">                            &quot;text&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;type&quot;: &lt;str&gt;</span>
<span class="sd">                          }</span>
<span class="sd">                        ],</span>
<span class="sd">                        &quot;external_ids&quot;: {</span>
<span class="sd">                          &quot;isrc&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;ean&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;upc&quot;: &lt;str&gt;</span>
<span class="sd">                        },</span>
<span class="sd">                        &quot;genres&quot;: [&lt;str&gt;],</span>
<span class="sd">                        &quot;label&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;popularity&quot;: &lt;int&gt;,</span>
<span class="sd">                        &quot;album_group&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;artists&quot;: [</span>
<span class="sd">                          {</span>
<span class="sd">                            &quot;external_urls&quot;: {</span>
<span class="sd">                              &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                            },</span>
<span class="sd">                            &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;type&quot;: &quot;artist&quot;,</span>
<span class="sd">                            &quot;uri&quot;: &lt;str&gt;</span>
<span class="sd">                          }</span>
<span class="sd">                        ]</span>
<span class="sd">                      },</span>
<span class="sd">                      &quot;artists&quot;: [</span>
<span class="sd">                        {</span>
<span class="sd">                          &quot;external_urls&quot;: {</span>
<span class="sd">                            &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;followers&quot;: {</span>
<span class="sd">                            &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;total&quot;: &lt;int&gt;</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;genres&quot;: [&lt;str&gt;],</span>
<span class="sd">                          &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;images&quot;: [</span>
<span class="sd">                            {</span>
<span class="sd">                              &quot;url&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;height&quot;: &lt;int&gt;,</span>
<span class="sd">                              &quot;width&quot;: &lt;int&gt;</span>
<span class="sd">                            }</span>
<span class="sd">                          ],</span>
<span class="sd">                          &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;popularity&quot;: &lt;int&gt;,</span>
<span class="sd">                          &quot;type&quot;: &quot;artist&quot;,</span>
<span class="sd">                          &quot;uri&quot;: &lt;str&gt;</span>
<span class="sd">                        }</span>
<span class="sd">                      ],</span>
<span class="sd">                      &quot;available_markets&quot;: [&lt;str&gt;],</span>
<span class="sd">                      &quot;disc_number&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;duration_ms&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;explicit&quot;: &lt;bool&gt;,</span>
<span class="sd">                      &quot;external_ids&quot;: {</span>
<span class="sd">                        &quot;isrc&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;ean&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;upc&quot;: &lt;str&gt;</span>
<span class="sd">                      },</span>
<span class="sd">                      &quot;external_urls&quot;: {</span>
<span class="sd">                        &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                      },</span>
<span class="sd">                      &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;is_playable&quot;: &lt;bool&gt;</span>
<span class="sd">                      &quot;linked_from&quot;: {</span>
<span class="sd">                      },</span>
<span class="sd">                      &quot;restrictions&quot;: {</span>
<span class="sd">                        &quot;reason&quot;: &lt;str&gt;</span>
<span class="sd">                      },</span>
<span class="sd">                      &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;popularity&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;preview_url&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;track_number&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;type&quot;: &quot;track&quot;,</span>
<span class="sd">                      &quot;uri&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;is_local&quot;: &lt;bool&gt;</span>
<span class="sd">                    },</span>
<span class="sd">                    &quot;queue&quot;: [</span>
<span class="sd">                      {</span>
<span class="sd">                        &quot;album&quot;: {</span>
<span class="sd">                          &quot;album_type&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;total_tracks&quot;: &lt;int&gt;,</span>
<span class="sd">                          &quot;available_markets&quot;: [&lt;str&gt;],</span>
<span class="sd">                          &quot;external_urls&quot;: {</span>
<span class="sd">                            &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;images&quot;: [</span>
<span class="sd">                            {</span>
<span class="sd">                              &quot;url&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;height&quot;: &lt;int&gt;,</span>
<span class="sd">                              &quot;width&quot;: &lt;int&gt;</span>
<span class="sd">                            }</span>
<span class="sd">                          ],</span>
<span class="sd">                          &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;release_date&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;release_date_precision&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;restrictions&quot;: {</span>
<span class="sd">                            &quot;reason&quot;: &lt;str&gt;</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;type&quot;: &quot;album&quot;,</span>
<span class="sd">                          &quot;uri&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;copyrights&quot;: [</span>
<span class="sd">                            {</span>
<span class="sd">                              &quot;text&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;type&quot;: &lt;str&gt;</span>
<span class="sd">                            }</span>
<span class="sd">                          ],</span>
<span class="sd">                          &quot;external_ids&quot;: {</span>
<span class="sd">                            &quot;isrc&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;ean&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;upc&quot;: &lt;str&gt;</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;genres&quot;: [&lt;str&gt;],</span>
<span class="sd">                          &quot;label&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;popularity&quot;: &lt;int&gt;,</span>
<span class="sd">                          &quot;album_group&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;artists&quot;: [</span>
<span class="sd">                            {</span>
<span class="sd">                              &quot;external_urls&quot;: {</span>
<span class="sd">                                &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                              },</span>
<span class="sd">                              &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;type&quot;: &quot;artist&quot;,</span>
<span class="sd">                              &quot;uri&quot;: &lt;str&gt;</span>
<span class="sd">                            }</span>
<span class="sd">                          ]</span>
<span class="sd">                        },</span>
<span class="sd">                        &quot;artists&quot;: [</span>
<span class="sd">                          {</span>
<span class="sd">                            &quot;external_urls&quot;: {</span>
<span class="sd">                              &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                            },</span>
<span class="sd">                            &quot;followers&quot;: {</span>
<span class="sd">                              &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;total&quot;: &lt;int&gt;</span>
<span class="sd">                            },</span>
<span class="sd">                            &quot;genres&quot;: [&lt;str&gt;],</span>
<span class="sd">                            &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;images&quot;: [</span>
<span class="sd">                              {</span>
<span class="sd">                                &quot;url&quot;: &lt;str&gt;,</span>
<span class="sd">                                &quot;height&quot;: &lt;int&gt;,</span>
<span class="sd">                                &quot;width&quot;: &lt;int&gt;</span>
<span class="sd">                              }</span>
<span class="sd">                            ],</span>
<span class="sd">                            &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;popularity&quot;: &lt;int&gt;,</span>
<span class="sd">                            &quot;type&quot;: &quot;artist&quot;,</span>
<span class="sd">                            &quot;uri&quot;: &lt;str&gt;</span>
<span class="sd">                          }</span>
<span class="sd">                        ],</span>
<span class="sd">                        &quot;available_markets&quot;: [&lt;str&gt;],</span>
<span class="sd">                        &quot;disc_number&quot;: &lt;int&gt;,</span>
<span class="sd">                        &quot;duration_ms&quot;: &lt;int&gt;,</span>
<span class="sd">                        &quot;explicit&quot;: &lt;bool&gt;,</span>
<span class="sd">                        &quot;external_ids&quot;: {</span>
<span class="sd">                          &quot;isrc&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;ean&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;upc&quot;: &lt;str&gt;</span>
<span class="sd">                        },</span>
<span class="sd">                        &quot;external_urls&quot;: {</span>
<span class="sd">                          &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                        },</span>
<span class="sd">                        &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;is_playable&quot;: &lt;bool&gt;</span>
<span class="sd">                        &quot;linked_from&quot;: {</span>
<span class="sd">                        },</span>
<span class="sd">                        &quot;restrictions&quot;: {</span>
<span class="sd">                          &quot;reason&quot;: &lt;str&gt;</span>
<span class="sd">                        },</span>
<span class="sd">                        &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;popularity&quot;: &lt;int&gt;,</span>
<span class="sd">                        &quot;preview_url&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;track_number&quot;: &lt;int&gt;,</span>
<span class="sd">                        &quot;type&quot;: &quot;track&quot;,</span>
<span class="sd">                        &quot;uri&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;is_local&quot;: &lt;bool&gt;</span>
<span class="sd">                      }</span>
<span class="sd">                    ]</span>
<span class="sd">                  }</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_check_scope</span><span class="p">(</span><span class="s2">&quot;get_user_queue&quot;</span><span class="p">,</span> <span class="s2">&quot;user-read-playback-state&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_json</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/me/player/queue&quot;</span><span class="p">)</span></div>

    
<div class="viewcode-block" id="WebAPI.add_to_queue">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.add_to_queue">[docs]</a>
    <span class="k">def</span> <span class="nf">add_to_queue</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">uri</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">device_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Player &gt; Add Item to Playback Queue </span>
<span class="sd">        &lt;https://developer.spotify.com/documentation/web-api/reference/</span>
<span class="sd">        add-to-queue&gt;`_: Add an item to the end of the user&#39;s current</span>
<span class="sd">        playback queue.</span>

<span class="sd">        .. admonition:: Authorization scope</span>
<span class="sd">           :class: warning</span>
<span class="sd">        </span>
<span class="sd">           Requires the :code:`user-modify-playback-state` scope.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        uri : `str`</span>
<span class="sd">            The URI of the item to add to the queue. Must be a track or</span>
<span class="sd">            an episode URL.</span>

<span class="sd">        device_id : `str`, keyword-only, optional</span>
<span class="sd">            The ID of the device this method is targeting. If not </span>
<span class="sd">            supplied, the user&#39;s currently active device is the target.</span>

<span class="sd">            **Example**:</span>
<span class="sd">            :code:`&quot;0d1841b0976bae2a3a310dd74c0f3df354899bc8&quot;`.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_check_scope</span><span class="p">(</span><span class="s2">&quot;add_queue_item&quot;</span><span class="p">,</span> <span class="s2">&quot;user-modify-playback-state&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span><span class="s2">&quot;post&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/me/player/queue&quot;</span><span class="p">,</span>
                      <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;uri&quot;</span><span class="p">:</span> <span class="n">uri</span><span class="p">,</span> <span class="s2">&quot;device_id&quot;</span><span class="p">:</span> <span class="n">device_id</span><span class="p">})</span></div>


    <span class="c1">### PLAYLISTS #############################################################</span>

<div class="viewcode-block" id="WebAPI.get_playlist">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.get_playlist">[docs]</a>
    <span class="k">def</span> <span class="nf">get_playlist</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="n">playlist_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span>
            <span class="n">additional_types</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">fields</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">market</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Playlists &gt; Get Playlist &lt;https://developer.spotify.com/</span>
<span class="sd">        documentation/web-api/reference/get-playlist&gt;`_:</span>
<span class="sd">        Get a playlist owned by a Spotify user.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        playlist_id : `str`</span>
<span class="sd">            The Spotify ID of the playlist.</span>

<span class="sd">            **Example**: :code:`&quot;3cEYpjA9oz9GiPac4AsH4n&quot;`.</span>

<span class="sd">        additional_types : `str` or `list`, keyword-only, optional</span>
<span class="sd">            A (comma-separated) list of item types besides the default</span>
<span class="sd">            track type.</span>

<span class="sd">            .. note::</span>

<span class="sd">               This parameter was introduced to allow existing clients</span>
<span class="sd">               to maintain their current behavior and might be </span>
<span class="sd">               deprecated in the future.</span>
<span class="sd">        </span>
<span class="sd">            **Valid values**: :code:`&quot;track&quot;` and :code:`&quot;episode&quot;`.</span>

<span class="sd">        fields : `str` or `list`, keyword-only, optional</span>
<span class="sd">            Filters for the query: a (comma-separated) list of the</span>
<span class="sd">            fields to return. If omitted, all fields are returned.</span>
<span class="sd">            A dot separator can be used to specify non-reoccurring</span>
<span class="sd">            fields, while parentheses can be used to specify reoccurring</span>
<span class="sd">            fields within objects. Use multiple parentheses to drill</span>
<span class="sd">            down into nested objects. Fields can be excluded by</span>
<span class="sd">            prefixing them with an exclamation mark.</span>
<span class="sd">            </span>
<span class="sd">            .. container::</span>
<span class="sd">            </span>
<span class="sd">               **Examples**: </span>
<span class="sd">            </span>
<span class="sd">               * :code:`&quot;description,uri&quot;` to get just the playlist&#39;s</span>
<span class="sd">                 description and URI,</span>
<span class="sd">               * :code:`&quot;tracks.items(added_at,added_by.id)&quot;` to get just </span>
<span class="sd">                 the added date and user ID of the adder,</span>
<span class="sd">               * :code:`&quot;tracks.items(track(name,href,album(name,href)))&quot;` </span>
<span class="sd">                 to drill down into the album, and</span>
<span class="sd">               * :code:`&quot;tracks.items(track(name,href,album(!name,href)))&quot;`</span>
<span class="sd">                 to exclude the album name.</span>

<span class="sd">        market : `str`, keyword-only, optional</span>
<span class="sd">            An ISO 3166-1 alpha-2 country code. If a country code is</span>
<span class="sd">            specified, only content that is available in that market</span>
<span class="sd">            will be returned. If a valid user access token is specified</span>
<span class="sd">            in the request header, the country associated with the user</span>
<span class="sd">            account will take priority over this parameter.</span>

<span class="sd">            .. note::</span>

<span class="sd">               If neither market or user country are provided, the </span>
<span class="sd">               content is considered unavailable for the client.</span>
<span class="sd">            </span>
<span class="sd">            **Example**: :code:`&quot;ES&quot;`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        playlist : `dict`</span>
<span class="sd">            Spotify catalog information for a single playlist.</span>

<span class="sd">            .. admonition:: Sample response</span>
<span class="sd">               :class: dropdown</span>

<span class="sd">               .. code::</span>

<span class="sd">                  {</span>
<span class="sd">                    &quot;collaborative&quot;: &lt;bool&gt;,</span>
<span class="sd">                    &quot;description&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;external_urls&quot;: {</span>
<span class="sd">                      &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                    },</span>
<span class="sd">                    &quot;followers&quot;: {</span>
<span class="sd">                      &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;total&quot;: &lt;int&gt;</span>
<span class="sd">                    },</span>
<span class="sd">                    &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;images&quot;: [</span>
<span class="sd">                      {</span>
<span class="sd">                        &quot;url&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;height&quot;: &lt;int&gt;,</span>
<span class="sd">                        &quot;width&quot;: &lt;int&gt;</span>
<span class="sd">                      }</span>
<span class="sd">                    ],</span>
<span class="sd">                    &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;owner&quot;: {</span>
<span class="sd">                      &quot;external_urls&quot;: {</span>
<span class="sd">                        &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                      },</span>
<span class="sd">                      &quot;followers&quot;: {</span>
<span class="sd">                        &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;total&quot;: &lt;int&gt;</span>
<span class="sd">                      },</span>
<span class="sd">                      &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;type&quot;: &quot;user&quot;,</span>
<span class="sd">                      &quot;uri&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;display_name&quot;: &lt;str&gt;</span>
<span class="sd">                    },</span>
<span class="sd">                    &quot;public&quot;: &lt;bool&gt;,</span>
<span class="sd">                    &quot;snapshot_id&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;tracks&quot;: {</span>
<span class="sd">                      &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;limit&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;next&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;offset&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;previous&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;total&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;items&quot;: [</span>
<span class="sd">                        {</span>
<span class="sd">                          &quot;added_at&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;added_by&quot;: {</span>
<span class="sd">                            &quot;external_urls&quot;: {</span>
<span class="sd">                              &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                            },</span>
<span class="sd">                            &quot;followers&quot;: {</span>
<span class="sd">                              &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;total&quot;: &lt;int&gt;</span>
<span class="sd">                            },</span>
<span class="sd">                            &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;type&quot;: &quot;user&quot;,</span>
<span class="sd">                            &quot;uri&quot;: &lt;str&gt;</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;is_local&quot;: &lt;bool&gt;,</span>
<span class="sd">                          &quot;track&quot;: {</span>
<span class="sd">                            &quot;album&quot;: {</span>
<span class="sd">                              &quot;album_type&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;total_tracks&quot;: &lt;int&gt;,</span>
<span class="sd">                              &quot;available_markets&quot;: [&lt;str&gt;],</span>
<span class="sd">                              &quot;external_urls&quot;: {</span>
<span class="sd">                                &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                              },</span>
<span class="sd">                              &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;images&quot;: [</span>
<span class="sd">                                {</span>
<span class="sd">                                  &quot;url&quot;: &lt;str&gt;,</span>
<span class="sd">                                  &quot;height&quot;: &lt;int&gt;,</span>
<span class="sd">                                  &quot;width&quot;: &lt;int&gt;</span>
<span class="sd">                                }</span>
<span class="sd">                              ],</span>
<span class="sd">                              &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;release_date&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;release_date_precision&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;restrictions&quot;: {</span>
<span class="sd">                                &quot;reason&quot;: &lt;str&gt;</span>
<span class="sd">                              },</span>
<span class="sd">                              &quot;type&quot;: &quot;album&quot;,</span>
<span class="sd">                              &quot;uri&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;copyrights&quot;: [</span>
<span class="sd">                                {</span>
<span class="sd">                                  &quot;text&quot;: &lt;str&gt;,</span>
<span class="sd">                                  &quot;type&quot;: &lt;str&gt;</span>
<span class="sd">                                }</span>
<span class="sd">                              ],</span>
<span class="sd">                              &quot;external_ids&quot;: {</span>
<span class="sd">                                &quot;isrc&quot;: &lt;str&gt;,</span>
<span class="sd">                                &quot;ean&quot;: &lt;str&gt;,</span>
<span class="sd">                                &quot;upc&quot;: &lt;str&gt;</span>
<span class="sd">                              },</span>
<span class="sd">                              &quot;genres&quot;: [&lt;str&gt;],</span>
<span class="sd">                              &quot;label&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;popularity&quot;: &lt;int&gt;,</span>
<span class="sd">                              &quot;album_group&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;artists&quot;: [</span>
<span class="sd">                                {</span>
<span class="sd">                                  &quot;external_urls&quot;: {</span>
<span class="sd">                                    &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                                  },</span>
<span class="sd">                                  &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                                  &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                                  &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                                  &quot;type&quot;: &quot;artist&quot;,</span>
<span class="sd">                                  &quot;uri&quot;: &lt;str&gt;</span>
<span class="sd">                                }</span>
<span class="sd">                              ]</span>
<span class="sd">                            },</span>
<span class="sd">                            &quot;artists&quot;: [</span>
<span class="sd">                              {</span>
<span class="sd">                                &quot;external_urls&quot;: {</span>
<span class="sd">                                  &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                                },</span>
<span class="sd">                                &quot;followers&quot;: {</span>
<span class="sd">                                  &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                                  &quot;total&quot;: &lt;int&gt;</span>
<span class="sd">                                },</span>
<span class="sd">                                &quot;genres&quot;: [&lt;str&gt;],</span>
<span class="sd">                                &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                                &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                                &quot;images&quot;: [</span>
<span class="sd">                                  {</span>
<span class="sd">                                    &quot;url&quot;: &lt;str&gt;,</span>
<span class="sd">                                    &quot;height&quot;: &lt;int&gt;,</span>
<span class="sd">                                    &quot;width&quot;: &lt;int&gt;</span>
<span class="sd">                                  }</span>
<span class="sd">                                ],</span>
<span class="sd">                                &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                                &quot;popularity&quot;: &lt;int&gt;,</span>
<span class="sd">                                &quot;type&quot;: &quot;artist&quot;,</span>
<span class="sd">                                &quot;uri&quot;: &lt;str&gt;</span>
<span class="sd">                              }</span>
<span class="sd">                            ],</span>
<span class="sd">                            &quot;available_markets&quot;: [&lt;str&gt;],</span>
<span class="sd">                            &quot;disc_number&quot;: &lt;int&gt;,</span>
<span class="sd">                            &quot;duration_ms&quot;: &lt;int&gt;,</span>
<span class="sd">                            &quot;explicit&quot;: &lt;bool&gt;,</span>
<span class="sd">                            &quot;external_ids&quot;: {</span>
<span class="sd">                              &quot;isrc&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;ean&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;upc&quot;: &lt;str&gt;</span>
<span class="sd">                            },</span>
<span class="sd">                            &quot;external_urls&quot;: {</span>
<span class="sd">                              &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                            },</span>
<span class="sd">                            &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;is_playable&quot;: &lt;bool&gt;</span>
<span class="sd">                            &quot;linked_from&quot;: {</span>
<span class="sd">                            },</span>
<span class="sd">                            &quot;restrictions&quot;: {</span>
<span class="sd">                              &quot;reason&quot;: &lt;str&gt;</span>
<span class="sd">                            },</span>
<span class="sd">                            &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;popularity&quot;: &lt;int&gt;,</span>
<span class="sd">                            &quot;preview_url&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;track_number&quot;: &lt;int&gt;,</span>
<span class="sd">                            &quot;type&quot;: &quot;track&quot;,</span>
<span class="sd">                            &quot;uri&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;is_local&quot;: &lt;bool&gt;</span>
<span class="sd">                          }</span>
<span class="sd">                        }</span>
<span class="sd">                      ]</span>
<span class="sd">                    },</span>
<span class="sd">                    &quot;type&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;uri&quot;: &lt;str&gt;</span>
<span class="sd">                  }</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_json</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/playlists/</span><span class="si">{</span><span class="n">playlist_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">params</span><span class="o">=</span><span class="p">{</span>
                <span class="s2">&quot;additional_types&quot;</span><span class="p">:</span> <span class="n">additional_types</span>
                                    <span class="k">if</span> <span class="n">additional_types</span> <span class="ow">is</span> <span class="kc">None</span>
                                    <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">additional_types</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span>
                                    <span class="k">else</span> <span class="s2">&quot;,&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">additional_types</span><span class="p">),</span>
                <span class="s2">&quot;fields&quot;</span><span class="p">:</span> <span class="n">fields</span> <span class="k">if</span> <span class="n">fields</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">fields</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span>
                          <span class="k">else</span> <span class="s2">&quot;,&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">fields</span><span class="p">),</span>
                <span class="s2">&quot;market&quot;</span><span class="p">:</span> <span class="n">market</span>
            <span class="p">}</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="WebAPI.change_playlist_details">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.change_playlist_details">[docs]</a>
    <span class="k">def</span> <span class="nf">change_playlist_details</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="n">playlist_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">public</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">collaborative</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">description</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Playlists &gt; Change Playlist Details</span>
<span class="sd">        &lt;https://developer.spotify.com/documentation/web-api/reference/</span>
<span class="sd">        change-playlist-details&gt;`_: Change a playlist&#39;s</span>
<span class="sd">        name and public/private state. (The user must, of course, own</span>
<span class="sd">        the playlist.)</span>

<span class="sd">        .. admonition:: Authorization scope</span>
<span class="sd">           :class: warning</span>
<span class="sd">        </span>
<span class="sd">           Requires the :code:`playlist-modify-public` or the </span>
<span class="sd">           :code:`playlist-modify-private` scope.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        playlist_id : `str`</span>
<span class="sd">            The Spotify ID of the playlist.</span>

<span class="sd">            **Example**: :code:`&quot;3cEYpjA9oz9GiPac4AsH4n&quot;`.</span>

<span class="sd">        name : `str`, keyword-only, optional</span>
<span class="sd">            The new name for the playlist.</span>

<span class="sd">            **Example**: :code:`&quot;My New Playlist Title&quot;`.</span>

<span class="sd">        public : `bool`, keyword-only, optional</span>
<span class="sd">            If :code:`True`, the playlist will be public. If</span>
<span class="sd">            :code:`False`, it will be private.</span>

<span class="sd">        collaborative : `bool`, keyword-only, optional</span>
<span class="sd">            If :code:`True`, the playlist will become collaborative and</span>
<span class="sd">            other users will be able to modify the playlist in their</span>
<span class="sd">            Spotify client.</span>

<span class="sd">            .. note::</span>

<span class="sd">               You can only set :code:`collaborative=True` on non-public</span>
<span class="sd">               playlists.</span>
<span class="sd">        </span>
<span class="sd">        description : `str`, keyword-only, optional</span>
<span class="sd">            Value for playlist description as displayed in Spotify</span>
<span class="sd">            clients and in the Web API.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_check_scope</span><span class="p">(</span><span class="s2">&quot;change_playlist_details&quot;</span><span class="p">,</span> 
                          <span class="s2">&quot;playlist-modify-&quot;</span> <span class="o">+</span> 
                          <span class="p">(</span><span class="s2">&quot;public&quot;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_playlist</span><span class="p">(</span><span class="n">playlist_id</span><span class="p">)[</span><span class="s2">&quot;public&quot;</span><span class="p">]</span>
                           <span class="k">else</span> <span class="s2">&quot;private&quot;</span><span class="p">))</span>
        
        <span class="n">json</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="n">name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">json</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">name</span>
        <span class="k">if</span> <span class="n">public</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">json</span><span class="p">[</span><span class="s2">&quot;public&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">public</span>
        <span class="k">if</span> <span class="n">collaborative</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">json</span><span class="p">[</span><span class="s2">&quot;collaborative&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">collaborative</span>
        <span class="k">if</span> <span class="n">description</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">json</span><span class="p">[</span><span class="s2">&quot;description&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">description</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span><span class="s2">&quot;put&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/playlists/</span><span class="si">{</span><span class="n">playlist_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                      <span class="n">json</span><span class="o">=</span><span class="n">json</span><span class="p">)</span></div>


<div class="viewcode-block" id="WebAPI.get_playlist_items">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.get_playlist_items">[docs]</a>
    <span class="k">def</span> <span class="nf">get_playlist_items</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="n">playlist_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span>
            <span class="n">additional_types</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">fields</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">market</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">offset</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Playlists &gt; Get Playlist Items &lt;https://developer.spotify.com/</span>
<span class="sd">        documentation/web-api/reference/</span>
<span class="sd">        get-playlists-tracks&gt;`_: Get full details of the items of a</span>
<span class="sd">        playlist owned by a Spotify user.</span>

<span class="sd">        .. admonition:: Authorization scope</span>
<span class="sd">           :class: warning</span>
<span class="sd">        </span>
<span class="sd">           Requires the :code:`playlist-modify-private` scope.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        playlist_id : `str`</span>
<span class="sd">            The Spotify ID of the playlist.</span>

<span class="sd">            **Example**: :code:`&quot;3cEYpjA9oz9GiPac4AsH4n&quot;`.</span>

<span class="sd">        additional_types : `str` or `list`, keyword-only, optional</span>
<span class="sd">            A (comma-separated) list of item types besides the default</span>
<span class="sd">            track type.</span>

<span class="sd">            .. note::</span>

<span class="sd">               This parameter was introduced to allow existing clients</span>
<span class="sd">               to maintain their current behavior and might be </span>
<span class="sd">               deprecated in the future.</span>
<span class="sd">        </span>
<span class="sd">            **Valid values**: :code:`&quot;track&quot;` and :code:`&quot;episode&quot;`.</span>

<span class="sd">        fields : `str` or `list`, keyword-only, optional</span>
<span class="sd">            Filters for the query: a (comma-separated) list of the</span>
<span class="sd">            fields to return. If omitted, all fields are returned.</span>
<span class="sd">            A dot separator can be used to specify non-reoccurring</span>
<span class="sd">            fields, while parentheses can be used to specify reoccurring</span>
<span class="sd">            fields within objects. Use multiple parentheses to drill</span>
<span class="sd">            down into nested objects. Fields can be excluded by</span>
<span class="sd">            prefixing them with an exclamation mark.</span>
<span class="sd">            </span>
<span class="sd">            .. container::</span>
<span class="sd">            </span>
<span class="sd">               **Examples**: </span>
<span class="sd">            </span>
<span class="sd">               * :code:`&quot;description,uri&quot;` to get just the playlist&#39;s</span>
<span class="sd">                 description and URI,</span>
<span class="sd">               * :code:`&quot;tracks.items(added_at,added_by.id)&quot;` to get just </span>
<span class="sd">                 the added date and user ID of the adder,</span>
<span class="sd">               * :code:`&quot;tracks.items(track(name,href,album(name,href)))&quot;` </span>
<span class="sd">                 to drill down into the album, and</span>
<span class="sd">               * :code:`&quot;tracks.items(track(name,href,album(!name,href)))&quot;`</span>
<span class="sd">                 to exclude the album name.</span>

<span class="sd">        limit : `int`, keyword-only, optional</span>
<span class="sd">            The maximum number of results to return in each item type.</span>
<span class="sd">            </span>
<span class="sd">            **Valid values**: `limit` must be between 0 and 50.</span>

<span class="sd">            **Default**: :code:`20`.</span>

<span class="sd">        market : `str`, keyword-only, optional</span>
<span class="sd">            An ISO 3166-1 alpha-2 country code. If a country code is</span>
<span class="sd">            specified, only content that is available in that market</span>
<span class="sd">            will be returned. If a valid user access token is specified</span>
<span class="sd">            in the request header, the country associated with the user</span>
<span class="sd">            account will take priority over this parameter.</span>

<span class="sd">            .. note::</span>

<span class="sd">               If neither market or user country are provided, the </span>
<span class="sd">               content is considered unavailable for the client.</span>
<span class="sd">            </span>
<span class="sd">            **Example**: :code:`&quot;ES&quot;`.</span>

<span class="sd">        offset : `int`, keyword-only, optional</span>
<span class="sd">            The index of the first result to return. Use with `limit` to</span>
<span class="sd">            get the next page of search results.</span>

<span class="sd">            **Default**: :code:`0`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        items : `dict`</span>
<span class="sd">            A dictionary containing Spotify catalog information for the</span>
<span class="sd">            playlist items and the number of results returned.</span>

<span class="sd">            .. admonition:: Sample response</span>
<span class="sd">               :class: dropdown</span>

<span class="sd">               .. code::</span>

<span class="sd">                  {</span>
<span class="sd">                    &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;limit&quot;: &lt;int&gt;,</span>
<span class="sd">                    &quot;next&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;offset&quot;: &lt;int&gt;,</span>
<span class="sd">                    &quot;previous&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;total&quot;: &lt;int&gt;,</span>
<span class="sd">                    &quot;items&quot;: [</span>
<span class="sd">                      {</span>
<span class="sd">                        &quot;added_at&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;added_by&quot;: {</span>
<span class="sd">                          &quot;external_urls&quot;: {</span>
<span class="sd">                            &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;followers&quot;: {</span>
<span class="sd">                            &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;total&quot;: &lt;int&gt;</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;type&quot;: &quot;user&quot;,</span>
<span class="sd">                          &quot;uri&quot;: &lt;str&gt;</span>
<span class="sd">                        },</span>
<span class="sd">                        &quot;is_local&quot;: &lt;bool&gt;,</span>
<span class="sd">                        &quot;track&quot;: {</span>
<span class="sd">                          &quot;album&quot;: {</span>
<span class="sd">                            &quot;album_type&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;total_tracks&quot;: &lt;int&gt;,</span>
<span class="sd">                            &quot;available_markets&quot;: [&lt;str&gt;],</span>
<span class="sd">                            &quot;external_urls&quot;: {</span>
<span class="sd">                              &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                            },</span>
<span class="sd">                            &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;images&quot;: [</span>
<span class="sd">                              {</span>
<span class="sd">                                &quot;url&quot;: &lt;str&gt;,</span>
<span class="sd">                                &quot;height&quot;: &lt;int&gt;,</span>
<span class="sd">                                &quot;width&quot;: &lt;int&gt;</span>
<span class="sd">                              }</span>
<span class="sd">                            ],</span>
<span class="sd">                            &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;release_date&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;release_date_precision&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;restrictions&quot;: {</span>
<span class="sd">                              &quot;reason&quot;: &lt;str&gt;</span>
<span class="sd">                            },</span>
<span class="sd">                            &quot;type&quot;: &quot;album&quot;,</span>
<span class="sd">                            &quot;uri&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;copyrights&quot;: [</span>
<span class="sd">                              {</span>
<span class="sd">                                &quot;text&quot;: &lt;str&gt;,</span>
<span class="sd">                                &quot;type&quot;: &lt;str&gt;</span>
<span class="sd">                              }</span>
<span class="sd">                            ],</span>
<span class="sd">                            &quot;external_ids&quot;: {</span>
<span class="sd">                              &quot;isrc&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;ean&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;upc&quot;: &lt;str&gt;</span>
<span class="sd">                            },</span>
<span class="sd">                            &quot;genres&quot;: [&lt;str&gt;],</span>
<span class="sd">                            &quot;label&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;popularity&quot;: &lt;int&gt;,</span>
<span class="sd">                            &quot;album_group&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;artists&quot;: [</span>
<span class="sd">                              {</span>
<span class="sd">                                &quot;external_urls&quot;: {</span>
<span class="sd">                                  &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                                },</span>
<span class="sd">                                &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                                &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                                &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                                &quot;type&quot;: &quot;artist&quot;,</span>
<span class="sd">                                &quot;uri&quot;: &lt;str&gt;</span>
<span class="sd">                              }</span>
<span class="sd">                            ]</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;artists&quot;: [</span>
<span class="sd">                            {</span>
<span class="sd">                              &quot;external_urls&quot;: {</span>
<span class="sd">                                &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                              },</span>
<span class="sd">                              &quot;followers&quot;: {</span>
<span class="sd">                                &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                                &quot;total&quot;: &lt;int&gt;</span>
<span class="sd">                              },</span>
<span class="sd">                              &quot;genres&quot;: [&lt;str&gt;],</span>
<span class="sd">                              &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;images&quot;: [</span>
<span class="sd">                                {</span>
<span class="sd">                                  &quot;url&quot;: &lt;str&gt;,</span>
<span class="sd">                                  &quot;height&quot;: &lt;int&gt;,</span>
<span class="sd">                                  &quot;width&quot;: &lt;int&gt;</span>
<span class="sd">                                }</span>
<span class="sd">                              ],</span>
<span class="sd">                              &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;popularity&quot;: &lt;int&gt;,</span>
<span class="sd">                              &quot;type&quot;: &quot;artist&quot;,</span>
<span class="sd">                              &quot;uri&quot;: &lt;str&gt;</span>
<span class="sd">                            }</span>
<span class="sd">                          ],</span>
<span class="sd">                          &quot;available_markets&quot;: [&lt;str&gt;],</span>
<span class="sd">                          &quot;disc_number&quot;: &lt;int&gt;,</span>
<span class="sd">                          &quot;duration_ms&quot;: &lt;int&gt;,</span>
<span class="sd">                          &quot;explicit&quot;: &lt;bool&gt;,</span>
<span class="sd">                          &quot;external_ids&quot;: {</span>
<span class="sd">                            &quot;isrc&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;ean&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;upc&quot;: &lt;str&gt;</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;external_urls&quot;: {</span>
<span class="sd">                            &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;is_playable&quot;: &lt;bool&gt;</span>
<span class="sd">                          &quot;linked_from&quot;: {</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;restrictions&quot;: {</span>
<span class="sd">                            &quot;reason&quot;: &lt;str&gt;</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;popularity&quot;: &lt;int&gt;,</span>
<span class="sd">                          &quot;preview_url&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;track_number&quot;: &lt;int&gt;,</span>
<span class="sd">                          &quot;type&quot;: &quot;track&quot;,</span>
<span class="sd">                          &quot;uri&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;is_local&quot;: &lt;bool&gt;</span>
<span class="sd">                        }</span>
<span class="sd">                      }</span>
<span class="sd">                    ]</span>
<span class="sd">                  }</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_check_scope</span><span class="p">(</span><span class="s2">&quot;get_playlist_item&quot;</span><span class="p">,</span> <span class="s2">&quot;playlist-modify-private&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_json</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/playlists/</span><span class="si">{</span><span class="n">playlist_id</span><span class="si">}</span><span class="s2">/tracks&quot;</span><span class="p">,</span>
            <span class="n">params</span><span class="o">=</span><span class="p">{</span>
                <span class="s2">&quot;additional_types&quot;</span><span class="p">:</span> <span class="n">additional_types</span>
                                    <span class="k">if</span> <span class="n">additional_types</span> <span class="ow">is</span> <span class="kc">None</span>
                                    <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">additional_types</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span>
                                    <span class="k">else</span> <span class="s2">&quot;,&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">additional_types</span><span class="p">),</span>
                <span class="s2">&quot;fields&quot;</span><span class="p">:</span> <span class="n">fields</span> <span class="k">if</span> <span class="n">fields</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">fields</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span>
                          <span class="k">else</span> <span class="s2">&quot;,&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">fields</span><span class="p">),</span>
                <span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="n">limit</span><span class="p">,</span>
                <span class="s2">&quot;market&quot;</span><span class="p">:</span> <span class="n">market</span><span class="p">,</span>
                <span class="s2">&quot;offset&quot;</span><span class="p">:</span> <span class="n">offset</span>
            <span class="p">}</span>
        <span class="p">)</span></div>

    
<div class="viewcode-block" id="WebAPI.add_playlist_items">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.add_playlist_items">[docs]</a>
    <span class="k">def</span> <span class="nf">add_playlist_items</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="n">playlist_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">uris</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]],</span> <span class="o">*</span><span class="p">,</span>
            <span class="n">position</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Playlists &gt; Add Items to Playlist</span>
<span class="sd">        &lt;https://developer.spotify.com/documentation/web-api/reference/</span>
<span class="sd">        add-tracks-to-playlist&gt;`_: Add one or more items to</span>
<span class="sd">        a user&#39;s playlist.</span>

<span class="sd">        .. admonition:: Authorization scope</span>
<span class="sd">           :class: warning</span>
<span class="sd">        </span>
<span class="sd">           Requires the :code:`playlist-modify-public` or the </span>
<span class="sd">           :code:`playlist-modify-private` scope.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        playlist_id : `str`</span>
<span class="sd">            The Spotify ID of the playlist.</span>

<span class="sd">            **Example**: :code:`&quot;3cEYpjA9oz9GiPac4AsH4n&quot;`.</span>

<span class="sd">        uris : `str` or `list`, keyword-only, optional</span>
<span class="sd">            A (comma-separated) list of Spotify URIs to add; can be</span>
<span class="sd">            track or episode URIs. A maximum of 100 items can be added</span>
<span class="sd">            in one request.</span>

<span class="sd">            .. note::</span>

<span class="sd">               It is likely that passing a large number of item URIs as</span>
<span class="sd">               a query parameter will exceed the maximum length of the</span>
<span class="sd">               request URI. When adding a large number of items, it is </span>
<span class="sd">               recommended to pass them in the request body (as a </span>
<span class="sd">               `list`).</span>

<span class="sd">            **Example**: :code:`&quot;spotify:track:4iV5W9uYEdYUVa79Axb7Rh,</span>
<span class="sd">            spotify:track:1301WleyT98MSxVHPZCA6M,</span>
<span class="sd">            spotify:episode:512ojhOuo1ktJprKbVcKyQ&quot;`.</span>

<span class="sd">        position : `int`, keyword-only, optional</span>
<span class="sd">            The position to insert the items, a zero-based index. If</span>
<span class="sd">            omitted, the items will be appended to the playlist. Items</span>
<span class="sd">            are added in the order they are listed in the query string</span>
<span class="sd">            or request body.</span>

<span class="sd">            .. container::</span>
<span class="sd">            </span>
<span class="sd">               **Examples**: </span>
<span class="sd">            </span>
<span class="sd">               * :code:`0` to insert the items in the first position.</span>
<span class="sd">               * :code:`2` to insert the items in the third position.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        snapshot_id : `str`</span>
<span class="sd">            The updated playlist&#39;s snapshot ID.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_check_scope</span><span class="p">(</span><span class="s2">&quot;add_playlist_details&quot;</span><span class="p">,</span> 
                          <span class="s2">&quot;playlist-modify-&quot;</span> <span class="o">+</span> 
                          <span class="p">(</span><span class="s2">&quot;public&quot;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_playlist</span><span class="p">(</span><span class="n">playlist_id</span><span class="p">)[</span><span class="s2">&quot;public&quot;</span><span class="p">]</span>
                           <span class="k">else</span> <span class="s2">&quot;private&quot;</span><span class="p">))</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">uris</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">url</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/playlists/</span><span class="si">{</span><span class="n">playlist_id</span><span class="si">}</span><span class="s2">/tracks?</span><span class="si">{</span><span class="n">uris</span><span class="si">=}</span><span class="s2">&quot;</span>
            <span class="k">if</span> <span class="n">position</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">url</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">position</span><span class="si">=}</span><span class="s2">&quot;</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span><span class="s2">&quot;post&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">)</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s2">&quot;snapshot_id&quot;</span><span class="p">]</span>
        
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">uris</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="n">json</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;uris&quot;</span><span class="p">:</span> <span class="n">uris</span><span class="p">}</span>
            <span class="k">if</span> <span class="n">position</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">json</span><span class="p">[</span><span class="s2">&quot;position&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">position</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span><span class="s2">&quot;post&quot;</span><span class="p">,</span>
                          <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/playlists/</span><span class="si">{</span><span class="n">playlist_id</span><span class="si">}</span><span class="s2">/tracks&quot;</span><span class="p">,</span>
                          <span class="n">json</span><span class="o">=</span><span class="n">json</span><span class="p">)</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s2">&quot;snapshot_id&quot;</span><span class="p">]</span></div>

    
<div class="viewcode-block" id="WebAPI.update_playlist_items">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.update_playlist_items">[docs]</a>
    <span class="k">def</span> <span class="nf">update_playlist_items</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="n">playlist_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">uris</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">range_start</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">insert_before</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">range_length</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">snapshot_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Playlists &gt; Update Playlist Items </span>
<span class="sd">        &lt;https://developer.spotify.com/documentation/web-api/reference/</span>
<span class="sd">        reorder-or-replace-playlists-tracks&gt;`_: Either reorder or </span>
<span class="sd">        replace items in a playlist depending on the request&#39;s </span>
<span class="sd">        parameters.</span>
<span class="sd">        </span>
<span class="sd">        To reorder items, include `range_start`, `insert_before`, </span>
<span class="sd">        `range_length`, and `snapshot_id` as keyword arguments. To</span>
<span class="sd">        replace items, include `uris` as a keyword argument. Replacing</span>
<span class="sd">        items in a playlist will overwrite its existing items. This</span>
<span class="sd">        operation can be used for replacing or clearing items in a</span>
<span class="sd">        playlist.</span>

<span class="sd">        .. note::</span>

<span class="sd">           Replace and reorder are mutually exclusive operations which </span>
<span class="sd">           share the same endpoint, but have different parameters. These</span>
<span class="sd">           operations can&#39;t be applied together in a single request.</span>

<span class="sd">        .. admonition:: Authorization scope</span>
<span class="sd">           :class: warning</span>
<span class="sd">        </span>
<span class="sd">           Requires the :code:`playlist-modify-public` or the </span>
<span class="sd">           :code:`playlist-modify-private` scope.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        playlist_id : `str`</span>
<span class="sd">            The Spotify ID of the playlist.</span>

<span class="sd">            **Example**: :code:`&quot;3cEYpjA9oz9GiPac4AsH4n&quot;`.</span>

<span class="sd">        uris : `str` or `list`, keyword-only, optional</span>
<span class="sd">            A (comma-separated) list of Spotify URIs to add; can be</span>
<span class="sd">            track or episode URIs. A maximum of 100 items can be added</span>
<span class="sd">            in one request.</span>

<span class="sd">            .. note::</span>

<span class="sd">               It is likely that passing a large number of item URIs as</span>
<span class="sd">               a query parameter will exceed the maximum length of the</span>
<span class="sd">               request URI. When adding a large number of items, it is</span>
<span class="sd">               recommended to pass them in the request body (as a </span>
<span class="sd">               `list`).</span>

<span class="sd">            **Example**: :code:`&quot;spotify:track:4iV5W9uYEdYUVa79Axb7Rh,</span>
<span class="sd">            spotify:track:1301WleyT98MSxVHPZCA6M,</span>
<span class="sd">            spotify:episode:512ojhOuo1ktJprKbVcKyQ&quot;`.</span>

<span class="sd">        range_start : `int`, keyword-only, optional</span>
<span class="sd">            The position of the first item to be reordered.</span>

<span class="sd">        insert_before : `int`, keyword-only, optional</span>
<span class="sd">            The position where the items should be inserted. To reorder</span>
<span class="sd">            the items to the end of the playlist, simply set</span>
<span class="sd">            `insert_before` to the position after the last item.</span>

<span class="sd">            .. container::</span>

<span class="sd">               **Examples**: </span>
<span class="sd">            </span>
<span class="sd">               * :code:`range_start=0, insert_before=10` to reorder the </span>
<span class="sd">                 first item to the last position in a playlist with 10 </span>
<span class="sd">                 items, and</span>
<span class="sd">               * :code:`range_start=9, insert_before=0` to reorder the </span>
<span class="sd">                 last item in a playlist with 10 items to the start of</span>
<span class="sd">                 the playlist.</span>

<span class="sd">        range_length : `int`, keyword-only, default: :code:`1`</span>
<span class="sd">            The amount of items to be reordered. The range of items to</span>
<span class="sd">            be reordered begins from the `range_start` position, and</span>
<span class="sd">            includes the `range_length` subsequent items.</span>

<span class="sd">            **Example**: :code:`range_start=9, range_length=2` to move</span>
<span class="sd">            the items at indices 910 to the start of the playlist.</span>
<span class="sd">        </span>
<span class="sd">        snapshot_id : `str`, keyword-only, optional</span>
<span class="sd">            The playlist&#39;s snapshot ID against which you want to make</span>
<span class="sd">            the changes.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        snapshot_id : `str`</span>
<span class="sd">            The updated playlist&#39;s snapshot ID.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_check_scope</span><span class="p">(</span><span class="s2">&quot;update_playlist_details&quot;</span><span class="p">,</span> 
                          <span class="s2">&quot;playlist-modify-&quot;</span> <span class="o">+</span> 
                          <span class="p">(</span><span class="s2">&quot;public&quot;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_playlist</span><span class="p">(</span><span class="n">playlist_id</span><span class="p">)[</span><span class="s2">&quot;public&quot;</span><span class="p">]</span>
                           <span class="k">else</span> <span class="s2">&quot;private&quot;</span><span class="p">))</span>

        <span class="n">json</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="n">snapshot_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">json</span><span class="p">[</span><span class="s2">&quot;snapshot_id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">snapshot_id</span>

        <span class="k">if</span> <span class="n">uris</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">range_start</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">json</span><span class="p">[</span><span class="s2">&quot;range_start&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">range_start</span>
            <span class="k">if</span> <span class="n">insert_before</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">json</span><span class="p">[</span><span class="s2">&quot;insert_before&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">insert_before</span>
            <span class="k">if</span> <span class="n">range_length</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">json</span><span class="p">[</span><span class="s2">&quot;range_length&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">range_length</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span>
                <span class="s2">&quot;put&quot;</span><span class="p">,</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/playlists/</span><span class="si">{</span><span class="n">playlist_id</span><span class="si">}</span><span class="s2">/tracks&quot;</span><span class="p">,</span>
                <span class="n">json</span><span class="o">=</span><span class="n">json</span>
            <span class="p">)</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s2">&quot;snapshot_id&quot;</span><span class="p">]</span>
        
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">uris</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span>
                <span class="s2">&quot;put&quot;</span><span class="p">,</span> 
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/playlists/</span><span class="si">{</span><span class="n">playlist_id</span><span class="si">}</span><span class="s2">/tracks?uris=</span><span class="si">{</span><span class="n">uris</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                <span class="n">json</span><span class="o">=</span><span class="n">json</span>
            <span class="p">)</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s2">&quot;snapshot_id&quot;</span><span class="p">]</span>
        
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">uris</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span>
                <span class="s2">&quot;put&quot;</span><span class="p">,</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/playlists/</span><span class="si">{</span><span class="n">playlist_id</span><span class="si">}</span><span class="s2">/tracks&quot;</span><span class="p">,</span>
                <span class="n">json</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;uris&quot;</span><span class="p">:</span> <span class="n">uris</span><span class="p">}</span> <span class="o">|</span> <span class="n">json</span>
            <span class="p">)</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s2">&quot;snapshot_id&quot;</span><span class="p">]</span></div>


<div class="viewcode-block" id="WebAPI.remove_playlist_items">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.remove_playlist_items">[docs]</a>
    <span class="k">def</span> <span class="nf">remove_playlist_items</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="n">playlist_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">tracks</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="o">*</span><span class="p">,</span> 
            <span class="n">snapshot_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Playlists &gt; Remove Playlist Items </span>
<span class="sd">        &lt;https://developer.spotify.com/documentation/web-api/reference/</span>
<span class="sd">        remove-tracks-playlist&gt;`_: Remove one or more items from a </span>
<span class="sd">        user&#39;s playlist.</span>

<span class="sd">        .. admonition:: Authorization scope</span>
<span class="sd">           :class: warning</span>
<span class="sd">        </span>
<span class="sd">           Requires the :code:`playlist-modify-public` or the </span>
<span class="sd">           :code:`playlist-modify-private` scope.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        playlist_id : `str`</span>
<span class="sd">            The Spotify ID of the playlist.</span>

<span class="sd">            **Example**: :code:`&quot;3cEYpjA9oz9GiPac4AsH4n&quot;`.</span>

<span class="sd">        tracks : `list`</span>
<span class="sd">            A (comma-separated) list containing Spotify URIs of the</span>
<span class="sd">            tracks or episodes to remove. </span>
<span class="sd">            </span>
<span class="sd">            **Maximum**: 100 items can be added in one request.</span>

<span class="sd">            **Example**: :code:`&quot;spotify:track:4iV5W9uYEdYUVa79Axb7Rh,</span>
<span class="sd">            spotify:track:1301WleyT98MSxVHPZCA6M,</span>
<span class="sd">            spotify:episode:512ojhOuo1ktJprKbVcKyQ&quot;`.</span>

<span class="sd">        snapshot_id : `str`, keyword-only, optional</span>
<span class="sd">            The playlist&#39;s snapshot ID against which you want to make</span>
<span class="sd">            the changes. The API will validate that the specified items</span>
<span class="sd">            exist and in the specified positions and make the changes,</span>
<span class="sd">            even if more recent changes have been made to the playlist.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        snapshot_id : `str`</span>
<span class="sd">            The updated playlist&#39;s snapshot ID.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_check_scope</span><span class="p">(</span><span class="s2">&quot;remove_playlist_items&quot;</span><span class="p">,</span> 
                          <span class="s2">&quot;playlist-modify-&quot;</span> <span class="o">+</span> 
                          <span class="p">(</span><span class="s2">&quot;public&quot;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_playlist</span><span class="p">(</span><span class="n">playlist_id</span><span class="p">)[</span><span class="s2">&quot;public&quot;</span><span class="p">]</span>
                           <span class="k">else</span> <span class="s2">&quot;private&quot;</span><span class="p">))</span>

        <span class="n">json</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;tracks&quot;</span><span class="p">:</span> <span class="n">tracks</span><span class="p">}</span>
        <span class="k">if</span> <span class="n">snapshot_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">json</span><span class="p">[</span><span class="s2">&quot;snapshot_id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">snapshot_id</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span><span class="s2">&quot;delete&quot;</span><span class="p">,</span>
                             <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/playlists/</span><span class="si">{</span><span class="n">playlist_id</span><span class="si">}</span><span class="s2">/tracks&quot;</span><span class="p">,</span>
                             <span class="n">json</span><span class="o">=</span><span class="n">json</span><span class="p">)</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s2">&quot;snapshot_id&quot;</span><span class="p">]</span></div>

    
<div class="viewcode-block" id="WebAPI.get_playlists">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.get_playlists">[docs]</a>
    <span class="k">def</span> <span class="nf">get_playlists</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">offset</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Playlist &gt; Get Current User&#39;s Playlists </span>
<span class="sd">        &lt;https://developer.spotify.com/documentation/web-api/reference/</span>
<span class="sd">        get-a-list-of-current-users-playlists&gt;`_: Get a list of the</span>
<span class="sd">        playlists owned or followed by the current Spotify user.</span>

<span class="sd">        .. admonition:: Authorization scope</span>
<span class="sd">           :class: warning</span>
<span class="sd">        </span>
<span class="sd">           Requires the :code:`playlist-read-private` and the</span>
<span class="sd">           :code:`playlist-read-collaborative` scopes.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        limit : `int`, keyword-only, optional</span>
<span class="sd">            The maximum number of results to return in each item type.</span>
<span class="sd">            </span>
<span class="sd">            **Valid values**: `limit` must be between 0 and 50.</span>

<span class="sd">            **Default**: :code:`20`.</span>

<span class="sd">        offset : `int`, keyword-only, optional</span>
<span class="sd">            The index of the first result to return. Use with `limit` to</span>
<span class="sd">            get the next page of search results.</span>

<span class="sd">            **Default**: :code:`0`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        playlists : `dict`</span>
<span class="sd">            A dictionary containing the current user&#39;s playlists and the</span>
<span class="sd">            number of results returned.</span>

<span class="sd">            .. admonition:: Sample response</span>
<span class="sd">               :class: dropdown</span>

<span class="sd">               .. code::</span>

<span class="sd">                  {</span>
<span class="sd">                    &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;limit&quot;: &lt;int&gt;,</span>
<span class="sd">                    &quot;next&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;offset&quot;: &lt;int&gt;,</span>
<span class="sd">                    &quot;previous&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;total&quot;: &lt;int&gt;,</span>
<span class="sd">                    &quot;items&quot;: [</span>
<span class="sd">                      {</span>
<span class="sd">                        &quot;collaborative&quot;: &lt;bool&gt;,</span>
<span class="sd">                        &quot;description&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;external_urls&quot;: {</span>
<span class="sd">                          &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                        },</span>
<span class="sd">                        &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;images&quot;: [</span>
<span class="sd">                          {</span>
<span class="sd">                            &quot;url&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;height&quot;: &lt;int&gt;,</span>
<span class="sd">                            &quot;width&quot;: &lt;int&gt;</span>
<span class="sd">                          }</span>
<span class="sd">                        ],</span>
<span class="sd">                        &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;owner&quot;: {</span>
<span class="sd">                          &quot;external_urls&quot;: {</span>
<span class="sd">                            &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;followers&quot;: {</span>
<span class="sd">                            &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;total&quot;: &lt;int&gt;</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;type&quot;: &quot;user&quot;,</span>
<span class="sd">                          &quot;uri&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;display_name&quot;: &lt;str&gt;</span>
<span class="sd">                        },</span>
<span class="sd">                        &quot;public&quot;: &lt;bool&gt;,</span>
<span class="sd">                        &quot;snapshot_id&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;tracks&quot;: {</span>
<span class="sd">                          &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;total&quot;: &lt;int&gt;</span>
<span class="sd">                        },</span>
<span class="sd">                        &quot;type&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;uri&quot;: &lt;str&gt;</span>
<span class="sd">                      }</span>
<span class="sd">                    ]</span>
<span class="sd">                  }</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_check_scope</span><span class="p">(</span><span class="s2">&quot;get_current_user_playlists&quot;</span><span class="p">,</span>
                          <span class="s2">&quot;playlist-read-private&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_check_scope</span><span class="p">(</span><span class="s2">&quot;get_current_user_playlists&quot;</span><span class="p">,</span>
                          <span class="s2">&quot;playlist-read-collaborative&quot;</span><span class="p">)</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_json</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/me/playlists&quot;</span><span class="p">,</span>
                              <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="n">limit</span><span class="p">,</span> <span class="s2">&quot;offset&quot;</span><span class="p">:</span> <span class="n">offset</span><span class="p">})</span></div>

    
<div class="viewcode-block" id="WebAPI.get_user_playlists">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.get_user_playlists">[docs]</a>
    <span class="k">def</span> <span class="nf">get_user_playlists</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="n">user_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">offset</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Playlist &gt; Get User&#39;s Playlists </span>
<span class="sd">        &lt;https://developer.spotify.com/documentation/web-api/reference/</span>
<span class="sd">        get-list-users-playlists&gt;`_: Get a list of the playlists owned</span>
<span class="sd">        or followed by a Spotify user.</span>

<span class="sd">        .. admonition:: Authorization scope</span>
<span class="sd">           :class: warning</span>
<span class="sd">        </span>
<span class="sd">           Requires the :code:`playlist-read-private` and the</span>
<span class="sd">           :code:`playlist-read-collaborative` scopes.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        user_id : `str`</span>
<span class="sd">            The user&#39;s Spotify user ID.</span>

<span class="sd">            **Example**: :code:`&quot;smedjan&quot;`.</span>

<span class="sd">        limit : `int`, keyword-only, optional</span>
<span class="sd">            The maximum number of results to return in each item type.</span>
<span class="sd">            </span>
<span class="sd">            **Valid values**: `limit` must be between 0 and 50.</span>

<span class="sd">            **Default**: :code:`20`.</span>

<span class="sd">        offset : `int`, keyword-only, optional</span>
<span class="sd">            The index of the first result to return. Use with `limit` to</span>
<span class="sd">            get the next page of search results.</span>

<span class="sd">            **Default**: :code:`0`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        playlists : `dict`</span>
<span class="sd">            A dictionary containing the user&#39;s playlists and the number</span>
<span class="sd">            of results returned.</span>

<span class="sd">            .. admonition:: Sample response</span>
<span class="sd">               :class: dropdown</span>

<span class="sd">               .. code::</span>

<span class="sd">                  {</span>
<span class="sd">                    &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;limit&quot;: &lt;int&gt;,</span>
<span class="sd">                    &quot;next&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;offset&quot;: &lt;int&gt;,</span>
<span class="sd">                    &quot;previous&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;total&quot;: &lt;int&gt;,</span>
<span class="sd">                    &quot;items&quot;: [</span>
<span class="sd">                      {</span>
<span class="sd">                        &quot;collaborative&quot;: &lt;bool&gt;,</span>
<span class="sd">                        &quot;description&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;external_urls&quot;: {</span>
<span class="sd">                          &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                        },</span>
<span class="sd">                        &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;images&quot;: [</span>
<span class="sd">                          {</span>
<span class="sd">                            &quot;url&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;height&quot;: &lt;int&gt;,</span>
<span class="sd">                            &quot;width&quot;: &lt;int&gt;</span>
<span class="sd">                          }</span>
<span class="sd">                        ],</span>
<span class="sd">                        &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;owner&quot;: {</span>
<span class="sd">                          &quot;external_urls&quot;: {</span>
<span class="sd">                            &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;followers&quot;: {</span>
<span class="sd">                            &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;total&quot;: &lt;int&gt;</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;type&quot;: &quot;user&quot;,</span>
<span class="sd">                          &quot;uri&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;display_name&quot;: &lt;str&gt;</span>
<span class="sd">                        },</span>
<span class="sd">                        &quot;public&quot;: &lt;bool&gt;,</span>
<span class="sd">                        &quot;snapshot_id&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;tracks&quot;: {</span>
<span class="sd">                          &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;total&quot;: &lt;int&gt;</span>
<span class="sd">                        },</span>
<span class="sd">                        &quot;type&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;uri&quot;: &lt;str&gt;</span>
<span class="sd">                      }</span>
<span class="sd">                    ]</span>
<span class="sd">                  }</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_check_scope</span><span class="p">(</span><span class="s2">&quot;get_user_playlists&quot;</span><span class="p">,</span> <span class="s2">&quot;playlist-read-private&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_check_scope</span><span class="p">(</span><span class="s2">&quot;get_user_playlists&quot;</span><span class="p">,</span> <span class="s2">&quot;playlist-read-collaborative&quot;</span><span class="p">)</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_json</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/users/</span><span class="si">{</span><span class="n">user_id</span><span class="si">}</span><span class="s2">/playlists&quot;</span><span class="p">,</span>
                              <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="n">limit</span><span class="p">,</span> <span class="s2">&quot;offset&quot;</span><span class="p">:</span> <span class="n">offset</span><span class="p">})</span></div>

    
<div class="viewcode-block" id="WebAPI.create_playlist">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.create_playlist">[docs]</a>
    <span class="k">def</span> <span class="nf">create_playlist</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">public</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">collaborative</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">description</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Playlists &gt; Create Playlist &lt;https://developer.spotify.com/</span>
<span class="sd">        documentation/web-api/reference/create-playlist&gt;`_: Create a</span>
<span class="sd">        playlist for a Spotify user. (The playlist will be empty until</span>
<span class="sd">        you add tracks.)</span>

<span class="sd">        .. admonition:: Authorization scope</span>
<span class="sd">           :class: warning</span>
<span class="sd">        </span>
<span class="sd">           Requires the :code:`playlist-modify-public` or the</span>
<span class="sd">           :code:`playlist-modify-private` scope.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        name : `str`</span>
<span class="sd">            The name for the new playlist. This name does not need to be</span>
<span class="sd">            unique; a user may have several playlists with the same</span>
<span class="sd">            name.</span>

<span class="sd">            **Example**: :code:`&quot;Your Coolest Playlist&quot;`. </span>

<span class="sd">        public : `bool`, keyword-only, default: `True`</span>
<span class="sd">            If :code:`True`, the playlist will be public; if</span>
<span class="sd">            :code:`False`, it will be private. </span>
<span class="sd">            </span>
<span class="sd">            .. note::</span>
<span class="sd">            </span>
<span class="sd">               To be able to create private playlists, the user must </span>
<span class="sd">               have granted the :code:`playlist-modify-private` scope.</span>

<span class="sd">        collaborative : `bool`, keyword-only, optional</span>
<span class="sd">            If :code:`True`, the playlist will be collaborative. </span>
<span class="sd">            </span>
<span class="sd">            .. note::</span>

<span class="sd">               To create a collaborative playlist, you must also set</span>
<span class="sd">               `public` to :code:`False`. To create collaborative </span>
<span class="sd">               playlists, you must have granted the</span>
<span class="sd">               :code:`playlist-modify-private` and </span>
<span class="sd">               :code:`playlist-modify-public` scopes.</span>

<span class="sd">            **Default**: :code:`False`.</span>

<span class="sd">        description : `str`, keyword-only, optional</span>
<span class="sd">            The playlist description, as displayed in Spotify Clients</span>
<span class="sd">            and in the Web API.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        playlist : `dict`</span>
<span class="sd">            Spotify catalog information for the newly created playlist.</span>

<span class="sd">            .. admonition:: Sample response</span>
<span class="sd">               :class: dropdown</span>

<span class="sd">               .. code::</span>

<span class="sd">                  {</span>
<span class="sd">                    &quot;collaborative&quot;: &lt;bool&gt;,</span>
<span class="sd">                    &quot;description&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;external_urls&quot;: {</span>
<span class="sd">                      &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                    },</span>
<span class="sd">                    &quot;followers&quot;: {</span>
<span class="sd">                      &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;total&quot;: &lt;int&gt;</span>
<span class="sd">                    },</span>
<span class="sd">                    &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;images&quot;: [</span>
<span class="sd">                      {</span>
<span class="sd">                        &quot;url&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;height&quot;: &lt;int&gt;,</span>
<span class="sd">                        &quot;width&quot;: &lt;int&gt;</span>
<span class="sd">                      }</span>
<span class="sd">                    ],</span>
<span class="sd">                    &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;owner&quot;: {</span>
<span class="sd">                      &quot;external_urls&quot;: {</span>
<span class="sd">                        &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                      },</span>
<span class="sd">                      &quot;followers&quot;: {</span>
<span class="sd">                        &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;total&quot;: &lt;int&gt;</span>
<span class="sd">                      },</span>
<span class="sd">                      &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;type&quot;: &quot;user&quot;,</span>
<span class="sd">                      &quot;uri&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;display_name&quot;: &lt;str&gt;</span>
<span class="sd">                    },</span>
<span class="sd">                    &quot;public&quot;: &lt;bool&gt;,</span>
<span class="sd">                    &quot;snapshot_id&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;tracks&quot;: {</span>
<span class="sd">                      &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;limit&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;next&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;offset&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;previous&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;total&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;items&quot;: [</span>
<span class="sd">                        {</span>
<span class="sd">                          &quot;added_at&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;added_by&quot;: {</span>
<span class="sd">                            &quot;external_urls&quot;: {</span>
<span class="sd">                              &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                            },</span>
<span class="sd">                            &quot;followers&quot;: {</span>
<span class="sd">                              &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;total&quot;: &lt;int&gt;</span>
<span class="sd">                            },</span>
<span class="sd">                            &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;type&quot;: &quot;user&quot;,</span>
<span class="sd">                            &quot;uri&quot;: &lt;str&gt;</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;is_local&quot;: &lt;bool&gt;,</span>
<span class="sd">                          &quot;track&quot;: {</span>
<span class="sd">                            &quot;album&quot;: {</span>
<span class="sd">                              &quot;album_type&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;total_tracks&quot;: &lt;int&gt;,</span>
<span class="sd">                              &quot;available_markets&quot;: [&lt;str&gt;],</span>
<span class="sd">                              &quot;external_urls&quot;: {</span>
<span class="sd">                                &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                              },</span>
<span class="sd">                              &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;images&quot;: [</span>
<span class="sd">                                {</span>
<span class="sd">                                  &quot;url&quot;: &lt;str&gt;,</span>
<span class="sd">                                  &quot;height&quot;: &lt;int&gt;,</span>
<span class="sd">                                  &quot;width&quot;: &lt;int&gt;</span>
<span class="sd">                                }</span>
<span class="sd">                              ],</span>
<span class="sd">                              &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;release_date&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;release_date_precision&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;restrictions&quot;: {</span>
<span class="sd">                                &quot;reason&quot;: &lt;str&gt;</span>
<span class="sd">                              },</span>
<span class="sd">                              &quot;type&quot;: &quot;album&quot;,</span>
<span class="sd">                              &quot;uri&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;copyrights&quot;: [</span>
<span class="sd">                                {</span>
<span class="sd">                                  &quot;text&quot;: &lt;str&gt;,</span>
<span class="sd">                                  &quot;type&quot;: &lt;str&gt;</span>
<span class="sd">                                }</span>
<span class="sd">                              ],</span>
<span class="sd">                              &quot;external_ids&quot;: {</span>
<span class="sd">                                &quot;isrc&quot;: &lt;str&gt;,</span>
<span class="sd">                                &quot;ean&quot;: &lt;str&gt;,</span>
<span class="sd">                                &quot;upc&quot;: &lt;str&gt;</span>
<span class="sd">                              },</span>
<span class="sd">                              &quot;genres&quot;: [&lt;str&gt;],</span>
<span class="sd">                              &quot;label&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;popularity&quot;: &lt;int&gt;,</span>
<span class="sd">                              &quot;album_group&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;artists&quot;: [</span>
<span class="sd">                                {</span>
<span class="sd">                                  &quot;external_urls&quot;: {</span>
<span class="sd">                                    &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                                  },</span>
<span class="sd">                                  &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                                  &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                                  &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                                  &quot;type&quot;: &quot;artist&quot;,</span>
<span class="sd">                                  &quot;uri&quot;: &lt;str&gt;</span>
<span class="sd">                                }</span>
<span class="sd">                              ]</span>
<span class="sd">                            },</span>
<span class="sd">                            &quot;artists&quot;: [</span>
<span class="sd">                              {</span>
<span class="sd">                                &quot;external_urls&quot;: {</span>
<span class="sd">                                  &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                                },</span>
<span class="sd">                                &quot;followers&quot;: {</span>
<span class="sd">                                  &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                                  &quot;total&quot;: &lt;int&gt;</span>
<span class="sd">                                },</span>
<span class="sd">                                &quot;genres&quot;: [&lt;str&gt;],</span>
<span class="sd">                                &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                                &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                                &quot;images&quot;: [</span>
<span class="sd">                                  {</span>
<span class="sd">                                    &quot;url&quot;: &lt;str&gt;,</span>
<span class="sd">                                    &quot;height&quot;: &lt;int&gt;,</span>
<span class="sd">                                    &quot;width&quot;: &lt;int&gt;</span>
<span class="sd">                                  }</span>
<span class="sd">                                ],</span>
<span class="sd">                                &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                                &quot;popularity&quot;: &lt;int&gt;,</span>
<span class="sd">                                &quot;type&quot;: &quot;artist&quot;,</span>
<span class="sd">                                &quot;uri&quot;: &lt;str&gt;</span>
<span class="sd">                              }</span>
<span class="sd">                            ],</span>
<span class="sd">                            &quot;available_markets&quot;: [&lt;str&gt;],</span>
<span class="sd">                            &quot;disc_number&quot;: &lt;int&gt;,</span>
<span class="sd">                            &quot;duration_ms&quot;: &lt;int&gt;,</span>
<span class="sd">                            &quot;explicit&quot;: &lt;bool&gt;,</span>
<span class="sd">                            &quot;external_ids&quot;: {</span>
<span class="sd">                              &quot;isrc&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;ean&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;upc&quot;: &lt;str&gt;</span>
<span class="sd">                            },</span>
<span class="sd">                            &quot;external_urls&quot;: {</span>
<span class="sd">                              &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                            },</span>
<span class="sd">                            &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;is_playable&quot;: &lt;bool&gt;</span>
<span class="sd">                            &quot;linked_from&quot;: {</span>
<span class="sd">                            },</span>
<span class="sd">                            &quot;restrictions&quot;: {</span>
<span class="sd">                              &quot;reason&quot;: &lt;str&gt;</span>
<span class="sd">                            },</span>
<span class="sd">                            &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;popularity&quot;: &lt;int&gt;,</span>
<span class="sd">                            &quot;preview_url&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;track_number&quot;: &lt;int&gt;,</span>
<span class="sd">                            &quot;type&quot;: &quot;track&quot;,</span>
<span class="sd">                            &quot;uri&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;is_local&quot;: &lt;bool&gt;</span>
<span class="sd">                          }</span>
<span class="sd">                        }</span>
<span class="sd">                      ]</span>
<span class="sd">                    },</span>
<span class="sd">                    &quot;type&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;uri&quot;: &lt;str&gt;</span>
<span class="sd">                  }</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_check_scope</span><span class="p">(</span>
            <span class="s2">&quot;create_playlist&quot;</span><span class="p">,</span> 
            <span class="s2">&quot;playlist-modify-&quot;</span> <span class="o">+</span> <span class="p">(</span><span class="s2">&quot;public&quot;</span> <span class="k">if</span> <span class="n">public</span> <span class="k">else</span> <span class="s2">&quot;private&quot;</span><span class="p">)</span>
        <span class="p">)</span>

        <span class="n">json</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">name</span><span class="p">,</span> <span class="s2">&quot;public&quot;</span><span class="p">:</span> <span class="n">public</span><span class="p">}</span>
        <span class="k">if</span> <span class="n">collaborative</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">json</span><span class="p">[</span><span class="s2">&quot;collaborative&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">collaborative</span>
        <span class="k">if</span> <span class="n">description</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">json</span><span class="p">[</span><span class="s2">&quot;description&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">description</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span><span class="s2">&quot;post&quot;</span><span class="p">,</span>
                             <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/users/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_user_id</span><span class="si">}</span><span class="s2">/playlists&quot;</span><span class="p">,</span>
                             <span class="n">json</span><span class="o">=</span><span class="n">json</span><span class="p">)</span><span class="o">.</span><span class="n">json</span><span class="p">()</span></div>


<div class="viewcode-block" id="WebAPI.get_featured_playlists">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.get_featured_playlists">[docs]</a>
    <span class="k">def</span> <span class="nf">get_featured_playlists</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">country</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">locale</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> 
            <span class="n">timestamp</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">offset</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Playlists &gt; Get Featured Playlists</span>
<span class="sd">        &lt;https://developer.spotify.com/documentation/web-api/reference/</span>
<span class="sd">        get-featured-playlists&gt;`_: Get a list of Spotify featured </span>
<span class="sd">        playlists (shown, for example, on a Spotify player&#39;s &#39;Browse&#39; </span>
<span class="sd">        tab).</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        country : `str`, keyword-only, optional</span>
<span class="sd">            A country: an ISO 3166-1 alpha-2 country code. Provide this</span>
<span class="sd">            parameter if you want the list of returned items to be</span>
<span class="sd">            relevant to a particular country. If omitted, the returned</span>
<span class="sd">            items will be relevant to all countries.</span>

<span class="sd">            **Example**: :code:`&quot;SE&quot;`.</span>

<span class="sd">        locale : `str`, keyword-only, optional</span>
<span class="sd">            The desired language, consisting of an ISO 639-1 language</span>
<span class="sd">            code and an ISO 3166-1 alpha-2 country code, joined by an</span>
<span class="sd">            underscore. Provide this parameter if you want the category</span>
<span class="sd">            strings returned in a particular language.</span>

<span class="sd">            .. note::</span>
<span class="sd">            </span>
<span class="sd">               If `locale` is not supplied, or if the specified language</span>
<span class="sd">               is not available, the category strings returned will be </span>
<span class="sd">               in the Spotify default language (American English).</span>

<span class="sd">            **Example**: :code:`&quot;es_MX&quot;` for &quot;Spanish (Mexico)&quot;.</span>

<span class="sd">        timestamp : `str`, keyword-only, optional</span>
<span class="sd">            A timestamp in ISO 8601 format: yyyy-MM-ddTHH:mm:ss. Use</span>
<span class="sd">            this parameter to specify the user&#39;s local time to get </span>
<span class="sd">            results tailored for that specific date and time in the day.</span>
<span class="sd">            If there were no featured playlists (or there is no data) at</span>
<span class="sd">            the specified time, the response will revert to the current</span>
<span class="sd">            UTC time. If not provided, the response defaults to the </span>
<span class="sd">            current UTC time. </span>
<span class="sd">            </span>
<span class="sd">            **Example**: :code:`&quot;2014-10-23T09:00:00&quot;` for a user whose</span>
<span class="sd">            local time is 9 AM.</span>

<span class="sd">        limit : `int`, keyword-only, optional</span>
<span class="sd">            The maximum number of results to return in each item type.</span>
<span class="sd">            </span>
<span class="sd">            **Valid values**: `limit` must be between 0 and 50.</span>

<span class="sd">            **Default**: :code:`20`.</span>

<span class="sd">        offset : `int`, keyword-only, optional</span>
<span class="sd">            The index of the first result to return. Use with `limit` to</span>
<span class="sd">            get the next page of search results.</span>

<span class="sd">            **Default**: :code:`0`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        playlists : `dict`</span>
<span class="sd">            A dictionary containing a message and a list of featured </span>
<span class="sd">            playlists.</span>

<span class="sd">            .. admonition:: Sample response</span>
<span class="sd">               :class: dropdown</span>

<span class="sd">               .. code::</span>

<span class="sd">                  {</span>
<span class="sd">                    &quot;message&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;playlists&quot;: {</span>
<span class="sd">                      &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;limit&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;next&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;offset&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;previous&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;total&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;items&quot;: [</span>
<span class="sd">                        {</span>
<span class="sd">                          &quot;collaborative&quot;: &lt;bool&gt;,</span>
<span class="sd">                          &quot;description&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;external_urls&quot;: {</span>
<span class="sd">                            &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;images&quot;: [</span>
<span class="sd">                            {</span>
<span class="sd">                              &quot;url&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;height&quot;: &lt;int&gt;,</span>
<span class="sd">                              &quot;width&quot;: &lt;int&gt;</span>
<span class="sd">                            }</span>
<span class="sd">                          ],</span>
<span class="sd">                          &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;owner&quot;: {</span>
<span class="sd">                            &quot;external_urls&quot;: {</span>
<span class="sd">                              &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                            },</span>
<span class="sd">                            &quot;followers&quot;: {</span>
<span class="sd">                              &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;total&quot;: &lt;int&gt;</span>
<span class="sd">                            },</span>
<span class="sd">                            &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;type&quot;: &quot;user&quot;,</span>
<span class="sd">                            &quot;uri&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;display_name&quot;: &lt;str&gt;</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;public&quot;: &lt;bool&gt;,</span>
<span class="sd">                          &quot;snapshot_id&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;tracks&quot;: {</span>
<span class="sd">                            &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;total&quot;: &lt;int&gt;</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;type&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;uri&quot;: &lt;str&gt;</span>
<span class="sd">                        }</span>
<span class="sd">                      ]</span>
<span class="sd">                    }</span>
<span class="sd">                  }</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_json</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/browse/featured-playlists&quot;</span><span class="p">,</span>
                              <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;country&quot;</span><span class="p">:</span> <span class="n">country</span><span class="p">,</span> <span class="s2">&quot;locale&quot;</span><span class="p">:</span> <span class="n">locale</span><span class="p">,</span>
                                      <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="n">timestamp</span><span class="p">,</span> <span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="n">limit</span><span class="p">,</span>
                                      <span class="s2">&quot;offset&quot;</span><span class="p">:</span> <span class="n">offset</span><span class="p">})</span></div>

    
<div class="viewcode-block" id="WebAPI.get_category_playlists">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.get_category_playlists">[docs]</a>
    <span class="k">def</span> <span class="nf">get_category_playlists</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="n">category_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">country</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">offset</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Playlists &gt; Get Category&#39;s Playlists</span>
<span class="sd">        &lt;https://developer.spotify.com/documentation/web-api/reference/</span>
<span class="sd">        get-a-categories-playlists&gt;`_: Get a list of Spotify playlists</span>
<span class="sd">        tagged with a particular category.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        category_id : `str`</span>
<span class="sd">            The Spotify category ID for the category.</span>

<span class="sd">            **Example**: :code:`&quot;dinner&quot;`.</span>

<span class="sd">        country : `str`, keyword-only, optional</span>
<span class="sd">            A country: an ISO 3166-1 alpha-2 country code. Provide this</span>
<span class="sd">            parameter to ensure that the category exists for a</span>
<span class="sd">            particular country.</span>

<span class="sd">            **Example**: :code:`&quot;SE&quot;`.</span>

<span class="sd">        limit : `int`, keyword-only, optional</span>
<span class="sd">            The maximum number of results to return in each item type.</span>
<span class="sd">            </span>
<span class="sd">            **Valid values**: `limit` must be between 0 and 50.</span>

<span class="sd">            **Default**: :code:`20`.</span>

<span class="sd">        offset : `int`, keyword-only, optional</span>
<span class="sd">            The index of the first result to return. Use with `limit` to</span>
<span class="sd">            get the next page of search results. </span>
<span class="sd">            </span>
<span class="sd">            **Valid values**: `offset` must be between 0 and 1,000.</span>

<span class="sd">            **Default**: :code:`0`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        playlists : `dict`</span>
<span class="sd">            A dictionary containing a message and a list of playlists in</span>
<span class="sd">            a particular category.</span>

<span class="sd">            .. admonition:: Sample response</span>
<span class="sd">               :class: dropdown</span>

<span class="sd">               .. code::</span>

<span class="sd">                  {</span>
<span class="sd">                    &quot;message&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;playlists&quot;: {</span>
<span class="sd">                      &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;limit&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;next&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;offset&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;previous&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;total&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;items&quot;: [</span>
<span class="sd">                        {</span>
<span class="sd">                          &quot;collaborative&quot;: &lt;bool&gt;,</span>
<span class="sd">                          &quot;description&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;external_urls&quot;: {</span>
<span class="sd">                            &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;images&quot;: [</span>
<span class="sd">                            {</span>
<span class="sd">                              &quot;url&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;height&quot;: &lt;int&gt;,</span>
<span class="sd">                              &quot;width&quot;: &lt;int&gt;</span>
<span class="sd">                            }</span>
<span class="sd">                          ],</span>
<span class="sd">                          &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;owner&quot;: {</span>
<span class="sd">                            &quot;external_urls&quot;: {</span>
<span class="sd">                              &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                            },</span>
<span class="sd">                            &quot;followers&quot;: {</span>
<span class="sd">                              &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;total&quot;: &lt;int&gt;</span>
<span class="sd">                            },</span>
<span class="sd">                            &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;type&quot;: &quot;user&quot;,</span>
<span class="sd">                            &quot;uri&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;display_name&quot;: &lt;str&gt;</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;public&quot;: &lt;bool&gt;,</span>
<span class="sd">                          &quot;snapshot_id&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;tracks&quot;: {</span>
<span class="sd">                            &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;total&quot;: &lt;int&gt;</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;type&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;uri&quot;: &lt;str&gt;</span>
<span class="sd">                        }</span>
<span class="sd">                      ]</span>
<span class="sd">                    }</span>
<span class="sd">                  }</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_json</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/browse/categories/</span><span class="si">{</span><span class="n">category_id</span><span class="si">}</span><span class="s2">/playlists&quot;</span><span class="p">,</span>
            <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;country&quot;</span><span class="p">:</span> <span class="n">country</span><span class="p">,</span> <span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="n">limit</span><span class="p">,</span> <span class="s2">&quot;offset&quot;</span><span class="p">:</span> <span class="n">offset</span><span class="p">}</span>
        <span class="p">)</span></div>

    
<div class="viewcode-block" id="WebAPI.get_playlist_cover_image">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.get_playlist_cover_image">[docs]</a>
    <span class="k">def</span> <span class="nf">get_playlist_cover_image</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">playlist_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Playlists &gt; Get Playlist Cover Image </span>
<span class="sd">        &lt;https://developer.spotify.com/documentation/web-api/reference/</span>
<span class="sd">        get-playlist-cover&gt;`_: Get the current image associated with a</span>
<span class="sd">        specific playlist.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        playlist_id : `str`</span>
<span class="sd">            The Spotify ID of the playlist.</span>

<span class="sd">            **Example**: :code:`&quot;3cEYpjA9oz9GiPac4AsH4n&quot;`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        image : `dict`</span>
<span class="sd">            A dictionary containing the URL to and the dimensions of</span>
<span class="sd">            the playlist cover image.</span>

<span class="sd">            .. admonition:: Sample response</span>
<span class="sd">               :class: dropdown</span>

<span class="sd">               .. code::</span>

<span class="sd">                  {</span>
<span class="sd">                    &quot;url&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;height&quot;: &lt;int&gt;,</span>
<span class="sd">                    &quot;width&quot;: &lt;int&gt;</span>
<span class="sd">                  }</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_json</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/playlists/</span><span class="si">{</span><span class="n">playlist_id</span><span class="si">}</span><span class="s2">/images&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span></div>

    
<div class="viewcode-block" id="WebAPI.add_playlist_cover_image">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.add_playlist_cover_image">[docs]</a>
    <span class="k">def</span> <span class="nf">add_playlist_cover_image</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">playlist_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">image</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Playlists &gt; Add Custom Playlist Cover Image</span>
<span class="sd">        &lt;https://developer.spotify.com/documentation/web-api/reference/</span>
<span class="sd">        upload-custom-playlist-cover&gt;`_: Replace the image used to </span>
<span class="sd">        represent a specific playlist.</span>

<span class="sd">        .. admonition:: Authorization scope</span>
<span class="sd">           :class: warning</span>
<span class="sd">        </span>
<span class="sd">           Requires the :code:`ugc-image-upload` and the</span>
<span class="sd">           :code:`playlist-modify-public` or </span>
<span class="sd">           :code:`playlist-modify-private` scope.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        playlist_id : `str`</span>
<span class="sd">            The Spotify ID of the playlist.</span>

<span class="sd">            **Example**: :code:`&quot;3cEYpjA9oz9GiPac4AsH4n&quot;`.</span>

<span class="sd">        image : `bytes`</span>
<span class="sd">            Base64-encoded JPEG image data. The maximum payload size is</span>
<span class="sd">            256 KB.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_check_scope</span><span class="p">(</span><span class="s2">&quot;get_categories&quot;</span><span class="p">,</span> <span class="s2">&quot;ugc-image-upload&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_check_scope</span><span class="p">(</span><span class="s2">&quot;get_categories&quot;</span><span class="p">,</span> 
                          <span class="s2">&quot;playlist-modify-&quot;</span> <span class="o">+</span> 
                          <span class="p">(</span><span class="s2">&quot;public&quot;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_playlist</span><span class="p">(</span><span class="n">playlist_id</span><span class="p">)[</span><span class="s2">&quot;public&quot;</span><span class="p">]</span>
                           <span class="k">else</span> <span class="s2">&quot;private&quot;</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span><span class="s2">&quot;put&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/playlists/</span><span class="si">{</span><span class="n">playlist_id</span><span class="si">}</span><span class="s2">/images&quot;</span><span class="p">,</span>
                      <span class="n">data</span><span class="o">=</span><span class="n">image</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;Content-Type&quot;</span><span class="p">:</span> <span class="s2">&quot;image/jpeg&quot;</span><span class="p">})</span></div>


    <span class="c1">### SEARCH ################################################################</span>

<div class="viewcode-block" id="WebAPI.search">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.search">[docs]</a>
    <span class="k">def</span> <span class="nf">search</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="n">q</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">type</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]],</span> <span class="o">*</span><span class="p">,</span>
            <span class="n">limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">market</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">offset</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Search &gt; Search for Item &lt;https://developer.spotify.com/</span>
<span class="sd">        documentation/web-api/reference/search&gt;`_: Get</span>
<span class="sd">        Spotify catalog information about albums, artists, playlists,</span>
<span class="sd">        tracks, shows, episodes or audiobooks that match a keyword</span>
<span class="sd">        string.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        q : `str`</span>
<span class="sd">            Your search query.</span>

<span class="sd">            .. note::</span>

<span class="sd">               You can narrow down your search using field filters. The</span>
<span class="sd">               available filters are :code:`album`, :code:`artist`, </span>
<span class="sd">               :code:`track`, :code:`year`, :code:`upc`, </span>
<span class="sd">               :code:`tag:hipster`, :code:`tag:new`, :code:`isrc`, and </span>
<span class="sd">               :code:`genre`. Each field filter only applies to certain</span>
<span class="sd">               result types.</span>

<span class="sd">               The :code:`artist` and :code:`year` filters can be used </span>
<span class="sd">               while searching albums, artists and tracks. You can </span>
<span class="sd">               filter on a single :code:`year` or a range (e.g. </span>
<span class="sd">               1955-1960).</span>

<span class="sd">               The :code:`album` filter can be used while searching</span>
<span class="sd">               albums and tracks.</span>

<span class="sd">               The :code:`genre` filter can be used while searching</span>
<span class="sd">               artists and tracks.</span>

<span class="sd">               The :code:`isrc` and :code:`track` filters can be used</span>
<span class="sd">               while searching tracks.</span>

<span class="sd">               The :code:`upc`, :code:`tag:new` and :code:`tag:hipster`</span>
<span class="sd">               filters can only be used while searching albums. The</span>
<span class="sd">               :code:`tag:new` filter will return albums released in the</span>
<span class="sd">               past two weeks and :code:`tag:hipster` can be used to</span>
<span class="sd">               return only albums with the lowest 10% popularity.</span>

<span class="sd">            **Example**:</span>
<span class="sd">            :code:`&quot;remaster track:Doxy artist:Miles Davis&quot;`.</span>
<span class="sd">        </span>
<span class="sd">        type : `str` or `list`</span>
<span class="sd">            A comma-separated list of item types to search across.</span>
<span class="sd">            Search results include hits from all the specified item</span>
<span class="sd">            types.</span>

<span class="sd">            **Valid values**: :code:`&quot;album&quot;`, :code:`&quot;artist&quot;`, </span>
<span class="sd">            :code:`&quot;audiobook&quot;`, :code:`&quot;episode&quot;`, :code:`&quot;playlist&quot;`, </span>
<span class="sd">            :code:`&quot;show&quot;`, and :code:`&quot;track&quot;`.</span>

<span class="sd">            .. container::</span>

<span class="sd">               **Example**: </span>
<span class="sd">               </span>
<span class="sd">               * :code:`&quot;track,artist&quot;` returns both tracks and artists </span>
<span class="sd">                 matching `query`.</span>
<span class="sd">               * :code:`type=album,track` returns both albums and tracks </span>
<span class="sd">                 matching `query`.</span>

<span class="sd">        limit : `int`, keyword-only, optional</span>
<span class="sd">            The maximum number of results to return in each item type.</span>
<span class="sd">            </span>
<span class="sd">            **Valid values**: `limit` must be between 0 and 50.</span>

<span class="sd">            **Default**: :code:`20`.</span>

<span class="sd">        market : `str`, keyword-only, optional</span>
<span class="sd">            An ISO 3166-1 alpha-2 country code. If a country code is</span>
<span class="sd">            specified, only content that is available in that market</span>
<span class="sd">            will be returned. If a valid user access token is specified</span>
<span class="sd">            in the request header, the country associated with the user</span>
<span class="sd">            account will take priority over this parameter.</span>

<span class="sd">            .. note::</span>

<span class="sd">               If neither market or user country are provided, the </span>
<span class="sd">               content is considered unavailable for the client.</span>
<span class="sd">            </span>
<span class="sd">            **Example**: :code:`&quot;ES&quot;`.</span>

<span class="sd">        offset : `int`, keyword-only, optional</span>
<span class="sd">            The index of the first result to return. Use with `limit` to</span>
<span class="sd">            get the next page of search results. </span>
<span class="sd">            </span>
<span class="sd">            **Valid values**: `offset` must be between 0 and 1,000.</span>

<span class="sd">            **Default**: :code:`0`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        results : `dict`</span>
<span class="sd">            The search results.</span>

<span class="sd">            .. admonition:: Sample</span>
<span class="sd">               :class: dropdown</span>

<span class="sd">               .. code::</span>

<span class="sd">                  {</span>
<span class="sd">                    &quot;tracks&quot;: {</span>
<span class="sd">                      &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;limit&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;next&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;offset&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;previous&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;total&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;items&quot;: [</span>
<span class="sd">                        {</span>
<span class="sd">                          &quot;album&quot;: {</span>
<span class="sd">                            &quot;album_type&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;total_tracks&quot;: &lt;int&gt;,</span>
<span class="sd">                            &quot;available_markets&quot;: [&lt;str&gt;],</span>
<span class="sd">                            &quot;external_urls&quot;: {</span>
<span class="sd">                              &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                            },</span>
<span class="sd">                            &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;images&quot;: [</span>
<span class="sd">                              {</span>
<span class="sd">                                &quot;url&quot;: &lt;str&gt;,</span>
<span class="sd">                                &quot;height&quot;: &lt;int&gt;,</span>
<span class="sd">                                &quot;width&quot;: &lt;int&gt;</span>
<span class="sd">                              }</span>
<span class="sd">                            ],</span>
<span class="sd">                            &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;release_date&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;release_date_precision&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;restrictions&quot;: {</span>
<span class="sd">                              &quot;reason&quot;: &lt;str&gt;</span>
<span class="sd">                            },</span>
<span class="sd">                            &quot;type&quot;: &quot;album&quot;,</span>
<span class="sd">                            &quot;uri&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;copyrights&quot;: [</span>
<span class="sd">                              {</span>
<span class="sd">                                &quot;text&quot;: &lt;str&gt;,</span>
<span class="sd">                                &quot;type&quot;: &lt;str&gt;</span>
<span class="sd">                              }</span>
<span class="sd">                            ],</span>
<span class="sd">                            &quot;external_ids&quot;: {</span>
<span class="sd">                              &quot;isrc&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;ean&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;upc&quot;: &lt;str&gt;</span>
<span class="sd">                            },</span>
<span class="sd">                            &quot;genres&quot;: [&lt;str&gt;],</span>
<span class="sd">                            &quot;label&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;popularity&quot;: &lt;int&gt;,</span>
<span class="sd">                            &quot;album_group&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;artists&quot;: [</span>
<span class="sd">                              {</span>
<span class="sd">                                &quot;external_urls&quot;: {</span>
<span class="sd">                                  &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                                },</span>
<span class="sd">                                &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                                &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                                &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                                &quot;type&quot;: &quot;artist&quot;,</span>
<span class="sd">                                &quot;uri&quot;: &lt;str&gt;</span>
<span class="sd">                              }</span>
<span class="sd">                            ]</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;artists&quot;: [</span>
<span class="sd">                            {</span>
<span class="sd">                              &quot;external_urls&quot;: {</span>
<span class="sd">                                &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                              },</span>
<span class="sd">                              &quot;followers&quot;: {</span>
<span class="sd">                                &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                                &quot;total&quot;: &lt;int&gt;</span>
<span class="sd">                              },</span>
<span class="sd">                              &quot;genres&quot;: [&lt;str&gt;],</span>
<span class="sd">                              &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;images&quot;: [</span>
<span class="sd">                                {</span>
<span class="sd">                                  &quot;url&quot;: &lt;str&gt;,</span>
<span class="sd">                                  &quot;height&quot;: &lt;int&gt;,</span>
<span class="sd">                                  &quot;width&quot;: &lt;int&gt;</span>
<span class="sd">                                }</span>
<span class="sd">                              ],</span>
<span class="sd">                              &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;popularity&quot;: &lt;int&gt;,</span>
<span class="sd">                              &quot;type&quot;: &quot;artist&quot;,</span>
<span class="sd">                              &quot;uri&quot;: &lt;str&gt;</span>
<span class="sd">                            }</span>
<span class="sd">                          ],</span>
<span class="sd">                          &quot;available_markets&quot;: [&lt;str&gt;],</span>
<span class="sd">                          &quot;disc_number&quot;: &lt;int&gt;,</span>
<span class="sd">                          &quot;duration_ms&quot;: &lt;int&gt;,</span>
<span class="sd">                          &quot;explicit&quot;: &lt;bool&gt;,</span>
<span class="sd">                          &quot;external_ids&quot;: {</span>
<span class="sd">                            &quot;isrc&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;ean&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;upc&quot;: &lt;str&gt;</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;external_urls&quot;: {</span>
<span class="sd">                            &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;is_playable&quot;: &lt;bool&gt;</span>
<span class="sd">                          &quot;linked_from&quot;: {</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;restrictions&quot;: {</span>
<span class="sd">                            &quot;reason&quot;: &lt;str&gt;</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;popularity&quot;: &lt;int&gt;,</span>
<span class="sd">                          &quot;preview_url&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;track_number&quot;: &lt;int&gt;,</span>
<span class="sd">                          &quot;type&quot;: &quot;track&quot;,</span>
<span class="sd">                          &quot;uri&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;is_local&quot;: &lt;bool&gt;</span>
<span class="sd">                        }</span>
<span class="sd">                      ]</span>
<span class="sd">                    },</span>
<span class="sd">                    &quot;artists&quot;: {</span>
<span class="sd">                      &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;limit&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;next&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;offset&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;previous&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;total&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;items&quot;: [</span>
<span class="sd">                        {</span>
<span class="sd">                          &quot;external_urls&quot;: {</span>
<span class="sd">                            &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;followers&quot;: {</span>
<span class="sd">                            &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;total&quot;: &lt;int&gt;</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;genres&quot;: [&lt;str&gt;],</span>
<span class="sd">                          &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;images&quot;: [</span>
<span class="sd">                            {</span>
<span class="sd">                              &quot;url&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;height&quot;: &lt;int&gt;,</span>
<span class="sd">                              &quot;width&quot;: &lt;int&gt;</span>
<span class="sd">                            }</span>
<span class="sd">                          ],</span>
<span class="sd">                          &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;popularity&quot;: &lt;int&gt;,</span>
<span class="sd">                          &quot;type&quot;: &quot;artist&quot;,</span>
<span class="sd">                          &quot;uri&quot;: &lt;str&gt;</span>
<span class="sd">                        }</span>
<span class="sd">                      ]</span>
<span class="sd">                    },</span>
<span class="sd">                    &quot;albums&quot;: {</span>
<span class="sd">                      &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;limit&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;next&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;offset&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;previous&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;total&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;items&quot;: [</span>
<span class="sd">                        {</span>
<span class="sd">                          &quot;album_type&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;total_tracks&quot;: &lt;int&gt;,</span>
<span class="sd">                          &quot;available_markets&quot;: [&lt;str&gt;],</span>
<span class="sd">                          &quot;external_urls&quot;: {</span>
<span class="sd">                            &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;images&quot;: [</span>
<span class="sd">                            {</span>
<span class="sd">                              &quot;url&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;height&quot;: &lt;int&gt;,</span>
<span class="sd">                              &quot;width&quot;: &lt;int&gt;</span>
<span class="sd">                            }</span>
<span class="sd">                          ],</span>
<span class="sd">                          &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;release_date&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;release_date_precision&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;restrictions&quot;: {</span>
<span class="sd">                            &quot;reason&quot;: &lt;str&gt;</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;type&quot;: &quot;album&quot;,</span>
<span class="sd">                          &quot;uri&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;copyrights&quot;: [</span>
<span class="sd">                            {</span>
<span class="sd">                              &quot;text&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;type&quot;: &lt;str&gt;</span>
<span class="sd">                            }</span>
<span class="sd">                          ],</span>
<span class="sd">                          &quot;external_ids&quot;: {</span>
<span class="sd">                            &quot;isrc&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;ean&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;upc&quot;: &lt;str&gt;</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;genres&quot;: [&lt;str&gt;],</span>
<span class="sd">                          &quot;label&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;popularity&quot;: &lt;int&gt;,</span>
<span class="sd">                          &quot;album_group&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;artists&quot;: [</span>
<span class="sd">                            {</span>
<span class="sd">                              &quot;external_urls&quot;: {</span>
<span class="sd">                                &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                              },</span>
<span class="sd">                              &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;type&quot;: &quot;artist&quot;,</span>
<span class="sd">                              &quot;uri&quot;: &lt;str&gt;</span>
<span class="sd">                            }</span>
<span class="sd">                          ]</span>
<span class="sd">                        }</span>
<span class="sd">                      ]</span>
<span class="sd">                    },</span>
<span class="sd">                    &quot;playlists&quot;: {</span>
<span class="sd">                      &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;limit&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;next&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;offset&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;previous&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;total&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;items&quot;: [</span>
<span class="sd">                        {</span>
<span class="sd">                          &quot;collaborative&quot;: &lt;bool&gt;,</span>
<span class="sd">                          &quot;description&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;external_urls&quot;: {</span>
<span class="sd">                            &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;images&quot;: [</span>
<span class="sd">                            {</span>
<span class="sd">                              &quot;url&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;height&quot;: &lt;int&gt;,</span>
<span class="sd">                              &quot;width&quot;: &lt;int&gt;</span>
<span class="sd">                            }</span>
<span class="sd">                          ],</span>
<span class="sd">                          &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;owner&quot;: {</span>
<span class="sd">                            &quot;external_urls&quot;: {</span>
<span class="sd">                              &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                            },</span>
<span class="sd">                            &quot;followers&quot;: {</span>
<span class="sd">                              &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;total&quot;: &lt;int&gt;</span>
<span class="sd">                            },</span>
<span class="sd">                            &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;type&quot;: &quot;user&quot;,</span>
<span class="sd">                            &quot;uri&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;display_name&quot;: &lt;str&gt;</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;public&quot;: &lt;bool&gt;,</span>
<span class="sd">                          &quot;snapshot_id&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;tracks&quot;: {</span>
<span class="sd">                            &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;total&quot;: &lt;int&gt;</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;type&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;uri&quot;: &lt;str&gt;</span>
<span class="sd">                        }</span>
<span class="sd">                      ]</span>
<span class="sd">                    },</span>
<span class="sd">                    &quot;shows&quot;: {</span>
<span class="sd">                      &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;limit&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;next&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;offset&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;previous&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;total&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;items&quot;: [</span>
<span class="sd">                        {</span>
<span class="sd">                          &quot;available_markets&quot;: [&lt;str&gt;],</span>
<span class="sd">                          &quot;copyrights&quot;: [</span>
<span class="sd">                            {</span>
<span class="sd">                              &quot;text&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;type&quot;: &lt;str&gt;</span>
<span class="sd">                            }</span>
<span class="sd">                          ],</span>
<span class="sd">                          &quot;description&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;html_description&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;explicit&quot;: &lt;bool&gt;,</span>
<span class="sd">                          &quot;external_urls&quot;: {</span>
<span class="sd">                            &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;images&quot;: [</span>
<span class="sd">                            {</span>
<span class="sd">                              &quot;url&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;height&quot;: &lt;int&gt;,</span>
<span class="sd">                              &quot;width&quot;: &lt;int&gt;</span>
<span class="sd">                            }</span>
<span class="sd">                          ],</span>
<span class="sd">                          &quot;is_externally_hosted&quot;: &lt;bool&gt;,</span>
<span class="sd">                          &quot;languages&quot;: [&lt;str&gt;],</span>
<span class="sd">                          &quot;media_type&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;publisher&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;type&quot;: &quot;show&quot;,</span>
<span class="sd">                          &quot;uri&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;total_episodes&quot;: &lt;int&gt;</span>
<span class="sd">                        }</span>
<span class="sd">                      ]</span>
<span class="sd">                    },</span>
<span class="sd">                    &quot;episodes&quot;: {</span>
<span class="sd">                      &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;limit&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;next&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;offset&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;previous&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;total&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;items&quot;: [</span>
<span class="sd">                        {</span>
<span class="sd">                          &quot;audio_preview_url&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;description&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;html_description&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;duration_ms&quot;: &lt;int&gt;,</span>
<span class="sd">                          &quot;explicit&quot;: &lt;bool&gt;,</span>
<span class="sd">                          &quot;external_urls&quot;: {</span>
<span class="sd">                            &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;images&quot;: [</span>
<span class="sd">                            {</span>
<span class="sd">                              &quot;url&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;height&quot;: &lt;int&gt;,</span>
<span class="sd">                              &quot;width&quot;: &lt;int&gt;</span>
<span class="sd">                            }</span>
<span class="sd">                          ],</span>
<span class="sd">                          &quot;is_externally_hosted&quot;: &lt;bool&gt;,</span>
<span class="sd">                          &quot;is_playable&quot;: &lt;bool&gt;</span>
<span class="sd">                          &quot;language&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;languages&quot;: [&lt;str&gt;],</span>
<span class="sd">                          &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;release_date&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;release_date_precision&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;resume_point&quot;: {</span>
<span class="sd">                            &quot;fully_played&quot;: &lt;bool&gt;,</span>
<span class="sd">                            &quot;resume_position_ms&quot;: &lt;int&gt;</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;type&quot;: &quot;episode&quot;,</span>
<span class="sd">                          &quot;uri&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;restrictions&quot;: {</span>
<span class="sd">                            &quot;reason&quot;: &lt;str&gt;</span>
<span class="sd">                          }</span>
<span class="sd">                        }</span>
<span class="sd">                      ]</span>
<span class="sd">                    },</span>
<span class="sd">                    &quot;audiobooks&quot;: {</span>
<span class="sd">                      &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;limit&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;next&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;offset&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;previous&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;total&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;items&quot;: [</span>
<span class="sd">                        {</span>
<span class="sd">                          &quot;authors&quot;: [</span>
<span class="sd">                            {</span>
<span class="sd">                              &quot;name&quot;: &lt;str&gt;</span>
<span class="sd">                            }</span>
<span class="sd">                          ],</span>
<span class="sd">                          &quot;available_markets&quot;: [&lt;str&gt;],</span>
<span class="sd">                          &quot;copyrights&quot;: [</span>
<span class="sd">                            {</span>
<span class="sd">                              &quot;text&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;type&quot;: &lt;str&gt;</span>
<span class="sd">                            }</span>
<span class="sd">                          ],</span>
<span class="sd">                          &quot;description&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;html_description&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;edition&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;explicit&quot;: &lt;bool&gt;,</span>
<span class="sd">                          &quot;external_urls&quot;: {</span>
<span class="sd">                            &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;images&quot;: [</span>
<span class="sd">                            {</span>
<span class="sd">                              &quot;url&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;height&quot;: &lt;int&gt;,</span>
<span class="sd">                              &quot;width&quot;: &lt;int&gt;</span>
<span class="sd">                            }</span>
<span class="sd">                          ],</span>
<span class="sd">                          &quot;languages&quot;: [&lt;str&gt;],</span>
<span class="sd">                          &quot;media_type&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;narrators&quot;: [</span>
<span class="sd">                            {</span>
<span class="sd">                              &quot;name&quot;: &lt;str&gt;</span>
<span class="sd">                            }</span>
<span class="sd">                          ],</span>
<span class="sd">                          &quot;publisher&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;type&quot;: &quot;audiobook&quot;,</span>
<span class="sd">                          &quot;uri&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;total_chapters&quot;: &lt;int&gt;</span>
<span class="sd">                        }</span>
<span class="sd">                      ]</span>
<span class="sd">                    }</span>
<span class="sd">                  }</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_json</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/search?q=</span><span class="si">{</span><span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">quote</span><span class="p">(</span><span class="n">q</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">params</span><span class="o">=</span><span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">type</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="nb">type</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="k">else</span> <span class="s2">&quot;,&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">type</span><span class="p">),</span>
                <span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="n">limit</span><span class="p">,</span>
                <span class="s2">&quot;market&quot;</span><span class="p">:</span> <span class="n">market</span><span class="p">,</span>
                <span class="s2">&quot;offset&quot;</span><span class="p">:</span> <span class="n">offset</span>
            <span class="p">}</span>
        <span class="p">)[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">type</span><span class="si">}</span><span class="s2">s&quot;</span><span class="p">]</span></div>


    <span class="c1">### SHOWS #################################################################</span>

<div class="viewcode-block" id="WebAPI.get_show">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.get_show">[docs]</a>
    <span class="k">def</span> <span class="nf">get_show</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">market</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Shows &gt; Get Show &lt;https://developer.spotify.com/documentation/</span>
<span class="sd">        web-api/reference/get-a-show&gt;`_: Get Spotify</span>
<span class="sd">        catalog information for a single show identified by its unique</span>
<span class="sd">        Spotify ID.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        id : `str`</span>
<span class="sd">            The Spotify ID for the show.</span>

<span class="sd">            **Example**: :code:`&quot;38bS44xjbVVZ3No3ByF1dJ&quot;`.</span>

<span class="sd">        market : `str`, keyword-only, optional</span>
<span class="sd">            An ISO 3166-1 alpha-2 country code. If a country code is</span>
<span class="sd">            specified, only content that is available in that market</span>
<span class="sd">            will be returned. If a valid user access token is specified</span>
<span class="sd">            in the request header, the country associated with the user</span>
<span class="sd">            account will take priority over this parameter.</span>

<span class="sd">            .. note::</span>

<span class="sd">               If neither market or user country are provided, the </span>
<span class="sd">               content is considered unavailable for the client.</span>
<span class="sd">            </span>
<span class="sd">            **Example**: :code:`&quot;ES&quot;`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        show : `dict`</span>
<span class="sd">            Spotify catalog information for a single show.</span>

<span class="sd">            .. admonition:: Sample response</span>
<span class="sd">               :class: dropdown</span>

<span class="sd">               .. code::</span>

<span class="sd">                  {</span>
<span class="sd">                    &quot;available_markets&quot;: [&lt;str&gt;],</span>
<span class="sd">                    &quot;copyrights&quot;: [</span>
<span class="sd">                      {</span>
<span class="sd">                        &quot;text&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;type&quot;: &lt;str&gt;</span>
<span class="sd">                      }</span>
<span class="sd">                    ],</span>
<span class="sd">                    &quot;description&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;html_description&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;explicit&quot;: &lt;bool&gt;,</span>
<span class="sd">                    &quot;external_urls&quot;: {</span>
<span class="sd">                      &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                    },</span>
<span class="sd">                    &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;images&quot;: [</span>
<span class="sd">                      {</span>
<span class="sd">                        &quot;url&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;height&quot;: &lt;int&gt;,</span>
<span class="sd">                        &quot;width&quot;: &lt;int&gt;</span>
<span class="sd">                      }</span>
<span class="sd">                    ],</span>
<span class="sd">                    &quot;is_externally_hosted&quot;: &lt;bool&gt;,</span>
<span class="sd">                    &quot;languages&quot;: [&lt;str&gt;],</span>
<span class="sd">                    &quot;media_type&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;publisher&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;type&quot;: &quot;show&quot;,</span>
<span class="sd">                    &quot;uri&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;total_episodes&quot;: &lt;int&gt;,</span>
<span class="sd">                    &quot;episodes&quot;: {</span>
<span class="sd">                      &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;limit&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;next&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;offset&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;previous&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;total&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;items&quot;: [</span>
<span class="sd">                        {</span>
<span class="sd">                          &quot;audio_preview_url&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;description&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;html_description&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;duration_ms&quot;: &lt;int&gt;,</span>
<span class="sd">                          &quot;explicit&quot;: &lt;bool&gt;,</span>
<span class="sd">                          &quot;external_urls&quot;: {</span>
<span class="sd">                            &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;images&quot;: [</span>
<span class="sd">                            {</span>
<span class="sd">                              &quot;url&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;height&quot;: &lt;int&gt;,</span>
<span class="sd">                              &quot;width&quot;: &lt;int&gt;</span>
<span class="sd">                            }</span>
<span class="sd">                          ],</span>
<span class="sd">                          &quot;is_externally_hosted&quot;: &lt;bool&gt;,</span>
<span class="sd">                          &quot;is_playable&quot;: &lt;bool&gt;</span>
<span class="sd">                          &quot;language&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;languages&quot;: [&lt;str&gt;],</span>
<span class="sd">                          &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;release_date&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;release_date_precision&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;resume_point&quot;: {</span>
<span class="sd">                            &quot;fully_played&quot;: &lt;bool&gt;,</span>
<span class="sd">                            &quot;resume_position_ms&quot;: &lt;int&gt;</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;type&quot;: &quot;episode&quot;,</span>
<span class="sd">                          &quot;uri&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;restrictions&quot;: {</span>
<span class="sd">                            &quot;reason&quot;: &lt;str&gt;</span>
<span class="sd">                          }</span>
<span class="sd">                        }</span>
<span class="sd">                      ]</span>
<span class="sd">                    }</span>
<span class="sd">                  }</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_json</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/shows/</span><span class="si">{</span><span class="nb">id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                              <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;market&quot;</span><span class="p">:</span> <span class="n">market</span><span class="p">})</span></div>


<div class="viewcode-block" id="WebAPI.get_shows">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.get_shows">[docs]</a>
    <span class="k">def</span> <span class="nf">get_shows</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="n">ids</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]],</span> <span class="o">*</span><span class="p">,</span> <span class="n">market</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Shows &gt; Get Several Shows &lt;https://developer.spotify.com/</span>
<span class="sd">        documentation/web-api/reference/</span>
<span class="sd">        get-multiple-shows&gt;`_: Get Spotify catalog information for</span>
<span class="sd">        several shows based on their Spotify IDs.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        ids : `str` or `list`</span>
<span class="sd">            A (comma-separated) list of the Spotify IDs for the shows.</span>
<span class="sd">            </span>
<span class="sd">            **Maximum**: 50 IDs.</span>

<span class="sd">            **Example**:</span>
<span class="sd">            :code:`&quot;5CfCWKI5pZ28U0uOzXkDHe,5as3aKmN2k11yfDDDSrvaZ&quot;`.</span>

<span class="sd">        market : `str`, keyword-only, optional</span>
<span class="sd">            An ISO 3166-1 alpha-2 country code. If a country code is</span>
<span class="sd">            specified, only content that is available in that market</span>
<span class="sd">            will be returned. If a valid user access token is specified</span>
<span class="sd">            in the request header, the country associated with the user</span>
<span class="sd">            account will take priority over this parameter.</span>

<span class="sd">            .. note::</span>

<span class="sd">               If neither market or user country are provided, the </span>
<span class="sd">               content is considered unavailable for the client.</span>
<span class="sd">            </span>
<span class="sd">            **Example**: :code:`&quot;ES&quot;`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        shows : `list`</span>
<span class="sd">            A list containing Spotify catalog information for multiple </span>
<span class="sd">            shows.</span>

<span class="sd">            .. admonition:: Sample response</span>
<span class="sd">               :class: dropdown</span>

<span class="sd">               .. code::</span>

<span class="sd">                  [</span>
<span class="sd">                    {</span>
<span class="sd">                      &quot;available_markets&quot;: [&lt;str&gt;],</span>
<span class="sd">                      &quot;copyrights&quot;: [</span>
<span class="sd">                        {</span>
<span class="sd">                          &quot;text&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;type&quot;: &lt;str&gt;</span>
<span class="sd">                        }</span>
<span class="sd">                      ],</span>
<span class="sd">                      &quot;description&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;html_description&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;explicit&quot;: &lt;bool&gt;,</span>
<span class="sd">                      &quot;external_urls&quot;: {</span>
<span class="sd">                        &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                      },</span>
<span class="sd">                      &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;images&quot;: [</span>
<span class="sd">                        {</span>
<span class="sd">                          &quot;url&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;height&quot;: &lt;int&gt;,</span>
<span class="sd">                          &quot;width&quot;: &lt;int&gt;</span>
<span class="sd">                        }</span>
<span class="sd">                      ],</span>
<span class="sd">                      &quot;is_externally_hosted&quot;: &lt;bool&gt;,</span>
<span class="sd">                      &quot;languages&quot;: [&lt;str&gt;],</span>
<span class="sd">                      &quot;media_type&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;publisher&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;type&quot;: &quot;show&quot;,</span>
<span class="sd">                      &quot;uri&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;total_episodes&quot;: &lt;int&gt;</span>
<span class="sd">                    }</span>
<span class="sd">                  ]</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_json</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/shows&quot;</span><span class="p">,</span>
            <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;ids&quot;</span><span class="p">:</span> <span class="n">ids</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ids</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="k">else</span> <span class="s2">&quot;,&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">ids</span><span class="p">),</span>
                    <span class="s2">&quot;market&quot;</span><span class="p">:</span> <span class="n">market</span><span class="p">}</span>
        <span class="p">)[</span><span class="s2">&quot;shows&quot;</span><span class="p">]</span></div>


<div class="viewcode-block" id="WebAPI.get_show_episodes">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.get_show_episodes">[docs]</a>
    <span class="k">def</span> <span class="nf">get_show_episodes</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">market</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">offset</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Shows &gt; Get Show Episodes &lt;https://developer.spotify.com/</span>
<span class="sd">        documentation/web-api/reference/</span>
<span class="sd">        get-a-shows-episodes&gt;`_: Get Spotify catalog information about</span>
<span class="sd">        an show&#39;s episodes. Optional parameters can be used to limit the</span>
<span class="sd">        number of episodes returned.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        id : `str`</span>
<span class="sd">            The Spotify ID for the show.</span>

<span class="sd">            **Example**: :code:`&quot;38bS44xjbVVZ3No3ByF1dJ&quot;`.</span>

<span class="sd">        limit : `int`, keyword-only, optional</span>
<span class="sd">            The maximum number of results to return in each item type.</span>
<span class="sd">            </span>
<span class="sd">            **Valid values**: `limit` must be between 0 and 50.</span>

<span class="sd">            **Default**: :code:`20`.</span>

<span class="sd">        market : `str`, keyword-only, optional</span>
<span class="sd">            An ISO 3166-1 alpha-2 country code. If a country code is</span>
<span class="sd">            specified, only content that is available in that market</span>
<span class="sd">            will be returned. If a valid user access token is specified</span>
<span class="sd">            in the request header, the country associated with the user</span>
<span class="sd">            account will take priority over this parameter.</span>

<span class="sd">            .. note::</span>

<span class="sd">               If neither market or user country are provided, the </span>
<span class="sd">               content is considered unavailable for the client.</span>
<span class="sd">            </span>
<span class="sd">            **Example**: :code:`&quot;ES&quot;`.</span>

<span class="sd">        offset : `int`, keyword-only, optional</span>
<span class="sd">            The index of the first result to return. Use with `limit` to</span>
<span class="sd">            get the next page of search results.</span>

<span class="sd">            **Default**: :code:`0`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        episodes : `dict`</span>
<span class="sd">            A dictionary containing Spotify catalog information for a</span>
<span class="sd">            show&#39;s episodes and the number of results returned.</span>

<span class="sd">            .. admonition:: Sample response</span>
<span class="sd">               :class: dropdown</span>

<span class="sd">               .. code::</span>

<span class="sd">                  {</span>
<span class="sd">                    &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;limit&quot;: &lt;int&gt;,</span>
<span class="sd">                    &quot;next&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;offset&quot;: &lt;int&gt;,</span>
<span class="sd">                    &quot;previous&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;total&quot;: &lt;int&gt;,</span>
<span class="sd">                    &quot;items&quot;: [</span>
<span class="sd">                      {</span>
<span class="sd">                        &quot;audio_preview_url&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;description&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;html_description&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;duration_ms&quot;: &lt;int&gt;,</span>
<span class="sd">                        &quot;explicit&quot;: &lt;bool&gt;,</span>
<span class="sd">                        &quot;external_urls&quot;: {</span>
<span class="sd">                          &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                        },</span>
<span class="sd">                        &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;images&quot;: [</span>
<span class="sd">                          {</span>
<span class="sd">                            &quot;url&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;height&quot;: &lt;int&gt;,</span>
<span class="sd">                            &quot;width&quot;: &lt;int&gt;</span>
<span class="sd">                          }</span>
<span class="sd">                        ],</span>
<span class="sd">                        &quot;is_externally_hosted&quot;: &lt;bool&gt;,</span>
<span class="sd">                        &quot;is_playable&quot;: &lt;bool&gt;</span>
<span class="sd">                        &quot;language&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;languages&quot;: [&lt;str&gt;],</span>
<span class="sd">                        &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;release_date&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;release_date_precision&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;resume_point&quot;: {</span>
<span class="sd">                          &quot;fully_played&quot;: &lt;bool&gt;,</span>
<span class="sd">                          &quot;resume_position_ms&quot;: &lt;int&gt;</span>
<span class="sd">                        },</span>
<span class="sd">                        &quot;type&quot;: &quot;episode&quot;,</span>
<span class="sd">                        &quot;uri&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;restrictions&quot;: {</span>
<span class="sd">                          &quot;reason&quot;: &lt;str&gt;</span>
<span class="sd">                        }</span>
<span class="sd">                      }</span>
<span class="sd">                    ]</span>
<span class="sd">                  }</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_json</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/shows/</span><span class="si">{</span><span class="nb">id</span><span class="si">}</span><span class="s2">/episodes&quot;</span><span class="p">,</span>
            <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="n">limit</span><span class="p">,</span> <span class="s2">&quot;market&quot;</span><span class="p">:</span> <span class="n">market</span><span class="p">,</span> <span class="s2">&quot;offset&quot;</span><span class="p">:</span> <span class="n">offset</span><span class="p">}</span>
        <span class="p">)</span></div>

    
<div class="viewcode-block" id="WebAPI.get_saved_shows">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.get_saved_shows">[docs]</a>
    <span class="k">def</span> <span class="nf">get_saved_shows</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">offset</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Shows &gt; Get User&#39;s Saved Shows &lt;https://developer.spotify.com/</span>
<span class="sd">        documentation/web-api/reference/</span>
<span class="sd">        get-users-saved-shows&gt;`_: Get a list of shows saved in the</span>
<span class="sd">        current Spotify user&#39;s library. Optional parameters can be used</span>
<span class="sd">        to limit the number of shows returned.</span>
<span class="sd">        </span>
<span class="sd">        .. admonition:: Authorization scope</span>
<span class="sd">           :class: warning</span>
<span class="sd">        </span>
<span class="sd">           Requires the :code:`user-library-read` scope.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        limit : `int`, keyword-only, optional</span>
<span class="sd">            The maximum number of results to return in each item type.</span>
<span class="sd">            </span>
<span class="sd">            **Valid values**: `limit` must be between 0 and 50.</span>

<span class="sd">            **Default**: :code:`20`.</span>

<span class="sd">        offset : `int`, keyword-only, optional</span>
<span class="sd">            The index of the first result to return. Use with `limit` to</span>
<span class="sd">            get the next page of search results. </span>
<span class="sd">            </span>
<span class="sd">            **Valid values**: `offset` must be between 0 and 1,000.</span>

<span class="sd">            **Default**: :code:`0`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        shows : `dict`</span>
<span class="sd">            A dictionary containing Spotify catalog information for a</span>
<span class="sd">            user&#39;s saved shows and the number of results returned.</span>

<span class="sd">            .. admonition:: Sample response</span>
<span class="sd">               :class: dropdown</span>

<span class="sd">               .. code::</span>

<span class="sd">                  {</span>
<span class="sd">                    &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;limit&quot;: &lt;int&gt;,</span>
<span class="sd">                    &quot;next&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;offset&quot;: &lt;int&gt;,</span>
<span class="sd">                    &quot;previous&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;total&quot;: &lt;int&gt;,</span>
<span class="sd">                    &quot;items&quot;: [</span>
<span class="sd">                      {</span>
<span class="sd">                        &quot;added_at&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;show&quot;: {</span>
<span class="sd">                          &quot;available_markets&quot;: [</span>
<span class="sd">                            &lt;str&gt;</span>
<span class="sd">                          ],</span>
<span class="sd">                          &quot;copyrights&quot;: [</span>
<span class="sd">                            {</span>
<span class="sd">                              &quot;text&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;type&quot;: &lt;str&gt;</span>
<span class="sd">                            }</span>
<span class="sd">                          ],</span>
<span class="sd">                          &quot;description&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;html_description&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;explicit&quot;: &lt;bool&gt;,</span>
<span class="sd">                          &quot;external_urls&quot;: {</span>
<span class="sd">                            &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;images&quot;: [</span>
<span class="sd">                            {</span>
<span class="sd">                              &quot;url&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;height&quot;: &lt;int&gt;,</span>
<span class="sd">                              &quot;width&quot;: &lt;int&gt;</span>
<span class="sd">                            }</span>
<span class="sd">                          ],</span>
<span class="sd">                          &quot;is_externally_hosted&quot;: &lt;bool&gt;,</span>
<span class="sd">                          &quot;languages&quot;: [</span>
<span class="sd">                            &lt;str&gt;</span>
<span class="sd">                          ],</span>
<span class="sd">                          &quot;media_type&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;publisher&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;type&quot;: &quot;show&quot;,</span>
<span class="sd">                          &quot;uri&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;total_episodes&quot;: &lt;int&gt;</span>
<span class="sd">                        }</span>
<span class="sd">                      }</span>
<span class="sd">                    ]</span>
<span class="sd">                  }</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_check_scope</span><span class="p">(</span><span class="s2">&quot;get_saved_shows&quot;</span><span class="p">,</span> <span class="s2">&quot;user-library-read&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_json</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/me/shows&quot;</span><span class="p">,</span>
                              <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="n">limit</span><span class="p">,</span> <span class="s2">&quot;offset&quot;</span><span class="p">:</span> <span class="n">offset</span><span class="p">})</span></div>


<div class="viewcode-block" id="WebAPI.save_shows">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.save_shows">[docs]</a>
    <span class="k">def</span> <span class="nf">save_shows</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ids</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Shows &gt; Save Shows for Current User</span>
<span class="sd">        &lt;https://developer.spotify.com/documentation/web-api/reference/</span>
<span class="sd">        save-shows-user&gt;`_: Save one or more shows to</span>
<span class="sd">        current Spotify user&#39;s library.</span>
<span class="sd">        </span>
<span class="sd">        .. admonition:: Authorization scope</span>
<span class="sd">           :class: warning</span>
<span class="sd">        </span>
<span class="sd">           Requires the :code:`user-library-modify` scope.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        ids : `str` or `list`</span>
<span class="sd">            A (comma-separated) list of the Spotify IDs for the shows.</span>
<span class="sd">            Maximum: 50 IDs.</span>

<span class="sd">            **Example**:</span>
<span class="sd">            :code:`&quot;5CfCWKI5pZ28U0uOzXkDHe,5as3aKmN2k11yfDDDSrvaZ&quot;`.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_check_scope</span><span class="p">(</span><span class="s2">&quot;save_shows&quot;</span><span class="p">,</span> <span class="s2">&quot;user-library-modify&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span>
            <span class="s2">&quot;put&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/me/shows&quot;</span><span class="p">,</span>
            <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;ids&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">ids</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nb">isinstance</span><span class="p">(</span><span class="n">ids</span><span class="p">,</span><span class="w"> </span><span class="nb">str</span><span class="p">)</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">&#39;,&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">ids</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">}</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="WebAPI.remove_saved_shows">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.remove_saved_shows">[docs]</a>
    <span class="k">def</span> <span class="nf">remove_saved_shows</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="n">ids</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]],</span> <span class="o">*</span><span class="p">,</span> <span class="n">market</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Shows &gt; Remove User&#39;s Saved Shows</span>
<span class="sd">        &lt;https://developer.spotify.com/documentation/web-api/reference/</span>
<span class="sd">        remove-shows-user&gt;`_: Delete one or more shows from</span>
<span class="sd">        current Spotify user&#39;s library.</span>
<span class="sd">        </span>
<span class="sd">        .. admonition:: Authorization scope</span>
<span class="sd">           :class: warning</span>
<span class="sd">        </span>
<span class="sd">           Requires the :code:`user-library-modify` scope.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        ids : `str` or `list`</span>
<span class="sd">            A (comma-separated) list of the Spotify IDs for the shows. </span>
<span class="sd">            Maximum: 50 IDs.</span>

<span class="sd">            **Example**:</span>
<span class="sd">            :code:`&quot;5CfCWKI5pZ28U0uOzXkDHe,5as3aKmN2k11yfDDDSrvaZ&quot;`.</span>

<span class="sd">        market : `str`, keyword-only, optional</span>
<span class="sd">            An ISO 3166-1 alpha-2 country code. If a country code is</span>
<span class="sd">            specified, only content that is available in that market</span>
<span class="sd">            will be returned. If a valid user access token is specified</span>
<span class="sd">            in the request header, the country associated with the user</span>
<span class="sd">            account will take priority over this parameter.</span>

<span class="sd">            .. note::</span>

<span class="sd">               If neither market or user country are provided, the </span>
<span class="sd">               content is considered unavailable for the client.</span>
<span class="sd">            </span>
<span class="sd">            **Example**: :code:`&quot;ES&quot;`.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_check_scope</span><span class="p">(</span><span class="s2">&quot;remove_saved_shows&quot;</span><span class="p">,</span> <span class="s2">&quot;user-library-modify&quot;</span><span class="p">)</span>
            
        <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span><span class="s2">&quot;delete&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/me/shows&quot;</span><span class="p">,</span>
                      <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;ids&quot;</span><span class="p">:</span> <span class="n">ids</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ids</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> 
                                     <span class="k">else</span> <span class="s2">&quot;,&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">ids</span><span class="p">),</span>
                              <span class="s2">&quot;market&quot;</span><span class="p">:</span> <span class="n">market</span><span class="p">})</span></div>


<div class="viewcode-block" id="WebAPI.check_saved_shows">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.check_saved_shows">[docs]</a>
    <span class="k">def</span> <span class="nf">check_saved_shows</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ids</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">bool</span><span class="p">]:</span>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Shows &gt; Check User&#39;s Saved Shows</span>
<span class="sd">        &lt;https://developer.spotify.com/documentation/web-api/reference/</span>
<span class="sd">        check-users-saved-shows&gt;`_: Check if one or more</span>
<span class="sd">        shows is already saved in the current Spotify user&#39;s library.</span>
<span class="sd">        </span>
<span class="sd">        .. admonition:: Authorization scope</span>
<span class="sd">           :class: warning</span>
<span class="sd">        </span>
<span class="sd">           Requires the :code:`user-library-read` scope.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        ids : `str` or `list`</span>
<span class="sd">            A (comma-separated) list of the Spotify IDs for the shows.</span>
<span class="sd">            </span>
<span class="sd">            **Maximum**: 50 IDs.</span>

<span class="sd">            **Example**:</span>
<span class="sd">            :code:`&quot;5CfCWKI5pZ28U0uOzXkDHe,5as3aKmN2k11yfDDDSrvaZ&quot;`.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        contains : `list`</span>
<span class="sd">            Array of booleans specifying whether the shows are found in</span>
<span class="sd">            the user&#39;s saved shows.</span>

<span class="sd">            **Example**: :code:`[False, True]`.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_check_scope</span><span class="p">(</span><span class="s2">&quot;check_saved_shows&quot;</span><span class="p">,</span> <span class="s2">&quot;user-library-read&quot;</span><span class="p">)</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_json</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/me/shows/contains&quot;</span><span class="p">,</span>
            <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;ids&quot;</span><span class="p">:</span> <span class="n">ids</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ids</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="k">else</span> <span class="s2">&quot;,&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">ids</span><span class="p">)}</span>
        <span class="p">)</span></div>


    <span class="c1">### TRACKS ################################################################</span>

<div class="viewcode-block" id="WebAPI.get_track">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.get_track">[docs]</a>
    <span class="k">def</span> <span class="nf">get_track</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">market</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Tracks &gt; Get Track &lt;https://developer.spotify.com/</span>
<span class="sd">        documentation/web-api/reference/get-track&gt;`_: Get</span>
<span class="sd">        Spotify catalog information for a single track identified by its</span>
<span class="sd">        unique Spotify ID.</span>
<span class="sd">    </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        id : `str`</span>
<span class="sd">            The Spotify ID for the track.</span>

<span class="sd">            **Example**: :code:`&quot;11dFghVXANMlKmJXsNCbNl&quot;`.</span>

<span class="sd">        market : `str`, keyword-only, optional</span>
<span class="sd">            An ISO 3166-1 alpha-2 country code. If a country code is</span>
<span class="sd">            specified, only content that is available in that market</span>
<span class="sd">            will be returned. If a valid user access token is specified</span>
<span class="sd">            in the request header, the country associated with the user</span>
<span class="sd">            account will take priority over this parameter.</span>

<span class="sd">            .. note::</span>
<span class="sd">               If neither market or user country are provided, the </span>
<span class="sd">               content is considered unavailable for the client.</span>
<span class="sd">            </span>
<span class="sd">            **Example**: :code:`&quot;ES&quot;`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        track : `dict`</span>
<span class="sd">            Spotify catalog information for a single track.</span>

<span class="sd">            .. admonition:: Sample response</span>
<span class="sd">               :class: dropdown</span>

<span class="sd">               .. code::</span>

<span class="sd">                  {</span>
<span class="sd">                    &quot;album&quot;: {</span>
<span class="sd">                      &quot;album_type&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;total_tracks&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;available_markets&quot;: [&lt;str&gt;],</span>
<span class="sd">                      &quot;external_urls&quot;: {</span>
<span class="sd">                        &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                      },</span>
<span class="sd">                      &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;images&quot;: [</span>
<span class="sd">                        {</span>
<span class="sd">                          &quot;url&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;height&quot;: &lt;int&gt;,</span>
<span class="sd">                          &quot;width&quot;: &lt;int&gt;</span>
<span class="sd">                        }</span>
<span class="sd">                      ],</span>
<span class="sd">                      &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;release_date&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;release_date_precision&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;restrictions&quot;: {</span>
<span class="sd">                        &quot;reason&quot;: &lt;str&gt;</span>
<span class="sd">                      },</span>
<span class="sd">                      &quot;type&quot;: &quot;album&quot;,</span>
<span class="sd">                      &quot;uri&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;copyrights&quot;: [</span>
<span class="sd">                        {</span>
<span class="sd">                          &quot;text&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;type&quot;: &lt;str&gt;</span>
<span class="sd">                        }</span>
<span class="sd">                      ],</span>
<span class="sd">                      &quot;external_ids&quot;: {</span>
<span class="sd">                        &quot;isrc&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;ean&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;upc&quot;: &lt;str&gt;</span>
<span class="sd">                      },</span>
<span class="sd">                      &quot;genres&quot;: [&lt;str&gt;],</span>
<span class="sd">                      &quot;label&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;popularity&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;album_group&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;artists&quot;: [</span>
<span class="sd">                        {</span>
<span class="sd">                          &quot;external_urls&quot;: {</span>
<span class="sd">                            &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;type&quot;: &quot;artist&quot;,</span>
<span class="sd">                          &quot;uri&quot;: &lt;str&gt;</span>
<span class="sd">                        }</span>
<span class="sd">                      ]</span>
<span class="sd">                    },</span>
<span class="sd">                    &quot;artists&quot;: [</span>
<span class="sd">                      {</span>
<span class="sd">                        &quot;external_urls&quot;: {</span>
<span class="sd">                          &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                        },</span>
<span class="sd">                        &quot;followers&quot;: {</span>
<span class="sd">                          &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;total&quot;: &lt;int&gt;</span>
<span class="sd">                        },</span>
<span class="sd">                        &quot;genres&quot;: [&lt;str&gt;],</span>
<span class="sd">                        &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;images&quot;: [</span>
<span class="sd">                          {</span>
<span class="sd">                            &quot;url&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;height&quot;: &lt;int&gt;,</span>
<span class="sd">                            &quot;width&quot;: &lt;int&gt;</span>
<span class="sd">                          }</span>
<span class="sd">                        ],</span>
<span class="sd">                        &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;popularity&quot;: &lt;int&gt;,</span>
<span class="sd">                        &quot;type&quot;: &quot;artist&quot;,</span>
<span class="sd">                        &quot;uri&quot;: &lt;str&gt;</span>
<span class="sd">                      }</span>
<span class="sd">                    ],</span>
<span class="sd">                    &quot;available_markets&quot;: [&lt;str&gt;],</span>
<span class="sd">                    &quot;disc_number&quot;: &lt;int&gt;,</span>
<span class="sd">                    &quot;duration_ms&quot;: &lt;int&gt;,</span>
<span class="sd">                    &quot;explicit&quot;: &lt;bool&gt;,</span>
<span class="sd">                    &quot;external_ids&quot;: {</span>
<span class="sd">                      &quot;isrc&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;ean&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;upc&quot;: &lt;str&gt;</span>
<span class="sd">                    },</span>
<span class="sd">                    &quot;external_urls&quot;: {</span>
<span class="sd">                      &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                    },</span>
<span class="sd">                    &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;is_playable&quot;: &lt;bool&gt;</span>
<span class="sd">                    &quot;linked_from&quot;: {</span>
<span class="sd">                    },</span>
<span class="sd">                    &quot;restrictions&quot;: {</span>
<span class="sd">                      &quot;reason&quot;: &lt;str&gt;</span>
<span class="sd">                    },</span>
<span class="sd">                    &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;popularity&quot;: &lt;int&gt;,</span>
<span class="sd">                    &quot;preview_url&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;track_number&quot;: &lt;int&gt;,</span>
<span class="sd">                    &quot;type&quot;: &quot;track&quot;,</span>
<span class="sd">                    &quot;uri&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;is_local&quot;: &lt;bool&gt;</span>
<span class="sd">                  }</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_json</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/tracks/</span><span class="si">{</span><span class="nb">id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                             <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;market&quot;</span><span class="p">:</span> <span class="n">market</span><span class="p">})</span></div>

    
<div class="viewcode-block" id="WebAPI.get_tracks">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.get_tracks">[docs]</a>
    <span class="k">def</span> <span class="nf">get_tracks</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="n">ids</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]],</span> <span class="o">*</span><span class="p">,</span>
            <span class="n">market</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Tracks &gt; Get Several Tracks &lt;https://developer.spotify.com/</span>
<span class="sd">        documentation/web-api/reference/</span>
<span class="sd">        get-several-tracks&gt;`_: Get Spotify catalog information for</span>
<span class="sd">        multiple tracks based on their Spotify IDs.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        ids : `int`, `str`, or `list`</span>
<span class="sd">            A (comma-separated) list of the Spotify IDs for the tracks.</span>
<span class="sd">            </span>
<span class="sd">            **Maximum**: 50 IDs.</span>

<span class="sd">            **Example**: :code:`&quot;7ouMYWpwJ422jRcDASZB7P,</span>
<span class="sd">            4VqPOruhp5EdPBeR92t6lQ, 2takcwOaAZWiXQijPHIx7B&quot;`.</span>

<span class="sd">        market : `str`, keyword-only, optional</span>
<span class="sd">            An ISO 3166-1 alpha-2 country code. If a country code is</span>
<span class="sd">            specified, only content that is available in that market</span>
<span class="sd">            will be returned. If a valid user access token is specified</span>
<span class="sd">            in the request header, the country associated with the user</span>
<span class="sd">            account will take priority over this parameter.</span>

<span class="sd">            .. note::</span>

<span class="sd">               If neither market or user country are provided, the </span>
<span class="sd">               content is considered unavailable for the client.</span>
<span class="sd">            </span>
<span class="sd">            **Example**: :code:`&quot;ES&quot;`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        tracks : `dict` or `list`</span>
<span class="sd">            A list containing Spotify catalog information for multiple</span>
<span class="sd">            tracks.</span>

<span class="sd">            .. admonition:: Sample response</span>
<span class="sd">               :class: dropdown</span>

<span class="sd">               .. code::</span>

<span class="sd">                  [</span>
<span class="sd">                    {</span>
<span class="sd">                      &quot;album&quot;: {</span>
<span class="sd">                        &quot;album_type&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;total_tracks&quot;: &lt;int&gt;,</span>
<span class="sd">                        &quot;available_markets&quot;: [&lt;str&gt;],</span>
<span class="sd">                        &quot;external_urls&quot;: {</span>
<span class="sd">                          &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                        },</span>
<span class="sd">                        &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;images&quot;: [</span>
<span class="sd">                          {</span>
<span class="sd">                            &quot;url&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;height&quot;: &lt;int&gt;,</span>
<span class="sd">                            &quot;width&quot;: &lt;int&gt;</span>
<span class="sd">                          }</span>
<span class="sd">                        ],</span>
<span class="sd">                        &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;release_date&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;release_date_precision&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;restrictions&quot;: {</span>
<span class="sd">                          &quot;reason&quot;: &lt;str&gt;</span>
<span class="sd">                        },</span>
<span class="sd">                        &quot;type&quot;: &quot;album&quot;,</span>
<span class="sd">                        &quot;uri&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;copyrights&quot;: [</span>
<span class="sd">                          {</span>
<span class="sd">                            &quot;text&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;type&quot;: &lt;str&gt;</span>
<span class="sd">                          }</span>
<span class="sd">                        ],</span>
<span class="sd">                        &quot;external_ids&quot;: {</span>
<span class="sd">                          &quot;isrc&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;ean&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;upc&quot;: &lt;str&gt;</span>
<span class="sd">                        },</span>
<span class="sd">                        &quot;genres&quot;: [&lt;str&gt;],</span>
<span class="sd">                        &quot;label&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;popularity&quot;: &lt;int&gt;,</span>
<span class="sd">                        &quot;album_group&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;artists&quot;: [</span>
<span class="sd">                          {</span>
<span class="sd">                            &quot;external_urls&quot;: {</span>
<span class="sd">                              &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                            },</span>
<span class="sd">                            &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;type&quot;: &quot;artist&quot;,</span>
<span class="sd">                            &quot;uri&quot;: &lt;str&gt;</span>
<span class="sd">                          }</span>
<span class="sd">                        ]</span>
<span class="sd">                      },</span>
<span class="sd">                      &quot;artists&quot;: [</span>
<span class="sd">                        {</span>
<span class="sd">                          &quot;external_urls&quot;: {</span>
<span class="sd">                            &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;followers&quot;: {</span>
<span class="sd">                            &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;total&quot;: &lt;int&gt;</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;genres&quot;: [&lt;str&gt;],</span>
<span class="sd">                          &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;images&quot;: [</span>
<span class="sd">                            {</span>
<span class="sd">                              &quot;url&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;height&quot;: &lt;int&gt;,</span>
<span class="sd">                              &quot;width&quot;: &lt;int&gt;</span>
<span class="sd">                            }</span>
<span class="sd">                          ],</span>
<span class="sd">                          &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;popularity&quot;: &lt;int&gt;,</span>
<span class="sd">                          &quot;type&quot;: &quot;artist&quot;,</span>
<span class="sd">                          &quot;uri&quot;: &lt;str&gt;</span>
<span class="sd">                        }</span>
<span class="sd">                      ],</span>
<span class="sd">                      &quot;available_markets&quot;: [&lt;str&gt;],</span>
<span class="sd">                      &quot;disc_number&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;duration_ms&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;explicit&quot;: &lt;bool&gt;,</span>
<span class="sd">                      &quot;external_ids&quot;: {</span>
<span class="sd">                        &quot;isrc&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;ean&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;upc&quot;: &lt;str&gt;</span>
<span class="sd">                      },</span>
<span class="sd">                      &quot;external_urls&quot;: {</span>
<span class="sd">                        &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                      },</span>
<span class="sd">                      &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;is_playable&quot;: &lt;bool&gt;</span>
<span class="sd">                      &quot;linked_from&quot;: {</span>
<span class="sd">                      },</span>
<span class="sd">                      &quot;restrictions&quot;: {</span>
<span class="sd">                        &quot;reason&quot;: &lt;str&gt;</span>
<span class="sd">                      },</span>
<span class="sd">                      &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;popularity&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;preview_url&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;track_number&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;type&quot;: &quot;track&quot;,</span>
<span class="sd">                      &quot;uri&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;is_local&quot;: &lt;bool&gt;</span>
<span class="sd">                    }</span>
<span class="sd">                  ]</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_json</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/tracks&quot;</span><span class="p">,</span>
            <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;ids&quot;</span><span class="p">:</span> <span class="n">ids</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ids</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="k">else</span> <span class="s2">&quot;,&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">ids</span><span class="p">),</span>
                    <span class="s2">&quot;market&quot;</span><span class="p">:</span> <span class="n">market</span><span class="p">}</span>
        <span class="p">)[</span><span class="s2">&quot;tracks&quot;</span><span class="p">]</span></div>


<div class="viewcode-block" id="WebAPI.get_saved_tracks">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.get_saved_tracks">[docs]</a>
    <span class="k">def</span> <span class="nf">get_saved_tracks</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">market</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">offset</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Tracks &gt; Get User&#39;s Saved Tracks </span>
<span class="sd">        &lt;https://developer.spotify.com/documentation/web-api/reference/</span>
<span class="sd">        get-users-saved-tracks&gt;`_: Get a list of the songs</span>
<span class="sd">        saved in the current Spotify user&#39;s &#39;Your Music&#39; library.</span>
<span class="sd">        </span>
<span class="sd">        .. admonition:: Authorization scope</span>
<span class="sd">           :class: warning</span>
<span class="sd">        </span>
<span class="sd">           Requires the :code:`user-library-read` scope.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        limit : `int`, keyword-only, optional</span>
<span class="sd">            The maximum number of results to return in each item type.</span>
<span class="sd">            </span>
<span class="sd">            **Valid values**: `limit` must be between 0 and 50.</span>

<span class="sd">            **Default**: :code:`20`.</span>

<span class="sd">        market : `str`, keyword-only, optional</span>
<span class="sd">            An ISO 3166-1 alpha-2 country code. If a country code is</span>
<span class="sd">            specified, only content that is available in that market</span>
<span class="sd">            will be returned. If a valid user access token is specified</span>
<span class="sd">            in the request header, the country associated with the user</span>
<span class="sd">            account will take priority over this parameter.</span>

<span class="sd">            .. note::</span>

<span class="sd">               If neither market or user country are provided, the </span>
<span class="sd">               content is considered unavailable for the client.</span>
<span class="sd">            </span>
<span class="sd">            **Example**: :code:`&quot;ES&quot;`.</span>

<span class="sd">        offset : `int`, keyword-only, optional</span>
<span class="sd">            The index of the first result to return. Use with `limit` to</span>
<span class="sd">            get the next page of search results. </span>
<span class="sd">            </span>
<span class="sd">            **Valid values**: `offset` must be between 0 and 1,000.</span>

<span class="sd">            **Default**: :code:`0`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        tracks : `dict`</span>
<span class="sd">            A dictionary containing Spotify catalog information for a</span>
<span class="sd">            user&#39;s saved tracks and the number of results returned.</span>

<span class="sd">            .. admonition:: Sample response</span>
<span class="sd">               :class: dropdown</span>

<span class="sd">               .. code::</span>

<span class="sd">                  {</span>
<span class="sd">                    &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;limit&quot;: &lt;int&gt;,</span>
<span class="sd">                    &quot;next&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;offset&quot;: &lt;int&gt;,</span>
<span class="sd">                    &quot;previous&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;total&quot;: &lt;int&gt;,</span>
<span class="sd">                    &quot;items&quot;: [</span>
<span class="sd">                      {</span>
<span class="sd">                        &quot;added_at&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;track&quot;: {</span>
<span class="sd">                          &quot;album&quot;: {</span>
<span class="sd">                            &quot;album_type&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;total_tracks&quot;: &lt;int&gt;,</span>
<span class="sd">                            &quot;available_markets&quot;: [&lt;str&gt;],</span>
<span class="sd">                            &quot;external_urls&quot;: {</span>
<span class="sd">                              &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                            },</span>
<span class="sd">                            &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;images&quot;: [</span>
<span class="sd">                              {</span>
<span class="sd">                                &quot;url&quot;: &lt;str&gt;,</span>
<span class="sd">                                &quot;height&quot;: &lt;int&gt;,</span>
<span class="sd">                                &quot;width&quot;: &lt;int&gt;</span>
<span class="sd">                              }</span>
<span class="sd">                            ],</span>
<span class="sd">                            &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;release_date&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;release_date_precision&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;restrictions&quot;: {</span>
<span class="sd">                              &quot;reason&quot;: &lt;str&gt;</span>
<span class="sd">                            },</span>
<span class="sd">                            &quot;type&quot;: &quot;album&quot;,</span>
<span class="sd">                            &quot;uri&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;copyrights&quot;: [</span>
<span class="sd">                              {</span>
<span class="sd">                                &quot;text&quot;: &lt;str&gt;,</span>
<span class="sd">                                &quot;type&quot;: &lt;str&gt;</span>
<span class="sd">                              }</span>
<span class="sd">                            ],</span>
<span class="sd">                            &quot;external_ids&quot;: {</span>
<span class="sd">                              &quot;isrc&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;ean&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;upc&quot;: &lt;str&gt;</span>
<span class="sd">                            },</span>
<span class="sd">                            &quot;genres&quot;: [&lt;str&gt;],</span>
<span class="sd">                            &quot;label&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;popularity&quot;: &lt;int&gt;,</span>
<span class="sd">                            &quot;album_group&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;artists&quot;: [</span>
<span class="sd">                              {</span>
<span class="sd">                                &quot;external_urls&quot;: {</span>
<span class="sd">                                  &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                                },</span>
<span class="sd">                                &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                                &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                                &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                                &quot;type&quot;: &quot;artist&quot;,</span>
<span class="sd">                                &quot;uri&quot;: &lt;str&gt;</span>
<span class="sd">                              }</span>
<span class="sd">                            ]</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;artists&quot;: [</span>
<span class="sd">                            {</span>
<span class="sd">                              &quot;external_urls&quot;: {</span>
<span class="sd">                                &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                              },</span>
<span class="sd">                              &quot;followers&quot;: {</span>
<span class="sd">                                &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                                &quot;total&quot;: &lt;int&gt;</span>
<span class="sd">                              },</span>
<span class="sd">                              &quot;genres&quot;: [&lt;str&gt;],</span>
<span class="sd">                              &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;images&quot;: [</span>
<span class="sd">                                {</span>
<span class="sd">                                  &quot;url&quot;: &lt;str&gt;,</span>
<span class="sd">                                  &quot;height&quot;: &lt;int&gt;,</span>
<span class="sd">                                  &quot;width&quot;: &lt;int&gt;</span>
<span class="sd">                                }</span>
<span class="sd">                              ],</span>
<span class="sd">                              &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;popularity&quot;: &lt;int&gt;,</span>
<span class="sd">                              &quot;type&quot;: &quot;artist&quot;,</span>
<span class="sd">                              &quot;uri&quot;: &lt;str&gt;</span>
<span class="sd">                            }</span>
<span class="sd">                          ],</span>
<span class="sd">                          &quot;available_markets&quot;: [&lt;str&gt;],</span>
<span class="sd">                          &quot;disc_number&quot;: &lt;int&gt;,</span>
<span class="sd">                          &quot;duration_ms&quot;: &lt;int&gt;,</span>
<span class="sd">                          &quot;explicit&quot;: &lt;bool&gt;,</span>
<span class="sd">                          &quot;external_ids&quot;: {</span>
<span class="sd">                            &quot;isrc&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;ean&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;upc&quot;: &lt;str&gt;</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;external_urls&quot;: {</span>
<span class="sd">                            &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;is_playable&quot;: &lt;bool&gt;</span>
<span class="sd">                          &quot;linked_from&quot;: {</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;restrictions&quot;: {</span>
<span class="sd">                            &quot;reason&quot;: &lt;str&gt;</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;popularity&quot;: &lt;int&gt;,</span>
<span class="sd">                          &quot;preview_url&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;track_number&quot;: &lt;int&gt;,</span>
<span class="sd">                          &quot;type&quot;: &quot;track&quot;,</span>
<span class="sd">                          &quot;uri&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;is_local&quot;: &lt;bool&gt;</span>
<span class="sd">                        }</span>
<span class="sd">                      }</span>
<span class="sd">                    ]</span>
<span class="sd">                  }</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_check_scope</span><span class="p">(</span><span class="s2">&quot;get_saved_tracks&quot;</span><span class="p">,</span> <span class="s2">&quot;user-library-read&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_json</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/me/tracks&quot;</span><span class="p">,</span>
            <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="n">limit</span><span class="p">,</span> <span class="s2">&quot;market&quot;</span><span class="p">:</span> <span class="n">market</span><span class="p">,</span> <span class="s2">&quot;offset&quot;</span><span class="p">:</span> <span class="n">offset</span><span class="p">}</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="WebAPI.save_tracks">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.save_tracks">[docs]</a>
    <span class="k">def</span> <span class="nf">save_tracks</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ids</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Tracks &gt; Save Track for Current User </span>
<span class="sd">        &lt;https://developer.spotify.com/documentation/web-api/reference/</span>
<span class="sd">        save-tracks-user&gt;`_: Save one or more tracks to the</span>
<span class="sd">        current user&#39;s &#39;Your Music&#39; library.</span>
<span class="sd">        </span>
<span class="sd">        .. admonition:: Authorization scope</span>
<span class="sd">           :class: warning</span>
<span class="sd">        </span>
<span class="sd">           Requires the :code:`user-library-modify` scope.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        ids : `str` or `list`</span>
<span class="sd">            A (comma-separated) list of the Spotify IDs for the tracks.</span>
<span class="sd">            </span>
<span class="sd">            **Maximum**: 50 IDs.</span>

<span class="sd">            **Example**: :code:`&quot;7ouMYWpwJ422jRcDASZB7P,</span>
<span class="sd">            4VqPOruhp5EdPBeR92t6lQ, 2takcwOaAZWiXQijPHIx7B&quot;`.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_check_scope</span><span class="p">(</span><span class="s2">&quot;save_tracks&quot;</span><span class="p">,</span> <span class="s2">&quot;user-library-modify&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ids</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span><span class="s2">&quot;put&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/me/tracks&quot;</span><span class="p">,</span>
                          <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;ids&quot;</span><span class="p">:</span> <span class="n">ids</span><span class="p">})</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ids</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span><span class="s2">&quot;put&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/me/tracks&quot;</span><span class="p">,</span> 
                          <span class="n">json</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;ids&quot;</span><span class="p">:</span> <span class="n">ids</span><span class="p">})</span></div>


<div class="viewcode-block" id="WebAPI.remove_saved_tracks">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.remove_saved_tracks">[docs]</a>
    <span class="k">def</span> <span class="nf">remove_saved_tracks</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ids</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Tracks &gt; Remove User&#39;s Saved Tracks</span>
<span class="sd">        &lt;https://developer.spotify.com/documentation/web-api/reference/</span>
<span class="sd">        remove-tracks-user&gt;`_: Remove one or more tracks</span>
<span class="sd">        from the current user&#39;s &#39;Your Music&#39; library.</span>
<span class="sd">        </span>
<span class="sd">        .. admonition:: Authorization scope</span>
<span class="sd">           :class: warning</span>
<span class="sd">        </span>
<span class="sd">           Requires the :code:`user-library-modify` scope.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        ids : `str` or `list`</span>
<span class="sd">            A (comma-separated) list of the Spotify IDs for the tracks.</span>
<span class="sd">            </span>
<span class="sd">            **Maximum**: 50 IDs.</span>

<span class="sd">            **Example**: :code:`&quot;7ouMYWpwJ422jRcDASZB7P,</span>
<span class="sd">            4VqPOruhp5EdPBeR92t6lQ, 2takcwOaAZWiXQijPHIx7B&quot;`.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_check_scope</span><span class="p">(</span><span class="s2">&quot;remove_saved_tracks&quot;</span><span class="p">,</span> <span class="s2">&quot;user-library-modify&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ids</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span><span class="s2">&quot;delete&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/me/tracks&quot;</span><span class="p">,</span>
                          <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;ids&quot;</span><span class="p">:</span> <span class="n">ids</span><span class="p">})</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ids</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span><span class="s2">&quot;delete&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/me/tracks&quot;</span><span class="p">,</span> 
                          <span class="n">json</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;ids&quot;</span><span class="p">:</span> <span class="n">ids</span><span class="p">})</span></div>


<div class="viewcode-block" id="WebAPI.check_saved_tracks">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.check_saved_tracks">[docs]</a>
    <span class="k">def</span> <span class="nf">check_saved_tracks</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ids</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">bool</span><span class="p">]:</span>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Tracks &gt; Check User&#39;s Saved Tracks</span>
<span class="sd">        &lt;https://developer.spotify.com/documentation/web-api/reference/</span>
<span class="sd">        check-users-saved-tracks&gt;`_: Check if one or more</span>
<span class="sd">        tracks is already saved in the current Spotify user&#39;s &#39;Your </span>
<span class="sd">        Music&#39; library.</span>
<span class="sd">        </span>
<span class="sd">        .. admonition:: Authorization scope</span>
<span class="sd">           :class: warning</span>
<span class="sd">        </span>
<span class="sd">           Requires the :code:`user-library-read` scope.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        ids : `str` or `list`</span>
<span class="sd">            A (comma-separated) list of the Spotify IDs for the tracks.</span>
<span class="sd">            </span>
<span class="sd">            **Maximum**: 50 IDs.</span>

<span class="sd">            **Example**: :code:`&quot;7ouMYWpwJ422jRcDASZB7P,</span>
<span class="sd">            4VqPOruhp5EdPBeR92t6lQ, 2takcwOaAZWiXQijPHIx7B&quot;`.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        contains : `list`</span>
<span class="sd">            Array of booleans specifying whether the tracks are found in</span>
<span class="sd">            the user&#39;s &#39;Liked Songs&#39;.</span>

<span class="sd">            **Example**: :code:`[False, True]`.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_check_scope</span><span class="p">(</span><span class="s2">&quot;check_saved_tracks&quot;</span><span class="p">,</span> <span class="s2">&quot;user-library-read&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_json</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/me/tracks/contains&quot;</span><span class="p">,</span>
            <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;ids&quot;</span><span class="p">:</span> <span class="n">ids</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ids</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="k">else</span> <span class="s2">&quot;,&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">ids</span><span class="p">)}</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="WebAPI.get_track_audio_features">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.get_track_audio_features">[docs]</a>
    <span class="k">def</span> <span class="nf">get_track_audio_features</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Tracks &gt; Get Track&#39;s Audio Features</span>
<span class="sd">        &lt;https://developer.spotify.com/documentation/web-api/reference/</span>
<span class="sd">        get-audio-features&gt;`_: Get audio feature information for a</span>
<span class="sd">        single track identified by its unique Spotify ID.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        id : `str`</span>
<span class="sd">            The Spotify ID of the track.</span>
<span class="sd">            </span>
<span class="sd">            **Example**: :code:`&quot;11dFghVXANMlKmJXsNCbNl&quot;`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        audio_features : `dict`</span>
<span class="sd">            The track&#39;s audio features.</span>

<span class="sd">            .. admonition:: Sample response</span>
<span class="sd">               :class: dropdown</span>

<span class="sd">               .. code::</span>

<span class="sd">                  {</span>
<span class="sd">                    &quot;acousticness&quot;: &lt;float&gt;,</span>
<span class="sd">                    &quot;analysis_url&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;danceability&quot;: &lt;float&gt;,</span>
<span class="sd">                    &quot;duration_ms&quot;: &lt;int&gt;,</span>
<span class="sd">                    &quot;energy&quot;: &lt;float&gt;,</span>
<span class="sd">                    &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;instrumentalness&quot;: &lt;float&gt;,</span>
<span class="sd">                    &quot;key&quot;: &lt;int&gt;,</span>
<span class="sd">                    &quot;liveness&quot;: &lt;float&gt;,</span>
<span class="sd">                    &quot;loudness&quot;: &lt;float&gt;,</span>
<span class="sd">                    &quot;mode&quot;: &lt;int&gt;,</span>
<span class="sd">                    &quot;speechiness&quot;: &lt;float&gt;,</span>
<span class="sd">                    &quot;tempo&quot;: &lt;float&gt;,</span>
<span class="sd">                    &quot;time_signature&quot;: &lt;int&gt;,</span>
<span class="sd">                    &quot;track_href&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;type&quot;: &quot;audio_features&quot;,</span>
<span class="sd">                    &quot;uri&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;valence&quot;: &lt;float&gt;,</span>
<span class="sd">                  }</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_json</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/audio-features/</span><span class="si">{</span><span class="nb">id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span></div>


<div class="viewcode-block" id="WebAPI.get_tracks_audio_features">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.get_tracks_audio_features">[docs]</a>
    <span class="k">def</span> <span class="nf">get_tracks_audio_features</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="n">ids</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Tracks &gt; Get Tracks&#39; Audio Features</span>
<span class="sd">        &lt;https://developer.spotify.com/documentation/web-api/reference/</span>
<span class="sd">        get-several-audio-features&gt;`_: Get audio features</span>
<span class="sd">        for multiple tracks based on their Spotify IDs.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        ids : `str` or `list`</span>
<span class="sd">            A (comma-separated) list of the Spotify IDs for the tracks.</span>
<span class="sd">            </span>
<span class="sd">            **Maximum**: 100 IDs.</span>

<span class="sd">            **Example**: :code:`&quot;7ouMYWpwJ422jRcDASZB7P,</span>
<span class="sd">            4VqPOruhp5EdPBeR92t6lQ, 2takcwOaAZWiXQijPHIx7B&quot;`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        audio_features : `dict` or `list`</span>
<span class="sd">            A list containing audio features for multiple tracks.</span>

<span class="sd">            .. admonition:: Sample response</span>
<span class="sd">               :class: dropdown</span>

<span class="sd">               .. code::</span>

<span class="sd">                  [</span>
<span class="sd">                    {</span>
<span class="sd">                      &quot;acousticness&quot;: &lt;float&gt;,</span>
<span class="sd">                      &quot;analysis_url&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;danceability&quot;: &lt;float&gt;,</span>
<span class="sd">                      &quot;duration_ms&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;energy&quot;: &lt;float&gt;,</span>
<span class="sd">                      &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;instrumentalness&quot;: &lt;float&gt;,</span>
<span class="sd">                      &quot;key&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;liveness&quot;: &lt;float&gt;,</span>
<span class="sd">                      &quot;loudness&quot;: &lt;float&gt;,</span>
<span class="sd">                      &quot;mode&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;speechiness&quot;: &lt;float&gt;,</span>
<span class="sd">                      &quot;tempo&quot;: &lt;float&gt;,</span>
<span class="sd">                      &quot;time_signature&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;track_href&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;type&quot;: &quot;audio_features&quot;,</span>
<span class="sd">                      &quot;uri&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;valence&quot;: &lt;float&gt;,</span>
<span class="sd">                    }</span>
<span class="sd">                  ]</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_json</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/audio-features&quot;</span><span class="p">,</span>
            <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;ids&quot;</span><span class="p">:</span> <span class="n">ids</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ids</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="k">else</span> <span class="s2">&quot;,&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">ids</span><span class="p">)}</span>
        <span class="p">)[</span><span class="s2">&quot;audio_features&quot;</span><span class="p">]</span></div>


<div class="viewcode-block" id="WebAPI.get_track_audio_analysis">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.get_track_audio_analysis">[docs]</a>
    <span class="k">def</span> <span class="nf">get_track_audio_analysis</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Tracks &gt; Get Track&#39;s Audio Analysis</span>
<span class="sd">        &lt;https://developer.spotify.com/documentation/web-api/reference/</span>
<span class="sd">        get-audio-analysis&gt;`_: Get a low-level audio</span>
<span class="sd">        analysis for a track in the Spotify catalog. The audio analysis</span>
<span class="sd">        describes the track&#39;s structure and musical content, including</span>
<span class="sd">        rhythm, pitch, and timbre.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        id : `str`</span>
<span class="sd">            The Spotify ID of the track.</span>
<span class="sd">            </span>
<span class="sd">            **Example**: :code:`&quot;11dFghVXANMlKmJXsNCbNl&quot;`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        audio_analysis : `dict`</span>
<span class="sd">            The track&#39;s audio analysis.</span>

<span class="sd">            .. admonition:: Sample response</span>
<span class="sd">               :class: dropdown</span>

<span class="sd">               .. code::</span>

<span class="sd">                  {</span>
<span class="sd">                    &quot;meta&quot;: {</span>
<span class="sd">                      &quot;analyzer_version&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;platform&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;detailed_status&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;status_code&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;timestamp&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;analysis_time&quot;: &lt;float&gt;,</span>
<span class="sd">                      &quot;input_process&quot;: &lt;str&gt;</span>
<span class="sd">                    },</span>
<span class="sd">                    &quot;track&quot;: {</span>
<span class="sd">                      &quot;num_samples&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;duration&quot;: &lt;float&gt;,</span>
<span class="sd">                      &quot;sample_md5&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;offset_seconds&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;window_seconds&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;analysis_sample_rate&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;analysis_channels&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;end_of_fade_in&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;start_of_fade_out&quot;: &lt;float&gt;,</span>
<span class="sd">                      &quot;loudness&quot;: &lt;float&gt;,</span>
<span class="sd">                      &quot;tempo&quot;: &lt;float&gt;,</span>
<span class="sd">                      &quot;tempo_confidence&quot;: &lt;float&gt;,</span>
<span class="sd">                      &quot;time_signature&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;time_signature_confidence&quot;: &lt;float&gt;,</span>
<span class="sd">                      &quot;key&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;key_confidence&quot;: &lt;float&gt;,</span>
<span class="sd">                      &quot;mode&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;mode_confidence&quot;: &lt;float&gt;,</span>
<span class="sd">                      &quot;codestring&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;code_version&quot;: &lt;float&gt;,</span>
<span class="sd">                      &quot;echoprintstring&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;echoprint_version&quot;: &lt;float&gt;,</span>
<span class="sd">                      &quot;synchstring&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;synch_version&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;rhythmstring&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;rhythm_version&quot;: &lt;int&gt;</span>
<span class="sd">                    },</span>
<span class="sd">                    &quot;bars&quot;: [</span>
<span class="sd">                      {</span>
<span class="sd">                        &quot;start&quot;: &lt;float&gt;,</span>
<span class="sd">                        &quot;duration&quot;: &lt;float&gt;,</span>
<span class="sd">                        &quot;confidence&quot;: &lt;float&gt;</span>
<span class="sd">                      }</span>
<span class="sd">                    ],</span>
<span class="sd">                    &quot;beats&quot;: [</span>
<span class="sd">                      {</span>
<span class="sd">                        &quot;start&quot;: &lt;float&gt;,</span>
<span class="sd">                        &quot;duration&quot;: &lt;float&gt;,</span>
<span class="sd">                        &quot;confidence&quot;: &lt;float&gt;</span>
<span class="sd">                      }</span>
<span class="sd">                    ],</span>
<span class="sd">                    &quot;sections&quot;: [</span>
<span class="sd">                      {</span>
<span class="sd">                        &quot;start&quot;: &lt;float&gt;,</span>
<span class="sd">                        &quot;duration&quot;: &lt;float&gt;,</span>
<span class="sd">                        &quot;confidence&quot;: &lt;float&gt;,</span>
<span class="sd">                        &quot;loudness&quot;: &lt;float&gt;,</span>
<span class="sd">                        &quot;tempo&quot;: &lt;float&gt;,</span>
<span class="sd">                        &quot;tempo_confidence&quot;: &lt;float&gt;,</span>
<span class="sd">                        &quot;key&quot;: &lt;int&gt;,</span>
<span class="sd">                        &quot;key_confidence&quot;: &lt;float&gt;,</span>
<span class="sd">                        &quot;mode&quot;: &lt;int&gt;,</span>
<span class="sd">                        &quot;mode_confidence&quot;: &lt;float&gt;,</span>
<span class="sd">                        &quot;time_signature&quot;: &lt;int&gt;,</span>
<span class="sd">                        &quot;time_signature_confidence&quot;: &lt;float&gt;</span>
<span class="sd">                      }</span>
<span class="sd">                    ],</span>
<span class="sd">                    &quot;segments&quot;: [</span>
<span class="sd">                      {</span>
<span class="sd">                        &quot;start&quot;: &lt;float&gt;,</span>
<span class="sd">                        &quot;duration&quot;: &lt;float&gt;,</span>
<span class="sd">                        &quot;confidence&quot;: &lt;float&gt;,</span>
<span class="sd">                        &quot;loudness_start&quot;: &lt;float&gt;,</span>
<span class="sd">                        &quot;loudness_max&quot;: &lt;float&gt;,</span>
<span class="sd">                        &quot;loudness_max_time&quot;: &lt;float&gt;,</span>
<span class="sd">                        &quot;loudness_end&quot;: &lt;int&gt;,</span>
<span class="sd">                        &quot;pitches&quot;: [&lt;float&gt;],</span>
<span class="sd">                        &quot;timbre&quot;: [&lt;float&gt;]</span>
<span class="sd">                      }</span>
<span class="sd">                    ],</span>
<span class="sd">                    &quot;tatums&quot;: [</span>
<span class="sd">                      {</span>
<span class="sd">                        &quot;start&quot;: &lt;float&gt;,</span>
<span class="sd">                        &quot;duration&quot;: &lt;float&gt;,</span>
<span class="sd">                        &quot;confidence&quot;: &lt;float&gt;</span>
<span class="sd">                      }</span>
<span class="sd">                    ]</span>
<span class="sd">                  }</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_json</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/audio-analysis/</span><span class="si">{</span><span class="nb">id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span></div>


<div class="viewcode-block" id="WebAPI.get_recommendations">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.get_recommendations">[docs]</a>
    <span class="k">def</span> <span class="nf">get_recommendations</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="n">seed_artists</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">seed_genres</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">seed_tracks</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">market</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Tracks &gt; Get Recommendations &lt;https://developer.spotify.com/</span>
<span class="sd">        documentation/web-api/reference/</span>
<span class="sd">        get-recommendations&gt;`_: Recommendations are generated based on</span>
<span class="sd">        the available information for a given seed entity and matched</span>
<span class="sd">        against similar artists and tracks. If there is sufficient</span>
<span class="sd">        information about the provided seeds, a list of tracks will be</span>
<span class="sd">        returned together with pool size details. </span>
<span class="sd">        </span>
<span class="sd">        For artists and tracks that are very new or obscure, there might</span>
<span class="sd">        not be enough data to generate a list of tracks.</span>

<span class="sd">        .. important::</span>

<span class="sd">           Spotify content may not be used to train machine learning or</span>
<span class="sd">           AI models.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        seed_artists : `str`, optional</span>
<span class="sd">            A comma separated list of Spotify IDs for seed artists. </span>
<span class="sd">            </span>
<span class="sd">            **Maximum**: Up to 5 seed values may be provided in any</span>
<span class="sd">            combination of `seed_artists`, `seed_tracks`, and </span>
<span class="sd">            `seed_genres`.</span>

<span class="sd">            **Example**: :code:`&quot;4NHQUGzhtTLFvgF5SZesLK&quot;`.</span>

<span class="sd">        seed_genres : `str`, optional</span>
<span class="sd">            A comma separated list of any genres in the set of available</span>
<span class="sd">            genre seeds.</span>

<span class="sd">            **Maximum**: Up to 5 seed values may be provided in any</span>
<span class="sd">            combination of `seed_artists`, `seed_tracks`, and </span>
<span class="sd">            `seed_genres`.</span>

<span class="sd">            **Example**: :code:`&quot;classical,country&quot;`.</span>

<span class="sd">        seed_tracks : `str`, optional</span>
<span class="sd">            A comma separated list of Spotify IDs for a seed track. </span>
<span class="sd">            </span>
<span class="sd">            **Maximum**: Up to 5 seed values may be provided in any</span>
<span class="sd">            combination of `seed_artists`, `seed_tracks`, and </span>
<span class="sd">            `seed_genres`.</span>

<span class="sd">            **Example**: :code:`&quot;0c6xIDDpzE81m2q797ordA&quot;`.</span>

<span class="sd">        limit : `int`, keyword-only, optional</span>
<span class="sd">            The target size of the list of recommended tracks. For seeds</span>
<span class="sd">            with unusually small pools or when highly restrictive</span>
<span class="sd">            filtering is applied, it may be impossible to generate the</span>
<span class="sd">            requested number of recommended tracks. Debugging</span>
<span class="sd">            information for such cases is available in the response.</span>
<span class="sd">            </span>
<span class="sd">            **Minimum**: :code:`1`. </span>
<span class="sd">            </span>
<span class="sd">            **Maximum**: :code:`100`.</span>

<span class="sd">            **Default**: :code:`20`.</span>

<span class="sd">        market : `str`, keyword-only, optional</span>
<span class="sd">            An ISO 3166-1 alpha-2 country code. If a country code is</span>
<span class="sd">            specified, only content that is available in that market</span>
<span class="sd">            will be returned. If a valid user access token is specified</span>
<span class="sd">            in the request header, the country associated with the user</span>
<span class="sd">            account will take priority over this parameter.</span>

<span class="sd">            .. note::</span>

<span class="sd">               If neither market or user country are provided, the </span>
<span class="sd">               content is considered unavailable for the client.</span>
<span class="sd">            </span>
<span class="sd">            **Example**: :code:`&quot;ES&quot;`.</span>

<span class="sd">        **kwargs</span>
<span class="sd">            Tunable track attributes. For a list of available options,</span>
<span class="sd">            see the `Spotify Web API Reference page for this endpoint</span>
<span class="sd">            &lt;https://developer.spotify.com/documentation/web-api/</span>
<span class="sd">            reference/get-recommendations&gt;`_.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        tracks : `dict`</span>
<span class="sd">            A dictionary containing Spotify catalog information for the</span>
<span class="sd">            recommended tracks.</span>

<span class="sd">            .. admonition:: Sample response</span>
<span class="sd">               :class: dropdown</span>

<span class="sd">               .. code::</span>

<span class="sd">                  {</span>
<span class="sd">                    &quot;seeds&quot;: [</span>
<span class="sd">                      {</span>
<span class="sd">                        &quot;afterFilteringSize&quot;: &lt;int&gt;,</span>
<span class="sd">                        &quot;afterRelinkingSize&quot;: &lt;int&gt;,</span>
<span class="sd">                        &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;initialPoolSize&quot;: &lt;int&gt;,</span>
<span class="sd">                        &quot;type&quot;: &lt;str&gt;</span>
<span class="sd">                      }</span>
<span class="sd">                    ],</span>
<span class="sd">                    &quot;tracks&quot;: [</span>
<span class="sd">                      {</span>
<span class="sd">                        &quot;album&quot;: {</span>
<span class="sd">                          &quot;album_type&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;total_tracks&quot;: &lt;int&gt;,</span>
<span class="sd">                          &quot;available_markets&quot;: [&lt;str&gt;],</span>
<span class="sd">                          &quot;external_urls&quot;: {</span>
<span class="sd">                            &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;images&quot;: [</span>
<span class="sd">                            {</span>
<span class="sd">                              &quot;url&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;height&quot;: &lt;int&gt;,</span>
<span class="sd">                              &quot;width&quot;: &lt;int&gt;</span>
<span class="sd">                            }</span>
<span class="sd">                          ],</span>
<span class="sd">                          &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;release_date&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;release_date_precision&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;restrictions&quot;: {</span>
<span class="sd">                            &quot;reason&quot;: &lt;str&gt;</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;type&quot;: &quot;album&quot;,</span>
<span class="sd">                          &quot;uri&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;copyrights&quot;: [</span>
<span class="sd">                            {</span>
<span class="sd">                              &quot;text&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;type&quot;: &lt;str&gt;</span>
<span class="sd">                            }</span>
<span class="sd">                          ],</span>
<span class="sd">                          &quot;external_ids&quot;: {</span>
<span class="sd">                            &quot;isrc&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;ean&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;upc&quot;: &lt;str&gt;</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;genres&quot;: [&lt;str&gt;],</span>
<span class="sd">                          &quot;label&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;popularity&quot;: &lt;int&gt;,</span>
<span class="sd">                          &quot;album_group&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;artists&quot;: [</span>
<span class="sd">                            {</span>
<span class="sd">                              &quot;external_urls&quot;: {</span>
<span class="sd">                                &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                              },</span>
<span class="sd">                              &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;type&quot;: &quot;artist&quot;,</span>
<span class="sd">                              &quot;uri&quot;: &lt;str&gt;</span>
<span class="sd">                            }</span>
<span class="sd">                          ]</span>
<span class="sd">                        },</span>
<span class="sd">                        &quot;artists&quot;: [</span>
<span class="sd">                          {</span>
<span class="sd">                            &quot;external_urls&quot;: {</span>
<span class="sd">                              &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                            },</span>
<span class="sd">                            &quot;followers&quot;: {</span>
<span class="sd">                              &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;total&quot;: &lt;int&gt;</span>
<span class="sd">                            },</span>
<span class="sd">                            &quot;genres&quot;: [&lt;str&gt;],</span>
<span class="sd">                            &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;images&quot;: [</span>
<span class="sd">                              {</span>
<span class="sd">                                &quot;url&quot;: &lt;str&gt;,</span>
<span class="sd">                                &quot;height&quot;: &lt;int&gt;,</span>
<span class="sd">                                &quot;width&quot;: &lt;int&gt;</span>
<span class="sd">                              }</span>
<span class="sd">                            ],</span>
<span class="sd">                            &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;popularity&quot;: &lt;int&gt;,</span>
<span class="sd">                            &quot;type&quot;: &quot;artist&quot;,</span>
<span class="sd">                            &quot;uri&quot;: &lt;str&gt;</span>
<span class="sd">                          }</span>
<span class="sd">                        ],</span>
<span class="sd">                        &quot;available_markets&quot;: [&lt;str&gt;],</span>
<span class="sd">                        &quot;disc_number&quot;: &lt;int&gt;,</span>
<span class="sd">                        &quot;duration_ms&quot;: &lt;int&gt;,</span>
<span class="sd">                        &quot;explicit&quot;: &lt;bool&gt;,</span>
<span class="sd">                        &quot;external_ids&quot;: {</span>
<span class="sd">                          &quot;isrc&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;ean&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;upc&quot;: &lt;str&gt;</span>
<span class="sd">                        },</span>
<span class="sd">                        &quot;external_urls&quot;: {</span>
<span class="sd">                          &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                        },</span>
<span class="sd">                        &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;is_playable&quot;: &lt;bool&gt;</span>
<span class="sd">                        &quot;linked_from&quot;: {</span>
<span class="sd">                        },</span>
<span class="sd">                        &quot;restrictions&quot;: {</span>
<span class="sd">                          &quot;reason&quot;: &lt;str&gt;</span>
<span class="sd">                        },</span>
<span class="sd">                        &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;popularity&quot;: &lt;int&gt;,</span>
<span class="sd">                        &quot;preview_url&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;track_number&quot;: &lt;int&gt;,</span>
<span class="sd">                        &quot;type&quot;: &quot;track&quot;,</span>
<span class="sd">                        &quot;uri&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;is_local&quot;: &lt;bool&gt;</span>
<span class="sd">                      }</span>
<span class="sd">                    ]</span>
<span class="sd">                  }</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_json</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/recommendations&quot;</span><span class="p">,</span>
            <span class="n">params</span><span class="o">=</span><span class="p">{</span>
                <span class="s2">&quot;seed_artists&quot;</span><span class="p">:</span> <span class="n">seed_artists</span> <span class="k">if</span> <span class="n">seed_artists</span> <span class="ow">is</span> <span class="kc">None</span>
                                <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">seed_artists</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span>
                                <span class="k">else</span> <span class="s2">&quot;,&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">seed_artists</span><span class="p">),</span>
                <span class="s2">&quot;seed_genres&quot;</span><span class="p">:</span> <span class="n">seed_genres</span> <span class="k">if</span> <span class="n">seed_genres</span> <span class="ow">is</span> <span class="kc">None</span>
                               <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">seed_genres</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span>
                               <span class="k">else</span> <span class="s2">&quot;,&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">seed_genres</span><span class="p">),</span>
                <span class="s2">&quot;seed_tracks&quot;</span><span class="p">:</span> <span class="n">seed_tracks</span> <span class="k">if</span> <span class="n">seed_tracks</span> <span class="ow">is</span> <span class="kc">None</span>
                               <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">seed_tracks</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span>
                               <span class="k">else</span> <span class="s2">&quot;,&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">seed_tracks</span><span class="p">),</span>
                <span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="n">limit</span><span class="p">,</span>
                <span class="s2">&quot;market&quot;</span><span class="p">:</span> <span class="n">market</span><span class="p">,</span>
                <span class="o">**</span><span class="n">kwargs</span>
            <span class="p">}</span>
        <span class="p">)</span></div>


    <span class="c1">### USERS #################################################################</span>

<div class="viewcode-block" id="WebAPI.get_profile">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.get_profile">[docs]</a>
    <span class="k">def</span> <span class="nf">get_profile</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Users &gt; Get Current User&#39;s Profile</span>
<span class="sd">        &lt;https://developer.spotify.com/documentation/web-api/reference/</span>
<span class="sd">        get-current-users-profile&gt;`_: Get detailed profile</span>
<span class="sd">        information about the current user (including the current user&#39;s</span>
<span class="sd">        username).</span>

<span class="sd">        .. admonition:: Authorization scope</span>
<span class="sd">           :class: warning</span>
<span class="sd">        </span>
<span class="sd">           Requires the :code:`user-read-private` scope.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        user : `dict`</span>
<span class="sd">            A dictionary containing the current user&#39;s information.</span>

<span class="sd">            .. admonition:: Sample response</span>
<span class="sd">               :class: dropdown</span>

<span class="sd">               .. code::</span>

<span class="sd">                  {</span>
<span class="sd">                    &quot;country&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;display_name&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;email&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;explicit_content&quot;: {</span>
<span class="sd">                      &quot;filter_enabled&quot;: &lt;bool&gt;,</span>
<span class="sd">                      &quot;filter_locked&quot;: &lt;bool&gt;</span>
<span class="sd">                    },</span>
<span class="sd">                    &quot;external_urls&quot;: {</span>
<span class="sd">                      &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                    },</span>
<span class="sd">                    &quot;followers&quot;: {</span>
<span class="sd">                      &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;total&quot;: &lt;int&gt;</span>
<span class="sd">                    },</span>
<span class="sd">                    &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;images&quot;: [</span>
<span class="sd">                      {</span>
<span class="sd">                        &quot;url&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;height&quot;: &lt;int&gt;,</span>
<span class="sd">                        &quot;width&quot;: &lt;int&gt;</span>
<span class="sd">                      }</span>
<span class="sd">                    ],</span>
<span class="sd">                    &quot;product&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;type&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;uri&quot;: &lt;str&gt;</span>
<span class="sd">                  }</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_check_scope</span><span class="p">(</span><span class="s2">&quot;get_profile&quot;</span><span class="p">,</span> <span class="s2">&quot;user-read-private&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_json</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/me&quot;</span><span class="p">)</span></div>


<div class="viewcode-block" id="WebAPI.get_top_items">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.get_top_items">[docs]</a>
    <span class="k">def</span> <span class="nf">get_top_items</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="nb">type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">offset</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">time_range</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Users &gt; Get User&#39;s Top Items &lt;https://developer.spotify.com/</span>
<span class="sd">        documentation/web-api/reference/</span>
<span class="sd">        get-users-top-artists-and-tracks&gt;`_: Get the current user&#39;s top</span>
<span class="sd">        artists or tracks based on calculated affinity.</span>

<span class="sd">        .. admonition:: Authorization scope</span>
<span class="sd">           :class: warning</span>
<span class="sd">        </span>
<span class="sd">           Requires the :code:`user-top-read` scope.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        type : `str`</span>
<span class="sd">            The type of entity to return.</span>

<span class="sd">            **Valid values**: :code:`&quot;artists&quot;` and :code:`&quot;tracks&quot;`.</span>

<span class="sd">        limit : `int`, keyword-only, optional</span>
<span class="sd">            The maximum number of results to return in each item type.</span>
<span class="sd">            </span>
<span class="sd">            **Valid values**: `limit` must be between 0 and 50.</span>

<span class="sd">            **Default**: :code:`20`.</span>

<span class="sd">        offset : `int`, keyword-only, optional</span>
<span class="sd">            The index of the first result to return. Use with `limit` to</span>
<span class="sd">            get the next page of search results.</span>

<span class="sd">            **Default**: :code:`0`.</span>

<span class="sd">        time_range : `str`, keyword-only, optional</span>
<span class="sd">            Over what time frame the affinities are computed.</span>
<span class="sd">            </span>
<span class="sd">            .. container::</span>
<span class="sd">            </span>
<span class="sd">               **Valid values**: </span>
<span class="sd">               </span>
<span class="sd">               * :code:`&quot;long_term&quot;` (calculated from several years of</span>
<span class="sd">                 data and including all new data as it becomes </span>
<span class="sd">                 available).</span>
<span class="sd">               * :code:`&quot;medium_term&quot;` (approximately last 6 months).</span>
<span class="sd">               * :code:`&quot;short_term&quot;` (approximately last 4 weeks).</span>
<span class="sd">            </span>
<span class="sd">            **Default**: :code:`&quot;medium_term&quot;`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        items : `dict`</span>
<span class="sd">            A dictionary containing Spotify catalog information for a</span>
<span class="sd">            user&#39;s top items and the number of results returned.</span>

<span class="sd">            .. admonition:: Sample response</span>
<span class="sd">               :class: dropdown</span>

<span class="sd">               .. code::</span>

<span class="sd">                  {</span>
<span class="sd">                    &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;limit&quot;: &lt;int&gt;,</span>
<span class="sd">                    &quot;next&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;offset&quot;: &lt;int&gt;,</span>
<span class="sd">                    &quot;previous&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;total&quot;: &lt;int&gt;,</span>
<span class="sd">                    &quot;items&quot;: [</span>
<span class="sd">                      {</span>
<span class="sd">                        &quot;external_urls&quot;: {</span>
<span class="sd">                          &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                        },</span>
<span class="sd">                        &quot;followers&quot;: {</span>
<span class="sd">                          &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;total&quot;: &lt;int&gt;</span>
<span class="sd">                        },</span>
<span class="sd">                        &quot;genres&quot;: [&lt;str&gt;],</span>
<span class="sd">                        &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;images&quot;: [</span>
<span class="sd">                          {</span>
<span class="sd">                            &quot;url&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;height&quot;: &lt;int&gt;,</span>
<span class="sd">                            &quot;width&quot;: &lt;int&gt;</span>
<span class="sd">                          }</span>
<span class="sd">                        ],</span>
<span class="sd">                        &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;popularity&quot;: &lt;int&gt;,</span>
<span class="sd">                        &quot;type&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;uri&quot;: &lt;str&gt;</span>
<span class="sd">                      }</span>
<span class="sd">                    ]</span>
<span class="sd">                  }</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="nb">type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span><span class="n">TYPES</span> <span class="o">:=</span> <span class="p">{</span><span class="s2">&quot;artists&quot;</span><span class="p">,</span> <span class="s2">&quot;tracks&quot;</span><span class="p">}):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid entity type (</span><span class="si">{</span><span class="nb">type</span><span class="si">=}</span><span class="s2">). &quot;</span>
                             <span class="sa">f</span><span class="s2">&quot;Valid values: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">TYPES</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_check_scope</span><span class="p">(</span><span class="s2">&quot;get_top_items&quot;</span><span class="p">,</span> <span class="s2">&quot;user-top-read&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_json</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/me/top/</span><span class="si">{</span><span class="nb">type</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="n">limit</span><span class="p">,</span> <span class="s2">&quot;offset&quot;</span><span class="p">:</span> <span class="n">offset</span><span class="p">,</span> <span class="s2">&quot;time_range&quot;</span><span class="p">:</span> <span class="n">time_range</span><span class="p">}</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="WebAPI.get_user_profile">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.get_user_profile">[docs]</a>
    <span class="k">def</span> <span class="nf">get_user_profile</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Users &gt; Get User&#39;s Profile &lt;https://developer.spotify.com/</span>
<span class="sd">        documentation/web-api/reference/</span>
<span class="sd">        get-users-profile&gt;`_: Get public profile information about a</span>
<span class="sd">        Spotify user.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        user_id : `str`</span>
<span class="sd">            The user&#39;s Spotify user ID.</span>

<span class="sd">            **Example**: :code:`&quot;smedjan&quot;`</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        user : `dict`</span>
<span class="sd">            A dictionary containing the user&#39;s information.</span>

<span class="sd">            .. admonition:: Sample response</span>
<span class="sd">               :class: dropdown</span>

<span class="sd">               .. code::</span>

<span class="sd">                  {</span>
<span class="sd">                    &quot;display_name&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;external_urls&quot;: {</span>
<span class="sd">                      &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                    },</span>
<span class="sd">                    &quot;followers&quot;: {</span>
<span class="sd">                      &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;total&quot;: &lt;int&gt;</span>
<span class="sd">                    },</span>
<span class="sd">                    &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                    &quot;images&quot;: [</span>
<span class="sd">                      {</span>
<span class="sd">                        &quot;url&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;height&quot;: &lt;int&gt;,</span>
<span class="sd">                        &quot;width&quot;: &lt;int&gt;</span>
<span class="sd">                      }</span>
<span class="sd">                    ],</span>
<span class="sd">                    &quot;type&quot;: &quot;user&quot;,</span>
<span class="sd">                    &quot;uri&quot;: &lt;str&gt;</span>
<span class="sd">                  }</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_json</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/users/</span><span class="si">{</span><span class="n">user_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span></div>

    
<div class="viewcode-block" id="WebAPI.follow_playlist">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.follow_playlist">[docs]</a>
    <span class="k">def</span> <span class="nf">follow_playlist</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">playlist_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Users &gt; Follow Playlist &lt;https://developer.spotify.com/</span>
<span class="sd">        documentation/web-api/reference/follow-playlist&gt;`_:</span>
<span class="sd">        Add the current user as a follower of a playlist.</span>

<span class="sd">        .. admonition:: Authorization scope</span>
<span class="sd">           :class: warning</span>
<span class="sd">        </span>
<span class="sd">           Requires the :code:`playlist-modify-private` scope.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        playlist_id : `str`</span>
<span class="sd">            The Spotify ID of the playlist.</span>

<span class="sd">            **Example**: :code:`&quot;3cEYpjA9oz9GiPac4AsH4n&quot;`</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_check_scope</span><span class="p">(</span><span class="s2">&quot;follow_playlist&quot;</span><span class="p">,</span> <span class="s2">&quot;playlist-modify-private&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span><span class="s2">&quot;put&quot;</span><span class="p">,</span> 
                      <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/playlists/</span><span class="si">{</span><span class="n">playlist_id</span><span class="si">}</span><span class="s2">/followers&quot;</span><span class="p">)</span></div>


<div class="viewcode-block" id="WebAPI.unfollow_playlist">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.unfollow_playlist">[docs]</a>
    <span class="k">def</span> <span class="nf">unfollow_playlist</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">playlist_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Users &gt; Unfollow Playlist &lt;https://developer.spotify.com/</span>
<span class="sd">        documentation/web-api/reference/</span>
<span class="sd">        unfollow-playlist&gt;`_: Remove the current user as a follower of a</span>
<span class="sd">        playlist.</span>

<span class="sd">        .. admonition:: Authorization scope</span>
<span class="sd">           :class: warning</span>
<span class="sd">        </span>
<span class="sd">           Requires the :code:`playlist-modify-private` scope.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        playlist_id : `str`</span>
<span class="sd">            The Spotify ID of the playlist.</span>

<span class="sd">            **Example**: :code:`&quot;3cEYpjA9oz9GiPac4AsH4n&quot;`</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_check_scope</span><span class="p">(</span><span class="s2">&quot;unfollow_playlist&quot;</span><span class="p">,</span> <span class="s2">&quot;playlist-modify-private&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span><span class="s2">&quot;delete&quot;</span><span class="p">,</span> 
                      <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/playlists/</span><span class="si">{</span><span class="n">playlist_id</span><span class="si">}</span><span class="s2">/followers&quot;</span><span class="p">)</span></div>


<div class="viewcode-block" id="WebAPI.get_followed_artists">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.get_followed_artists">[docs]</a>
    <span class="k">def</span> <span class="nf">get_followed_artists</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">after</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Users &gt; Get Followed Artists &lt;https://developer.spotify.com/</span>
<span class="sd">        documentation/web-api/reference/get-followed&gt;`_: </span>
<span class="sd">        Get the current user&#39;s followed artists.</span>

<span class="sd">        .. admonition:: Authorization scope</span>
<span class="sd">           :class: warning</span>
<span class="sd">        </span>
<span class="sd">           Requires the :code:`user-follow-read` scope.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        after : `str`, keyword-only, optional</span>
<span class="sd">            The last artist ID retrieved from the previous request.</span>

<span class="sd">            **Example**: :code:`&quot;0I2XqVXqHScXjHhk6AYYRe&quot;`</span>
<span class="sd">        </span>
<span class="sd">        limit : `int`, keyword-only, optional</span>
<span class="sd">            The maximum number of results to return in each item type.</span>
<span class="sd">            </span>
<span class="sd">            **Valid values**: `limit` must be between 0 and 50.</span>

<span class="sd">            **Default**: :code:`20`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        artists : `dict`</span>
<span class="sd">            A dictionary containing Spotify catalog information for a</span>
<span class="sd">            user&#39;s followed artists and the number of results returned.</span>

<span class="sd">            .. admonition:: Sample response</span>
<span class="sd">               :class: dropdown</span>

<span class="sd">               .. code::</span>

<span class="sd">                  {</span>
<span class="sd">                      &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;limit&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;next&quot;: &lt;str&gt;,</span>
<span class="sd">                      &quot;cursors&quot;: {</span>
<span class="sd">                        &quot;after&quot;: &lt;str&gt;,</span>
<span class="sd">                        &quot;before&quot;: &lt;str&gt;</span>
<span class="sd">                      },</span>
<span class="sd">                      &quot;total&quot;: &lt;int&gt;,</span>
<span class="sd">                      &quot;items&quot;: [</span>
<span class="sd">                        {</span>
<span class="sd">                          &quot;external_urls&quot;: {</span>
<span class="sd">                            &quot;spotify&quot;: &lt;str&gt;</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;followers&quot;: {</span>
<span class="sd">                            &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                            &quot;total&quot;: &lt;int&gt;</span>
<span class="sd">                          },</span>
<span class="sd">                          &quot;genres&quot;: [&lt;str&gt;],</span>
<span class="sd">                          &quot;href&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;id&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;images&quot;: [</span>
<span class="sd">                            {</span>
<span class="sd">                              &quot;url&quot;: &lt;str&gt;,</span>
<span class="sd">                              &quot;height&quot;: &lt;int&gt;,</span>
<span class="sd">                              &quot;width&quot;: &lt;int&gt;</span>
<span class="sd">                            }</span>
<span class="sd">                          ],</span>
<span class="sd">                          &quot;name&quot;: &lt;str&gt;,</span>
<span class="sd">                          &quot;popularity&quot;: &lt;int&gt;,</span>
<span class="sd">                          &quot;type&quot;: &quot;artist&quot;,</span>
<span class="sd">                          &quot;uri&quot;: &lt;str&gt;</span>
<span class="sd">                        }</span>
<span class="sd">                      ]</span>
<span class="sd">                    }</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_check_scope</span><span class="p">(</span><span class="s2">&quot;get_followed_artists&quot;</span><span class="p">,</span> <span class="s2">&quot;user-follow-read&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_json</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/me/following&quot;</span><span class="p">,</span>
            <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;artist&quot;</span><span class="p">,</span> <span class="s2">&quot;after&quot;</span><span class="p">:</span> <span class="n">after</span><span class="p">,</span> <span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="n">limit</span><span class="p">}</span>
        <span class="p">)[</span><span class="s2">&quot;artists&quot;</span><span class="p">]</span></div>


<div class="viewcode-block" id="WebAPI.follow_people">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.follow_people">[docs]</a>
    <span class="k">def</span> <span class="nf">follow_people</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ids</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]],</span> <span class="nb">type</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Users &gt; Follow Artists or Users &lt;https://developer.spotify.com/</span>
<span class="sd">        documentation/web-api/reference/</span>
<span class="sd">        follow-artists-users&gt;`_: Add the current user as a follower of</span>
<span class="sd">        one or more artists or other Spotify users.</span>

<span class="sd">        .. admonition:: Authorization scope</span>
<span class="sd">           :class: warning</span>
<span class="sd">        </span>
<span class="sd">           Requires the :code:`user-follow-modify` scope.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        ids : `str` or `list`</span>
<span class="sd">            A (comma-separated) list of the artist or user Spotify IDs.</span>
<span class="sd">            </span>
<span class="sd">            **Maximum**: Up to 50 IDs can be sent in one request.</span>
<span class="sd">            </span>
<span class="sd">            **Example**: :code:`&quot;2CIMQHirSU0MQqyYHq0eOx,</span>
<span class="sd">            57dN52uHvrHOxijzpIgu3E, 1vCWHaC5f2uS3yhpwWbIA6&quot;`.</span>

<span class="sd">        type : `str`</span>
<span class="sd">            The ID type.</span>

<span class="sd">            **Valid values**: :code:`&quot;artist&quot;` and :code:`&quot;user&quot;`.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_check_scope</span><span class="p">(</span><span class="s2">&quot;follow_people&quot;</span><span class="p">,</span> <span class="s2">&quot;user-follow-modify&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ids</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span><span class="s2">&quot;put&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/me/following&quot;</span><span class="p">,</span>
                          <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;ids&quot;</span><span class="p">:</span> <span class="n">ids</span><span class="p">,</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">type</span><span class="p">})</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ids</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span><span class="s2">&quot;put&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/me/following&quot;</span><span class="p">,</span>
                          <span class="n">json</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;ids&quot;</span><span class="p">:</span> <span class="n">ids</span><span class="p">},</span> <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">type</span><span class="p">})</span></div>


<div class="viewcode-block" id="WebAPI.unfollow_people">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.unfollow_people">[docs]</a>
    <span class="k">def</span> <span class="nf">unfollow_people</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ids</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]],</span> <span class="nb">type</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Users &gt; Unfollow Artists or Users</span>
<span class="sd">        &lt;https://developer.spotify.com/documentation/web-api/reference/</span>
<span class="sd">        unfollow-artists-users&gt;`_: Remove the current user</span>
<span class="sd">        as a follower of one or more artists or other Spotify users.</span>

<span class="sd">        .. admonition:: Authorization scope</span>
<span class="sd">           :class: warning</span>
<span class="sd">        </span>
<span class="sd">           Requires the :code:`user-follow-modify` scope.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        ids : `str` or `list`</span>
<span class="sd">            A (comma-separated) list of the artist or user Spotify IDs.</span>
<span class="sd">                        </span>
<span class="sd">            **Maximum**: Up to 50 IDs can be sent in one request.</span>
<span class="sd">            </span>
<span class="sd">            **Example**: :code:`&quot;2CIMQHirSU0MQqyYHq0eOx,</span>
<span class="sd">            57dN52uHvrHOxijzpIgu3E, 1vCWHaC5f2uS3yhpwWbIA6&quot;`.</span>

<span class="sd">        type : `str`</span>
<span class="sd">            The ID type.</span>

<span class="sd">            **Valid values**: :code:`&quot;artist&quot;` and :code:`&quot;user&quot;`.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_check_scope</span><span class="p">(</span><span class="s2">&quot;unfollow_people&quot;</span><span class="p">,</span> <span class="s2">&quot;user-follow-modify&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ids</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span><span class="s2">&quot;delete&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/me/following&quot;</span><span class="p">,</span>
                          <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;ids&quot;</span><span class="p">:</span> <span class="n">ids</span><span class="p">,</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">type</span><span class="p">})</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ids</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span><span class="s2">&quot;delete&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/me/following&quot;</span><span class="p">,</span>
                          <span class="n">json</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;ids&quot;</span><span class="p">:</span> <span class="n">ids</span><span class="p">},</span> <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">type</span><span class="p">})</span></div>


<div class="viewcode-block" id="WebAPI.check_followed_people">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.check_followed_people">[docs]</a>
    <span class="k">def</span> <span class="nf">check_followed_people</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="n">ids</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]],</span> <span class="nb">type</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">bool</span><span class="p">]:</span>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Users &gt; Check If User Follows Artists or Users</span>
<span class="sd">        &lt;https://developer.spotify.com/documentation/web-api/reference/</span>
<span class="sd">        check-current-user-follows&gt;`_: Check to see if the</span>
<span class="sd">        current user is following one or more artists or other Spotify</span>
<span class="sd">        users.</span>

<span class="sd">        .. admonition:: Authorization scope</span>
<span class="sd">           :class: warning</span>
<span class="sd">        </span>
<span class="sd">           Requires the :code:`user-follow-read` scope.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        ids : `str` or `list`</span>
<span class="sd">            A (comma-separated) list of the artist or user Spotify IDs.</span>
<span class="sd">                        </span>
<span class="sd">            **Maximum**: Up to 50 IDs can be sent in one request.</span>
<span class="sd">            </span>
<span class="sd">            **Example**: :code:`&quot;2CIMQHirSU0MQqyYHq0eOx,</span>
<span class="sd">            57dN52uHvrHOxijzpIgu3E, 1vCWHaC5f2uS3yhpwWbIA6&quot;`.</span>

<span class="sd">        type : `str`</span>
<span class="sd">            The ID type.</span>

<span class="sd">            **Valid values**: :code:`&quot;artist&quot;` and :code:`&quot;user&quot;`.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        contains : `list`</span>
<span class="sd">            Array of booleans specifying whether the user follows the</span>
<span class="sd">            specified artists or Spotify users.</span>

<span class="sd">            **Example**: :code:`[False, True]`.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_check_scope</span><span class="p">(</span><span class="s2">&quot;check_followed_people&quot;</span><span class="p">,</span> <span class="s2">&quot;user-follow-read&quot;</span><span class="p">)</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_json</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/me/following/contains&quot;</span><span class="p">,</span>
            <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;ids&quot;</span><span class="p">:</span> <span class="n">ids</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ids</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="k">else</span> <span class="s2">&quot;,&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">ids</span><span class="p">),</span>
                    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">type</span><span class="p">}</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="WebAPI.check_playlist_followers">
<a class="viewcode-back" href="../../api/minim.spotify.WebAPI.html#minim.spotify.WebAPI.check_playlist_followers">[docs]</a>
    <span class="k">def</span> <span class="nf">check_playlist_followers</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="n">playlist_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">ids</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">bool</span><span class="p">]:</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `Users &gt; Check If Users Follow Playlist</span>
<span class="sd">        &lt;https://developer.spotify.com/documentation/web-api/reference/</span>
<span class="sd">        check-if-user-follows-playlist&gt;`_: Check to see if</span>
<span class="sd">        one or more Spotify users are following a specified playlist.</span>
<span class="sd">          </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        playlist_id : `str`</span>
<span class="sd">            The Spotify ID of the playlist.</span>

<span class="sd">            **Example**: :code:`&quot;3cEYpjA9oz9GiPac4AsH4n&quot;`.</span>

<span class="sd">        ids : `str` or `list`</span>
<span class="sd">            A (comma-separated) list of Spotify user IDs; the IDs of the</span>
<span class="sd">            users that you want to check to see if they follow the</span>
<span class="sd">            playlist. </span>
<span class="sd">            </span>
<span class="sd">            **Maximum**: 5 IDs.</span>
<span class="sd">            </span>
<span class="sd">            **Example**: :code:`&quot;jmperezperez,thelinmichael,wizzler&quot;`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        follows : `list`</span>
<span class="sd">            Array of booleans specifying whether the users follow the</span>
<span class="sd">            playlist.</span>

<span class="sd">            **Example**: :code:`[False, True]`.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_json</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">API_URL</span><span class="si">}</span><span class="s2">/playlists/</span><span class="si">{</span><span class="n">playlist_id</span><span class="si">}</span><span class="s2">/followers/contains&quot;</span><span class="p">,</span>
            <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;ids&quot;</span><span class="p">:</span> <span class="n">ids</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ids</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="k">else</span> <span class="s2">&quot;,&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">ids</span><span class="p">)}</span>
        <span class="p">)</span></div>
</div>

</pre></div>
        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          
          
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2023, Benjamin Ye
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer no-toc">
      
      
      
    </aside>
  </div>
</div><script src="../../_static/documentation_options.js?v=8d563738"></script>
    <script src="../../_static/doctools.js?v=888ff710"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/scripts/furo.js?v=32e29ea5"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=f281be69"></script>
    <script>let toggleHintShow = '';</script>
    <script>let toggleHintHide = '';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    </body>
</html>